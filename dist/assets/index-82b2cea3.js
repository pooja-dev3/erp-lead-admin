var Qp=Object.defineProperty;var Gp=(e,t,n)=>t in e?Qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xc=(e,t,n)=>(Gp(e,typeof t!="symbol"?t+"":t,n),n);function Kp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tu={exports:{}},Qa={},su={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),sf=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),af=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),yc=Symbol.iterator;function of(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var nu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ru=Object.assign,au={};function Cn(e,t,n){this.props=e,this.context=t,this.refs=au,this.updater=n||nu}Cn.prototype.isReactComponent={};Cn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lu(){}lu.prototype=Cn.prototype;function no(e,t,n){this.props=e,this.context=t,this.refs=au,this.updater=n||nu}var ro=no.prototype=new lu;ro.constructor=no;ru(ro,Cn.prototype);ro.isPureReactComponent=!0;var gc=Array.isArray,iu=Object.prototype.hasOwnProperty,ao={current:null},ou={key:!0,ref:!0,__self:!0,__source:!0};function cu(e,t,n){var r,a={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)iu.call(t,r)&&!ou.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:Sr,type:e,key:l,ref:i,props:a,_owner:ao.current}}function cf(e,t){return{$$typeof:Sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sr}function df(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vc=/\/+/g;function vl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?df(""+e.key):t.toString(36)}function ea(e,t,n,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Sr:case Xp:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+vl(i,0):r,gc(a)?(n="",e!=null&&(n=e.replace(vc,"$&/")+"/"),ea(a,t,n,"",function(d){return d})):a!=null&&(lo(a)&&(a=cf(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(vc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",gc(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+vl(l,o);i+=ea(l,t,n,c,a)}else if(c=of(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+vl(l,o++),i+=ea(l,t,n,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Dr(e,t,n){if(e==null)return e;var r=[],a=0;return ea(e,r,"","",function(l){return t.call(n,l,a++)}),r}function uf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},ta={transition:null},mf={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:ta,ReactCurrentOwner:ao};function du(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Dr,forEach:function(e,t,n){Dr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dr(e,function(){t++}),t},toArray:function(e){return Dr(e,function(t){return t})||[]},only:function(e){if(!lo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Cn;Z.Fragment=Yp;Z.Profiler=ef;Z.PureComponent=no;Z.StrictMode=Zp;Z.Suspense=rf;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf;Z.act=du;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ru({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=ao.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)iu.call(t,c)&&!ou.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Sr,type:e.type,key:a,ref:l,props:r,_owner:i}};Z.createContext=function(e){return e={$$typeof:sf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tf,_context:e},e.Consumer=e};Z.createElement=cu;Z.createFactory=function(e){var t=cu.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:nf,render:e}};Z.isValidElement=lo;Z.lazy=function(e){return{$$typeof:lf,_payload:{_status:-1,_result:e},_init:uf}};Z.memo=function(e,t){return{$$typeof:af,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};Z.unstable_act=du;Z.useCallback=function(e,t){return $e.current.useCallback(e,t)};Z.useContext=function(e){return $e.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};Z.useEffect=function(e,t){return $e.current.useEffect(e,t)};Z.useId=function(){return $e.current.useId()};Z.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return $e.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};Z.useRef=function(e){return $e.current.useRef(e)};Z.useState=function(e){return $e.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return $e.current.useTransition()};Z.version="18.3.1";su.exports=Z;var y=su.exports;const io=Jp(y),pf=Kp({__proto__:null,default:io},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=y,hf=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),yf=Object.prototype.hasOwnProperty,gf=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vf={key:!0,ref:!0,__self:!0,__source:!0};function uu(e,t,n){var r,a={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)yf.call(t,r)&&!vf.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:hf,type:e,key:l,ref:i,props:a,_owner:gf.current}}Qa.Fragment=xf;Qa.jsx=uu;Qa.jsxs=uu;tu.exports=Qa;var s=tu.exports,Xl={},mu={exports:{}},nt={},pu={exports:{}},fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,S){var L=E.length;E.push(S);e:for(;0<L;){var j=L-1>>>1,D=E[j];if(0<a(D,S))E[j]=S,E[L]=D,L=j;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var S=E[0],L=E.pop();if(L!==S){E[0]=L;e:for(var j=0,D=E.length,q=D>>>1;j<q;){var O=2*(j+1)-1,I=E[O],$=O+1,G=E[$];if(0>a(I,L))$<D&&0>a(G,I)?(E[j]=G,E[$]=L,j=$):(E[j]=I,E[O]=L,j=O);else if($<D&&0>a(G,L))E[j]=G,E[$]=L,j=$;else break e}}return S}function a(E,S){var L=E.sortIndex-S.sortIndex;return L!==0?L:E.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,p=null,x=3,b=!1,g=!1,k=!1,v=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var S=n(d);S!==null;){if(S.callback===null)r(d);else if(S.startTime<=E)r(d),S.sortIndex=S.expirationTime,t(c,S);else break;S=n(d)}}function w(E){if(k=!1,h(E),!g)if(n(c)!==null)g=!0,K(_);else{var S=n(d);S!==null&&C(w,S.startTime-E)}}function _(E,S){g=!1,k&&(k=!1,f(A),A=-1),b=!0;var L=x;try{for(h(S),p=n(c);p!==null&&(!(p.expirationTime>S)||E&&!z());){var j=p.callback;if(typeof j=="function"){p.callback=null,x=p.priorityLevel;var D=j(p.expirationTime<=S);S=e.unstable_now(),typeof D=="function"?p.callback=D:p===n(c)&&r(c),h(S)}else r(c);p=n(c)}if(p!==null)var q=!0;else{var O=n(d);O!==null&&C(w,O.startTime-S),q=!1}return q}finally{p=null,x=L,b=!1}}var T=!1,N=null,A=-1,P=5,U=-1;function z(){return!(e.unstable_now()-U<P)}function H(){if(N!==null){var E=e.unstable_now();U=E;var S=!0;try{S=N(!0,E)}finally{S?J():(T=!1,N=null)}}else T=!1}var J;if(typeof m=="function")J=function(){m(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=H,J=function(){X.postMessage(null)}}else J=function(){v(H,0)};function K(E){N=E,T||(T=!0,J())}function C(E,S){A=v(function(){E(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||b||(g=!0,K(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(x){case 1:case 2:case 3:var S=3;break;default:S=x}var L=x;x=S;try{return E()}finally{x=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,S){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=x;x=E;try{return S()}finally{x=L}},e.unstable_scheduleCallback=function(E,S,L){var j=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?j+L:j):L=j,E){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=L+D,E={id:u++,callback:S,priorityLevel:E,startTime:L,expirationTime:D,sortIndex:-1},L>j?(E.sortIndex=L,t(d,E),n(c)===null&&E===n(d)&&(k?(f(A),A=-1):k=!0,C(w,L-j))):(E.sortIndex=D,t(c,E),g||b||(g=!0,K(_))),E},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(E){var S=x;return function(){var L=x;x=S;try{return E.apply(this,arguments)}finally{x=L}}}})(fu);pu.exports=fu;var jf=pu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=y,st=jf;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hu=new Set,rr={};function Is(e,t){hn(e,t),hn(e+"Capture",t)}function hn(e,t){for(rr[e]=t,e=0;e<t.length;e++)hu.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,Nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc={},wc={};function bf(e){return Yl.call(wc,e)?!0:Yl.call(jc,e)?!1:Nf.test(e)?wc[e]=!0:(jc[e]=!0,!1)}function kf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sf(e,t,n,r){if(t===null||typeof t>"u"||kf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var oo=/[\-:]([a-z])/g;function co(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oo,co);Re[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oo,co);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oo,co);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function uo(e,t,n,r){var a=Re.hasOwnProperty(t)?Re[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sf(t,n,a,r)&&(n=null),r||a===null?bf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ur=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),mo=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),xu=Symbol.for("react.provider"),yu=Symbol.for("react.context"),po=Symbol.for("react.forward_ref"),ei=Symbol.for("react.suspense"),ti=Symbol.for("react.suspense_list"),fo=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),gu=Symbol.for("react.offscreen"),Nc=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,jl;function Vn(e){if(jl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jl=t&&t[1]||""}return`
`+jl+e}var wl=!1;function Nl(e,t){if(!e||wl)return"";wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vn(e):""}function Cf(e){switch(e.tag){case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function si(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ks:return"Fragment";case Gs:return"Portal";case Zl:return"Profiler";case mo:return"StrictMode";case ei:return"Suspense";case ti:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yu:return(e.displayName||"Context")+".Consumer";case xu:return(e._context.displayName||"Context")+".Provider";case po:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fo:return t=e.displayName||null,t!==null?t:si(e.type)||"Memo";case es:t=e._payload,e=e._init;try{return si(e(t))}catch{}}return null}function Ef(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return si(t);case 8:return t===mo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _f(e){var t=vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mr(e){e._valueTracker||(e._valueTracker=_f(e))}function ju(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ni(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wu(e,t){t=t.checked,t!=null&&uo(e,"checked",t,!1)}function ri(e,t){wu(e,t);var n=ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ai(e,t.type,n):t.hasOwnProperty("defaultValue")&&ai(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ai(e,t,n){(t!=="number"||xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hn=Array.isArray;function ln(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ys(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function li(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Hn(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ys(n)}}function Nu(e,t){var n=ys(t.value),r=ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ii(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ir,ku=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pf=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){Pf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function Su(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function Cu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Su(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Af=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(e,t){if(t){if(Af[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function ci(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ui=null,on=null,cn=null;function Ec(e){if(e=_r(e)){if(typeof ui!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Ya(t),ui(e.stateNode,e.type,t))}}function Eu(e){on?cn?cn.push(e):cn=[e]:on=e}function _u(){if(on){var e=on,t=cn;if(cn=on=null,Ec(e),t)for(e=0;e<t.length;e++)Ec(t[e])}}function Pu(e,t){return e(t)}function Au(){}var bl=!1;function Ru(e,t,n){if(bl)return e(t,n);bl=!0;try{return Pu(e,t,n)}finally{bl=!1,(on!==null||cn!==null)&&(Au(),_u())}}function lr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ya(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var mi=!1;if(Vt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){mi=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{mi=!1}function Rf(e,t,n,r,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Gn=!1,ya=null,ga=!1,pi=null,Lf={onError:function(e){Gn=!0,ya=e}};function Tf(e,t,n,r,a,l,i,o,c){Gn=!1,ya=null,Rf.apply(Lf,arguments)}function Of(e,t,n,r,a,l,i,o,c){if(Tf.apply(this,arguments),Gn){if(Gn){var d=ya;Gn=!1,ya=null}else throw Error(M(198));ga||(ga=!0,pi=d)}}function zs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _c(e){if(zs(e)!==e)throw Error(M(188))}function Ff(e){var t=e.alternate;if(!t){if(t=zs(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return _c(a),e;if(l===r)return _c(a),t;l=l.sibling}throw Error(M(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Tu(e){return e=Ff(e),e!==null?Ou(e):null}function Ou(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ou(e);if(t!==null)return t;e=e.sibling}return null}var Fu=st.unstable_scheduleCallback,Pc=st.unstable_cancelCallback,Df=st.unstable_shouldYield,Uf=st.unstable_requestPaint,he=st.unstable_now,Mf=st.unstable_getCurrentPriorityLevel,xo=st.unstable_ImmediatePriority,Du=st.unstable_UserBlockingPriority,va=st.unstable_NormalPriority,If=st.unstable_LowPriority,Uu=st.unstable_IdlePriority,Ga=null,_t=null;function zf(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Vf,$f=Math.log,Bf=Math.LN2;function Vf(e){return e>>>=0,e===0?32:31-($f(e)/Bf|0)|0}var zr=64,$r=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~a;o!==0?r=qn(o):(l&=i,l!==0&&(r=qn(l)))}else i=n&~a,i!==0?r=qn(i):l!==0&&(r=qn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),a=1<<n,r|=e[n],t&=~a;return r}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-ht(l),o=1<<i,c=a[i];c===-1?(!(o&n)||o&r)&&(a[i]=Hf(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function fi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mu(){var e=zr;return zr<<=1,!(zr&4194240)&&(zr=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function Wf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ht(n),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~l}}function yo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var se=0;function Iu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zu,go,$u,Bu,Vu,hi=!1,Br=[],is=null,os=null,cs=null,ir=new Map,or=new Map,ss=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":ir.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(t.pointerId)}}function Dn(e,t,n,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=_r(t),t!==null&&go(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Gf(e,t,n,r,a){switch(t){case"focusin":return is=Dn(is,e,t,n,r,a),!0;case"dragenter":return os=Dn(os,e,t,n,r,a),!0;case"mouseover":return cs=Dn(cs,e,t,n,r,a),!0;case"pointerover":var l=a.pointerId;return ir.set(l,Dn(ir.get(l)||null,e,t,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,or.set(l,Dn(or.get(l)||null,e,t,n,r,a)),!0}return!1}function Hu(e){var t=Cs(e.target);if(t!==null){var n=zs(t);if(n!==null){if(t=n.tag,t===13){if(t=Lu(n),t!==null){e.blockedOn=t,Vu(e.priority,function(){$u(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);di=r,n.target.dispatchEvent(r),di=null}else return t=_r(n),t!==null&&go(t),e.blockedOn=n,!1;t.shift()}return!0}function Rc(e,t,n){sa(e)&&n.delete(t)}function Kf(){hi=!1,is!==null&&sa(is)&&(is=null),os!==null&&sa(os)&&(os=null),cs!==null&&sa(cs)&&(cs=null),ir.forEach(Rc),or.forEach(Rc)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,hi||(hi=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Kf)))}function cr(e){function t(a){return Un(a,e)}if(0<Br.length){Un(Br[0],e);for(var n=1;n<Br.length;n++){var r=Br[n];r.blockedOn===e&&(r.blockedOn=null)}}for(is!==null&&Un(is,e),os!==null&&Un(os,e),cs!==null&&Un(cs,e),ir.forEach(t),or.forEach(t),n=0;n<ss.length;n++)r=ss[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)Hu(n),n.blockedOn===null&&ss.shift()}var dn=Gt.ReactCurrentBatchConfig,wa=!0;function Jf(e,t,n,r){var a=se,l=dn.transition;dn.transition=null;try{se=1,vo(e,t,n,r)}finally{se=a,dn.transition=l}}function Xf(e,t,n,r){var a=se,l=dn.transition;dn.transition=null;try{se=4,vo(e,t,n,r)}finally{se=a,dn.transition=l}}function vo(e,t,n,r){if(wa){var a=xi(e,t,n,r);if(a===null)Ol(e,t,r,Na,n),Ac(e,r);else if(Gf(a,e,t,n,r))r.stopPropagation();else if(Ac(e,r),t&4&&-1<Qf.indexOf(e)){for(;a!==null;){var l=_r(a);if(l!==null&&zu(l),l=xi(e,t,n,r),l===null&&Ol(e,t,r,Na,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else Ol(e,t,r,null,n)}}var Na=null;function xi(e,t,n,r){if(Na=null,e=ho(r),e=Cs(e),e!==null)if(t=zs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Na=e,null}function qu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mf()){case xo:return 1;case Du:return 4;case va:case If:return 16;case Uu:return 536870912;default:return 16}default:return 16}}var rs=null,jo=null,na=null;function Wu(){if(na)return na;var e,t=jo,n=t.length,r,a="value"in rs?rs.value:rs.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[l-r];r++);return na=a.slice(e,1<r?1-r:void 0)}function ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function Lc(){return!1}function rt(e){function t(n,r,a,l,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Vr:Lc,this.isPropagationStopped=Lc,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=rt(En),Er=ue({},En,{view:0,detail:0}),Yf=rt(Er),Sl,Cl,Mn,Ka=ue({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mn&&(Mn&&e.type==="mousemove"?(Sl=e.screenX-Mn.screenX,Cl=e.screenY-Mn.screenY):Cl=Sl=0,Mn=e),Sl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),Tc=rt(Ka),Zf=ue({},Ka,{dataTransfer:0}),eh=rt(Zf),th=ue({},Er,{relatedTarget:0}),El=rt(th),sh=ue({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=rt(sh),rh=ue({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ah=rt(rh),lh=ue({},En,{data:0}),Oc=rt(lh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ch[e])?!!t[e]:!1}function No(){return dh}var uh=ue({},Er,{key:function(e){if(e.key){var t=ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mh=rt(uh),ph=ue({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=rt(ph),fh=ue({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),hh=rt(fh),xh=ue({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=rt(xh),gh=ue({},Ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=rt(gh),jh=[9,13,27,32],bo=Vt&&"CompositionEvent"in window,Kn=null;Vt&&"documentMode"in document&&(Kn=document.documentMode);var wh=Vt&&"TextEvent"in window&&!Kn,Qu=Vt&&(!bo||Kn&&8<Kn&&11>=Kn),Dc=String.fromCharCode(32),Uc=!1;function Gu(e,t){switch(e){case"keyup":return jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function Nh(e,t){switch(e){case"compositionend":return Ku(t);case"keypress":return t.which!==32?null:(Uc=!0,Dc);case"textInput":return e=t.data,e===Dc&&Uc?null:e;default:return null}}function bh(e,t){if(Js)return e==="compositionend"||!bo&&Gu(e,t)?(e=Wu(),na=jo=rs=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qu&&t.locale!=="ko"?null:t.data;default:return null}}var kh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kh[e.type]:t==="textarea"}function Ju(e,t,n,r){Eu(r),t=ba(t,"onChange"),0<t.length&&(n=new wo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,dr=null;function Sh(e){im(e,0)}function Ja(e){var t=Zs(e);if(ju(t))return e}function Ch(e,t){if(e==="change")return t}var Xu=!1;if(Vt){var _l;if(Vt){var Pl="oninput"in document;if(!Pl){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Pl=typeof Ic.oninput=="function"}_l=Pl}else _l=!1;Xu=_l&&(!document.documentMode||9<document.documentMode)}function zc(){Jn&&(Jn.detachEvent("onpropertychange",Yu),dr=Jn=null)}function Yu(e){if(e.propertyName==="value"&&Ja(dr)){var t=[];Ju(t,dr,e,ho(e)),Ru(Sh,t)}}function Eh(e,t,n){e==="focusin"?(zc(),Jn=t,dr=n,Jn.attachEvent("onpropertychange",Yu)):e==="focusout"&&zc()}function _h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(dr)}function Ph(e,t){if(e==="click")return Ja(t)}function Ah(e,t){if(e==="input"||e==="change")return Ja(t)}function Rh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Rh;function ur(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Yl.call(t,a)||!vt(e[a],t[a]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bc(e,t){var n=$c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$c(n)}}function Zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function em(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xa(e.document)}return t}function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lh(e){var t=em(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zu(n.ownerDocument.documentElement,n)){if(r!==null&&ko(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=Bc(n,l);var i=Bc(n,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Th=Vt&&"documentMode"in document&&11>=document.documentMode,Xs=null,yi=null,Xn=null,gi=!1;function Vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gi||Xs==null||Xs!==xa(r)||(r=Xs,"selectionStart"in r&&ko(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xn&&ur(Xn,r)||(Xn=r,r=ba(yi,"onSelect"),0<r.length&&(t=new wo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xs)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ys={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionend:Hr("Transition","TransitionEnd")},Al={},tm={};Vt&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Xa(e){if(Al[e])return Al[e];if(!Ys[e])return e;var t=Ys[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tm)return Al[e]=t[n];return e}var sm=Xa("animationend"),nm=Xa("animationiteration"),rm=Xa("animationstart"),am=Xa("transitionend"),lm=new Map,Hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){lm.set(e,t),Is(t,[e])}for(var Rl=0;Rl<Hc.length;Rl++){var Ll=Hc[Rl],Oh=Ll.toLowerCase(),Fh=Ll[0].toUpperCase()+Ll.slice(1);vs(Oh,"on"+Fh)}vs(sm,"onAnimationEnd");vs(nm,"onAnimationIteration");vs(rm,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(am,"onTransitionEnd");hn("onMouseEnter",["mouseout","mouseover"]);hn("onMouseLeave",["mouseout","mouseover"]);hn("onPointerEnter",["pointerout","pointerover"]);hn("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn));function qc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Of(r,t,void 0,e),e.currentTarget=null}function im(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;qc(a,o,d),l=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;qc(a,o,d),l=c}}}if(ga)throw e=pi,ga=!1,pi=null,e}function ae(e,t){var n=t[bi];n===void 0&&(n=t[bi]=new Set);var r=e+"__bubble";n.has(r)||(om(t,e,2,!1),n.add(r))}function Tl(e,t,n){var r=0;t&&(r|=4),om(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function mr(e){if(!e[qr]){e[qr]=!0,hu.forEach(function(n){n!=="selectionchange"&&(Dh.has(n)||Tl(n,!1,e),Tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qr]||(t[qr]=!0,Tl("selectionchange",!1,t))}}function om(e,t,n,r){switch(qu(t)){case 1:var a=Jf;break;case 4:a=Xf;break;default:a=vo}n=a.bind(null,t,n,e),a=void 0,!mi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ol(e,t,n,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Cs(o),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}o=o.parentNode}}r=r.return}Ru(function(){var d=l,u=ho(n),p=[];e:{var x=lm.get(e);if(x!==void 0){var b=wo,g=e;switch(e){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":b=mh;break;case"focusin":g="focus",b=El;break;case"focusout":g="blur",b=El;break;case"beforeblur":case"afterblur":b=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=hh;break;case sm:case nm:case rm:b=nh;break;case am:b=yh;break;case"scroll":b=Yf;break;case"wheel":b=vh;break;case"copy":case"cut":case"paste":b=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Fc}var k=(t&4)!==0,v=!k&&e==="scroll",f=k?x!==null?x+"Capture":null:x;k=[];for(var m=d,h;m!==null;){h=m;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,f!==null&&(w=lr(m,f),w!=null&&k.push(pr(m,w,h)))),v)break;m=m.return}0<k.length&&(x=new b(x,g,null,n,u),p.push({event:x,listeners:k}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",x&&n!==di&&(g=n.relatedTarget||n.fromElement)&&(Cs(g)||g[Ht]))break e;if((b||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,b?(g=n.relatedTarget||n.toElement,b=d,g=g?Cs(g):null,g!==null&&(v=zs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(b=null,g=d),b!==g)){if(k=Tc,w="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(k=Fc,w="onPointerLeave",f="onPointerEnter",m="pointer"),v=b==null?x:Zs(b),h=g==null?x:Zs(g),x=new k(w,m+"leave",b,n,u),x.target=v,x.relatedTarget=h,w=null,Cs(u)===d&&(k=new k(f,m+"enter",g,n,u),k.target=h,k.relatedTarget=v,w=k),v=w,b&&g)t:{for(k=b,f=g,m=0,h=k;h;h=Qs(h))m++;for(h=0,w=f;w;w=Qs(w))h++;for(;0<m-h;)k=Qs(k),m--;for(;0<h-m;)f=Qs(f),h--;for(;m--;){if(k===f||f!==null&&k===f.alternate)break t;k=Qs(k),f=Qs(f)}k=null}else k=null;b!==null&&Wc(p,x,b,k,!1),g!==null&&v!==null&&Wc(p,v,g,k,!0)}}e:{if(x=d?Zs(d):window,b=x.nodeName&&x.nodeName.toLowerCase(),b==="select"||b==="input"&&x.type==="file")var _=Ch;else if(Mc(x))if(Xu)_=Ah;else{_=_h;var T=Eh}else(b=x.nodeName)&&b.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(_=Ph);if(_&&(_=_(e,d))){Ju(p,_,n,u);break e}T&&T(e,x,d),e==="focusout"&&(T=x._wrapperState)&&T.controlled&&x.type==="number"&&ai(x,"number",x.value)}switch(T=d?Zs(d):window,e){case"focusin":(Mc(T)||T.contentEditable==="true")&&(Xs=T,yi=d,Xn=null);break;case"focusout":Xn=yi=Xs=null;break;case"mousedown":gi=!0;break;case"contextmenu":case"mouseup":case"dragend":gi=!1,Vc(p,n,u);break;case"selectionchange":if(Th)break;case"keydown":case"keyup":Vc(p,n,u)}var N;if(bo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Js?Gu(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Qu&&n.locale!=="ko"&&(Js||A!=="onCompositionStart"?A==="onCompositionEnd"&&Js&&(N=Wu()):(rs=u,jo="value"in rs?rs.value:rs.textContent,Js=!0)),T=ba(d,A),0<T.length&&(A=new Oc(A,e,null,n,u),p.push({event:A,listeners:T}),N?A.data=N:(N=Ku(n),N!==null&&(A.data=N)))),(N=wh?Nh(e,n):bh(e,n))&&(d=ba(d,"onBeforeInput"),0<d.length&&(u=new Oc("onBeforeInput","beforeinput",null,n,u),p.push({event:u,listeners:d}),u.data=N))}im(p,t)})}function pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ba(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=lr(e,n),l!=null&&r.unshift(pr(e,l,a)),l=lr(e,t),l!=null&&r.push(pr(e,l,a))),e=e.return}return r}function Qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wc(e,t,n,r,a){for(var l=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=lr(n,l),c!=null&&i.unshift(pr(n,c,o))):a||(c=lr(n,l),c!=null&&i.push(pr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Uh=/\r\n?/g,Mh=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(Uh,`
`).replace(Mh,"")}function Wr(e,t,n){if(t=Qc(t),Qc(e)!==t&&n)throw Error(M(425))}function ka(){}var vi=null,ji=null;function wi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ni=typeof setTimeout=="function"?setTimeout:void 0,Ih=typeof clearTimeout=="function"?clearTimeout:void 0,Gc=typeof Promise=="function"?Promise:void 0,zh=typeof queueMicrotask=="function"?queueMicrotask:typeof Gc<"u"?function(e){return Gc.resolve(null).then(e).catch($h)}:Ni;function $h(e){setTimeout(function(){throw e})}function Fl(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),cr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);cr(t)}function ds(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _n=Math.random().toString(36).slice(2),Ct="__reactFiber$"+_n,fr="__reactProps$"+_n,Ht="__reactContainer$"+_n,bi="__reactEvents$"+_n,Bh="__reactListeners$"+_n,Vh="__reactHandles$"+_n;function Cs(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kc(e);e!==null;){if(n=e[Ct])return n;e=Kc(e)}return t}e=n,n=e.parentNode}return null}function _r(e){return e=e[Ct]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Ya(e){return e[fr]||null}var ki=[],en=-1;function js(e){return{current:e}}function le(e){0>en||(e.current=ki[en],ki[en]=null,en--)}function re(e,t){en++,ki[en]=e.current,e.current=t}var gs={},Ue=js(gs),Qe=js(!1),Ts=gs;function xn(e,t){var n=e.type.contextTypes;if(!n)return gs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ge(e){return e=e.childContextTypes,e!=null}function Sa(){le(Qe),le(Ue)}function Jc(e,t,n){if(Ue.current!==gs)throw Error(M(168));re(Ue,t),re(Qe,n)}function cm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(M(108,Ef(e)||"Unknown",a));return ue({},n,r)}function Ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,Ts=Ue.current,re(Ue,e),re(Qe,Qe.current),!0}function Xc(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=cm(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,le(Qe),le(Ue),re(Ue,e)):le(Qe),re(Qe,n)}var It=null,Za=!1,Dl=!1;function dm(e){It===null?It=[e]:It.push(e)}function Hh(e){Za=!0,dm(e)}function ws(){if(!Dl&&It!==null){Dl=!0;var e=0,t=se;try{var n=It;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}It=null,Za=!1}catch(a){throw It!==null&&(It=It.slice(e+1)),Fu(xo,ws),a}finally{se=t,Dl=!1}}return null}var tn=[],sn=0,Ea=null,_a=0,at=[],lt=0,Os=null,zt=1,$t="";function Ns(e,t){tn[sn++]=_a,tn[sn++]=Ea,Ea=e,_a=t}function um(e,t,n){at[lt++]=zt,at[lt++]=$t,at[lt++]=Os,Os=e;var r=zt;e=$t;var a=32-ht(r)-1;r&=~(1<<a),n+=1;var l=32-ht(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,zt=1<<32-ht(t)+a|n<<a|r,$t=l+e}else zt=1<<l|n<<a|r,$t=e}function So(e){e.return!==null&&(Ns(e,1),um(e,1,0))}function Co(e){for(;e===Ea;)Ea=tn[--sn],tn[sn]=null,_a=tn[--sn],tn[sn]=null;for(;e===Os;)Os=at[--lt],at[lt]=null,$t=at[--lt],at[lt]=null,zt=at[--lt],at[lt]=null}var tt=null,et=null,ie=!1,ft=null;function mm(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=ds(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Os!==null?{id:zt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Si(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ci(e){if(ie){var t=et;if(t){var n=t;if(!Yc(e,t)){if(Si(e))throw Error(M(418));t=ds(n.nextSibling);var r=tt;t&&Yc(e,t)?mm(r,n):(e.flags=e.flags&-4097|2,ie=!1,tt=e)}}else{if(Si(e))throw Error(M(418));e.flags=e.flags&-4097|2,ie=!1,tt=e}}}function Zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Qr(e){if(e!==tt)return!1;if(!ie)return Zc(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wi(e.type,e.memoizedProps)),t&&(t=et)){if(Si(e))throw pm(),Error(M(418));for(;t;)mm(e,t),t=ds(t.nextSibling)}if(Zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=ds(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?ds(e.stateNode.nextSibling):null;return!0}function pm(){for(var e=et;e;)e=ds(e.nextSibling)}function yn(){et=tt=null,ie=!1}function Eo(e){ft===null?ft=[e]:ft.push(e)}var qh=Gt.ReactCurrentBatchConfig;function In(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Gr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ed(e){var t=e._init;return t(e._payload)}function fm(e){function t(f,m){if(e){var h=f.deletions;h===null?(f.deletions=[m],f.flags|=16):h.push(m)}}function n(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function r(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function a(f,m){return f=fs(f,m),f.index=0,f.sibling=null,f}function l(f,m,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<m?(f.flags|=2,m):h):(f.flags|=2,m)):(f.flags|=1048576,m)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,m,h,w){return m===null||m.tag!==6?(m=Vl(h,f.mode,w),m.return=f,m):(m=a(m,h),m.return=f,m)}function c(f,m,h,w){var _=h.type;return _===Ks?u(f,m,h.props.children,w,h.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===es&&ed(_)===m.type)?(w=a(m,h.props),w.ref=In(f,m,h),w.return=f,w):(w=ua(h.type,h.key,h.props,null,f.mode,w),w.ref=In(f,m,h),w.return=f,w)}function d(f,m,h,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=Hl(h,f.mode,w),m.return=f,m):(m=a(m,h.children||[]),m.return=f,m)}function u(f,m,h,w,_){return m===null||m.tag!==7?(m=Rs(h,f.mode,w,_),m.return=f,m):(m=a(m,h),m.return=f,m)}function p(f,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Vl(""+m,f.mode,h),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ur:return h=ua(m.type,m.key,m.props,null,f.mode,h),h.ref=In(f,null,m),h.return=f,h;case Gs:return m=Hl(m,f.mode,h),m.return=f,m;case es:var w=m._init;return p(f,w(m._payload),h)}if(Hn(m)||On(m))return m=Rs(m,f.mode,h,null),m.return=f,m;Gr(f,m)}return null}function x(f,m,h,w){var _=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:o(f,m,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ur:return h.key===_?c(f,m,h,w):null;case Gs:return h.key===_?d(f,m,h,w):null;case es:return _=h._init,x(f,m,_(h._payload),w)}if(Hn(h)||On(h))return _!==null?null:u(f,m,h,w,null);Gr(f,h)}return null}function b(f,m,h,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(h)||null,o(m,f,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ur:return f=f.get(w.key===null?h:w.key)||null,c(m,f,w,_);case Gs:return f=f.get(w.key===null?h:w.key)||null,d(m,f,w,_);case es:var T=w._init;return b(f,m,h,T(w._payload),_)}if(Hn(w)||On(w))return f=f.get(h)||null,u(m,f,w,_,null);Gr(m,w)}return null}function g(f,m,h,w){for(var _=null,T=null,N=m,A=m=0,P=null;N!==null&&A<h.length;A++){N.index>A?(P=N,N=null):P=N.sibling;var U=x(f,N,h[A],w);if(U===null){N===null&&(N=P);break}e&&N&&U.alternate===null&&t(f,N),m=l(U,m,A),T===null?_=U:T.sibling=U,T=U,N=P}if(A===h.length)return n(f,N),ie&&Ns(f,A),_;if(N===null){for(;A<h.length;A++)N=p(f,h[A],w),N!==null&&(m=l(N,m,A),T===null?_=N:T.sibling=N,T=N);return ie&&Ns(f,A),_}for(N=r(f,N);A<h.length;A++)P=b(N,f,A,h[A],w),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?A:P.key),m=l(P,m,A),T===null?_=P:T.sibling=P,T=P);return e&&N.forEach(function(z){return t(f,z)}),ie&&Ns(f,A),_}function k(f,m,h,w){var _=On(h);if(typeof _!="function")throw Error(M(150));if(h=_.call(h),h==null)throw Error(M(151));for(var T=_=null,N=m,A=m=0,P=null,U=h.next();N!==null&&!U.done;A++,U=h.next()){N.index>A?(P=N,N=null):P=N.sibling;var z=x(f,N,U.value,w);if(z===null){N===null&&(N=P);break}e&&N&&z.alternate===null&&t(f,N),m=l(z,m,A),T===null?_=z:T.sibling=z,T=z,N=P}if(U.done)return n(f,N),ie&&Ns(f,A),_;if(N===null){for(;!U.done;A++,U=h.next())U=p(f,U.value,w),U!==null&&(m=l(U,m,A),T===null?_=U:T.sibling=U,T=U);return ie&&Ns(f,A),_}for(N=r(f,N);!U.done;A++,U=h.next())U=b(N,f,A,U.value,w),U!==null&&(e&&U.alternate!==null&&N.delete(U.key===null?A:U.key),m=l(U,m,A),T===null?_=U:T.sibling=U,T=U);return e&&N.forEach(function(H){return t(f,H)}),ie&&Ns(f,A),_}function v(f,m,h,w){if(typeof h=="object"&&h!==null&&h.type===Ks&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ur:e:{for(var _=h.key,T=m;T!==null;){if(T.key===_){if(_=h.type,_===Ks){if(T.tag===7){n(f,T.sibling),m=a(T,h.props.children),m.return=f,f=m;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===es&&ed(_)===T.type){n(f,T.sibling),m=a(T,h.props),m.ref=In(f,T,h),m.return=f,f=m;break e}n(f,T);break}else t(f,T);T=T.sibling}h.type===Ks?(m=Rs(h.props.children,f.mode,w,h.key),m.return=f,f=m):(w=ua(h.type,h.key,h.props,null,f.mode,w),w.ref=In(f,m,h),w.return=f,f=w)}return i(f);case Gs:e:{for(T=h.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(f,m.sibling),m=a(m,h.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else t(f,m);m=m.sibling}m=Hl(h,f.mode,w),m.return=f,f=m}return i(f);case es:return T=h._init,v(f,m,T(h._payload),w)}if(Hn(h))return g(f,m,h,w);if(On(h))return k(f,m,h,w);Gr(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(f,m.sibling),m=a(m,h),m.return=f,f=m):(n(f,m),m=Vl(h,f.mode,w),m.return=f,f=m),i(f)):n(f,m)}return v}var gn=fm(!0),hm=fm(!1),Pa=js(null),Aa=null,nn=null,_o=null;function Po(){_o=nn=Aa=null}function Ao(e){var t=Pa.current;le(Pa),e._currentValue=t}function Ei(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){Aa=e,_o=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(Aa===null)throw Error(M(308));nn=e,Aa.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var Es=null;function Ro(e){Es===null?Es=[e]:Es.push(e)}function xm(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Ro(t)):(n.next=a.next,a.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ts=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ym(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function us(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,qt(e,n)}return a=r.interleaved,a===null?(t.next=t,Ro(r)):(t.next=a.next,a.next=t),r.interleaved=t,qt(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yo(e,n)}}function td(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var a=e.updateQueue;ts=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var p=a.baseState;i=0,u=d=c=null,o=l;do{var x=o.lane,b=o.eventTime;if((r&x)===x){u!==null&&(u=u.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,k=o;switch(x=t,b=n,k.tag){case 1:if(g=k.payload,typeof g=="function"){p=g.call(b,p,x);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=k.payload,x=typeof g=="function"?g.call(b,p,x):g,x==null)break e;p=ue({},p,x);break e;case 2:ts=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else b={eventTime:b,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=b,c=p):u=u.next=b,i|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(1);if(u===null&&(c=p),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Ds|=i,e.lanes=i,e.memoizedState=p}}function sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(M(191,a));a.call(r)}}}var Pr={},Pt=js(Pr),hr=js(Pr),xr=js(Pr);function _s(e){if(e===Pr)throw Error(M(174));return e}function To(e,t){switch(re(xr,t),re(hr,e),re(Pt,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ii(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ii(t,e)}le(Pt),re(Pt,t)}function vn(){le(Pt),le(hr),le(xr)}function gm(e){_s(xr.current);var t=_s(Pt.current),n=ii(t,e.type);t!==n&&(re(hr,e),re(Pt,n))}function Oo(e){hr.current===e&&(le(Pt),le(hr))}var oe=js(0);function La(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=[];function Fo(){for(var e=0;e<Ul.length;e++)Ul[e]._workInProgressVersionPrimary=null;Ul.length=0}var la=Gt.ReactCurrentDispatcher,Ml=Gt.ReactCurrentBatchConfig,Fs=0,ce=null,we=null,Se=null,Ta=!1,Yn=!1,yr=0,Wh=0;function Te(){throw Error(M(321))}function Do(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Uo(e,t,n,r,a,l){if(Fs=l,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?Jh:Xh,e=n(r,a),Yn){l=0;do{if(Yn=!1,yr=0,25<=l)throw Error(M(301));l+=1,Se=we=null,t.updateQueue=null,la.current=Yh,e=n(r,a)}while(Yn)}if(la.current=Oa,t=we!==null&&we.next!==null,Fs=0,Se=we=ce=null,Ta=!1,t)throw Error(M(300));return e}function Mo(){var e=yr!==0;return yr=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ce.memoizedState=Se=e:Se=Se.next=e,Se}function dt(){if(we===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Se===null?ce.memoizedState:Se.next;if(t!==null)Se=t,we=e;else{if(e===null)throw Error(M(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?ce.memoizedState=Se=e:Se=Se.next=e}return Se}function gr(e,t){return typeof t=="function"?t(e):t}function Il(e){var t=dt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=we,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Fs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,i=r):c=c.next=p,ce.lanes|=u,Ds|=u}d=d.next}while(d!==null&&d!==l);c===null?i=r:c.next=o,vt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do l=a.lane,ce.lanes|=l,Ds|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=dt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);vt(l,t.memoizedState)||(We=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function vm(){}function jm(e,t){var n=ce,r=dt(),a=t(),l=!vt(r.memoizedState,a);if(l&&(r.memoizedState=a,We=!0),r=r.queue,Io(bm.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,vr(9,Nm.bind(null,n,r,a,t),void 0,null),Ce===null)throw Error(M(349));Fs&30||wm(n,t,a)}return a}function wm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nm(e,t,n,r){t.value=n,t.getSnapshot=r,km(t)&&Sm(e)}function bm(e,t,n){return n(function(){km(t)&&Sm(e)})}function km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Sm(e){var t=qt(e,1);t!==null&&xt(t,e,1,-1)}function nd(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},t.queue=e,e=e.dispatch=Kh.bind(null,ce,e),[t.memoizedState,e]}function vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cm(){return dt().memoizedState}function ia(e,t,n,r){var a=St();ce.flags|=e,a.memoizedState=vr(1|t,n,void 0,r===void 0?null:r)}function el(e,t,n,r){var a=dt();r=r===void 0?null:r;var l=void 0;if(we!==null){var i=we.memoizedState;if(l=i.destroy,r!==null&&Do(r,i.deps)){a.memoizedState=vr(t,n,l,r);return}}ce.flags|=e,a.memoizedState=vr(1|t,n,l,r)}function rd(e,t){return ia(8390656,8,e,t)}function Io(e,t){return el(2048,8,e,t)}function Em(e,t){return el(4,2,e,t)}function _m(e,t){return el(4,4,e,t)}function Pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Am(e,t,n){return n=n!=null?n.concat([e]):null,el(4,4,Pm.bind(null,t,e),n)}function zo(){}function Rm(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Do(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lm(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Do(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tm(e,t,n){return Fs&21?(vt(n,t)||(n=Mu(),ce.lanes|=n,Ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Qh(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Ml.transition;Ml.transition={};try{e(!1),t()}finally{se=n,Ml.transition=r}}function Om(){return dt().memoizedState}function Gh(e,t,n){var r=ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fm(e))Dm(t,n);else if(n=xm(e,t,n,r),n!==null){var a=ze();xt(n,e,r,a),Um(n,t,r)}}function Kh(e,t,n){var r=ps(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fm(e))Dm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,n);if(a.hasEagerState=!0,a.eagerState=o,vt(o,i)){var c=t.interleaved;c===null?(a.next=a,Ro(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=xm(e,t,a,r),n!==null&&(a=ze(),xt(n,e,r,a),Um(n,t,r))}}function Fm(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Dm(e,t){Yn=Ta=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Um(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yo(e,n)}}var Oa={readContext:ct,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Jh={readContext:ct,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:rd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ia(4194308,4,Pm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=St();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gh.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:nd,useDebugValue:zo,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=nd(!1),t=e[0];return e=Qh.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,a=St();if(ie){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ce===null)throw Error(M(349));Fs&30||wm(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,rd(bm.bind(null,r,l,e),[e]),r.flags|=2048,vr(9,Nm.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=St(),t=Ce.identifierPrefix;if(ie){var n=$t,r=zt;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xh={readContext:ct,useCallback:Rm,useContext:ct,useEffect:Io,useImperativeHandle:Am,useInsertionEffect:Em,useLayoutEffect:_m,useMemo:Lm,useReducer:Il,useRef:Cm,useState:function(){return Il(gr)},useDebugValue:zo,useDeferredValue:function(e){var t=dt();return Tm(t,we.memoizedState,e)},useTransition:function(){var e=Il(gr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:vm,useSyncExternalStore:jm,useId:Om,unstable_isNewReconciler:!1},Yh={readContext:ct,useCallback:Rm,useContext:ct,useEffect:Io,useImperativeHandle:Am,useInsertionEffect:Em,useLayoutEffect:_m,useMemo:Lm,useReducer:zl,useRef:Cm,useState:function(){return zl(gr)},useDebugValue:zo,useDeferredValue:function(e){var t=dt();return we===null?t.memoizedState=e:Tm(t,we.memoizedState,e)},useTransition:function(){var e=zl(gr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:vm,useSyncExternalStore:jm,useId:Om,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _i(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tl={isMounted:function(e){return(e=e._reactInternals)?zs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),a=ps(e),l=Bt(r,a);l.payload=t,n!=null&&(l.callback=n),t=us(e,l,a),t!==null&&(xt(t,e,a,r),aa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),a=ps(e),l=Bt(r,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=us(e,l,a),t!==null&&(xt(t,e,a,r),aa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=ps(e),a=Bt(n,r);a.tag=2,t!=null&&(a.callback=t),t=us(e,a,r),t!==null&&(xt(t,e,r,n),aa(t,e,r))}};function ad(e,t,n,r,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!ur(n,r)||!ur(a,l):!0}function Mm(e,t,n){var r=!1,a=gs,l=t.contextType;return typeof l=="object"&&l!==null?l=ct(l):(a=Ge(t)?Ts:Ue.current,r=t.contextTypes,l=(r=r!=null)?xn(e,a):gs),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function ld(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function Pi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Lo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=ct(l):(l=Ge(t)?Ts:Ue.current,a.context=xn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(_i(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&tl.enqueueReplaceState(a,a.state,null),Ra(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function jn(e,t){try{var n="",r=t;do n+=Cf(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function $l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ai(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zh=typeof WeakMap=="function"?WeakMap:Map;function Im(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Da||(Da=!0,zi=r),Ai(e,t)},n}function zm(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Ai(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ai(e,t),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zh;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=px.bind(null,e,t,n),t.then(e,e))}function od(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cd(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,us(n,t,1))),n.lanes|=1),e)}var ex=Gt.ReactCurrentOwner,We=!1;function Ie(e,t,n,r){t.child=e===null?hm(t,null,n,r):gn(t,e.child,n,r)}function dd(e,t,n,r,a){n=n.render;var l=t.ref;return un(t,a),r=Uo(e,t,n,r,l,a),n=Mo(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wt(e,t,a)):(ie&&n&&So(t),t.flags|=1,Ie(e,t,r,a),t.child)}function ud(e,t,n,r,a){if(e===null){var l=n.type;return typeof l=="function"&&!Go(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,$m(e,t,l,r,a)):(e=ua(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:ur,n(i,r)&&e.ref===t.ref)return Wt(e,t,a)}return t.flags|=1,e=fs(l,r),e.ref=t.ref,e.return=t,t.child=e}function $m(e,t,n,r,a){if(e!==null){var l=e.memoizedProps;if(ur(l,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Wt(e,t,a)}return Ri(e,t,n,r,a)}function Bm(e,t,n){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(an,Ze),Ze|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(an,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,re(an,Ze),Ze|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,re(an,Ze),Ze|=r;return Ie(e,t,a,n),t.child}function Vm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ri(e,t,n,r,a){var l=Ge(n)?Ts:Ue.current;return l=xn(t,l),un(t,a),n=Uo(e,t,n,r,l,a),r=Mo(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wt(e,t,a)):(ie&&r&&So(t),t.flags|=1,Ie(e,t,n,a),t.child)}function md(e,t,n,r,a){if(Ge(n)){var l=!0;Ca(t)}else l=!1;if(un(t,a),t.stateNode===null)oa(e,t),Mm(t,n,r),Pi(t,n,r,a),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=ct(d):(d=Ge(n)?Ts:Ue.current,d=xn(t,d));var u=n.getDerivedStateFromProps,p=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==d)&&ld(t,i,r,d),ts=!1;var x=t.memoizedState;i.state=x,Ra(t,r,i,a),c=t.memoizedState,o!==r||x!==c||Qe.current||ts?(typeof u=="function"&&(_i(t,n,u,r),c=t.memoizedState),(o=ts||ad(t,n,o,r,x,c,d))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ym(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:mt(t.type,o),i.props=d,p=t.pendingProps,x=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ge(n)?Ts:Ue.current,c=xn(t,c));var b=n.getDerivedStateFromProps;(u=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||x!==c)&&ld(t,i,r,c),ts=!1,x=t.memoizedState,i.state=x,Ra(t,r,i,a);var g=t.memoizedState;o!==p||x!==g||Qe.current||ts?(typeof b=="function"&&(_i(t,n,b,r),g=t.memoizedState),(d=ts||ad(t,n,d,r,x,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Li(e,t,n,r,l,a)}function Li(e,t,n,r,a,l){Vm(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&Xc(t,n,!1),Wt(e,t,l);r=t.stateNode,ex.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=gn(t,e.child,null,l),t.child=gn(t,null,o,l)):Ie(e,t,o,l),t.memoizedState=r.state,a&&Xc(t,n,!0),t.child}function Hm(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),To(e,t.containerInfo)}function pd(e,t,n,r,a){return yn(),Eo(a),t.flags|=256,Ie(e,t,n,r),t.child}var Ti={dehydrated:null,treeContext:null,retryLane:0};function Oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function qm(e,t,n){var r=t.pendingProps,a=oe.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),re(oe,a&1),e===null)return Ci(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=rl(i,r,0,null),e=Rs(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Oi(n),t.memoizedState=Ti,e):$o(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return tx(e,t,i,r,o,a,n);if(l){l=r.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=fs(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=fs(o,l):(l=Rs(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Oi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Ti,r}return l=e.child,e=l.sibling,r=fs(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $o(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kr(e,t,n,r){return r!==null&&Eo(r),gn(t,e.child,null,n),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tx(e,t,n,r,a,l,i){if(n)return t.flags&256?(t.flags&=-257,r=$l(Error(M(422))),Kr(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=rl({mode:"visible",children:r.children},a,0,null),l=Rs(l,a,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&gn(t,e.child,null,i),t.child.memoizedState=Oi(i),t.memoizedState=Ti,l);if(!(t.mode&1))return Kr(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(M(419)),r=$l(l,r,void 0),Kr(e,t,i,r)}if(o=(i&e.childLanes)!==0,We||o){if(r=Ce,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,qt(e,a),xt(r,e,a,-1))}return Qo(),r=$l(Error(M(421))),Kr(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fx.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,et=ds(a.nextSibling),tt=t,ie=!0,ft=null,e!==null&&(at[lt++]=zt,at[lt++]=$t,at[lt++]=Os,zt=e.id,$t=e.overflow,Os=t),t=$o(t,r.children),t.flags|=4096,t)}function fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ei(e.return,t,n)}function Bl(e,t,n,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function Wm(e,t,n){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(Ie(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,n,t);else if(e.tag===19)fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(oe,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&La(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bl(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&La(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bl(t,!0,n,null,l);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ds|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=fs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sx(e,t,n){switch(t.tag){case 3:Hm(t),yn();break;case 5:gm(t);break;case 1:Ge(t.type)&&Ca(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;re(Pa,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?qm(e,t,n):(re(oe,oe.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);re(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wm(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),re(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Bm(e,t,n)}return Wt(e,t,n)}var Qm,Fi,Gm,Km;Qm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fi=function(){};Gm=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,_s(Pt.current);var l=null;switch(n){case"input":a=ni(e,a),r=ni(e,r),l=[];break;case"select":a=ue({},a,{value:void 0}),r=ue({},r,{value:void 0}),l=[];break;case"textarea":a=li(e,a),r=li(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ka)}oi(n,r);var i;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rr.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ae("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Km=function(e,t,n,r){n!==r&&(t.flags|=4)};function zn(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nx(e,t,n){var r=t.pendingProps;switch(Co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ge(t.type)&&Sa(),Oe(t),null;case 3:return r=t.stateNode,vn(),le(Qe),le(Ue),Fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Vi(ft),ft=null))),Fi(e,t),Oe(t),null;case 5:Oo(t);var a=_s(xr.current);if(n=t.type,e!==null&&t.stateNode!=null)Gm(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Oe(t),null}if(e=_s(Pt.current),Qr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ct]=t,r[fr]=l,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(a=0;a<Wn.length;a++)ae(Wn[a],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":bc(r,l),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ae("invalid",r);break;case"textarea":Sc(r,l),ae("invalid",r)}oi(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&Wr(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Wr(r.textContent,o,e),a=["children",""+o]):rr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ae("scroll",r)}switch(n){case"input":Mr(r),kc(r,l,!0);break;case"textarea":Mr(r),Cc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ka)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ct]=t,e[fr]=r,Qm(e,t,!1,!1),t.stateNode=e;e:{switch(i=ci(n,r),n){case"dialog":ae("cancel",e),ae("close",e),a=r;break;case"iframe":case"object":case"embed":ae("load",e),a=r;break;case"video":case"audio":for(a=0;a<Wn.length;a++)ae(Wn[a],e);a=r;break;case"source":ae("error",e),a=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),a=r;break;case"details":ae("toggle",e),a=r;break;case"input":bc(e,r),a=ni(e,r),ae("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ue({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Sc(e,r),a=li(e,r),ae("invalid",e);break;default:a=r}oi(n,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Cu(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ku(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ar(e,c):typeof c=="number"&&ar(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(rr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ae("scroll",e):c!=null&&uo(e,l,c,i))}switch(n){case"input":Mr(e),kc(e,r,!1);break;case"textarea":Mr(e),Cc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ys(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?ln(e,!!r.multiple,l,!1):r.defaultValue!=null&&ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Km(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=_s(xr.current),_s(Pt.current),Qr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(l=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Wr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Oe(t),null;case 13:if(le(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&et!==null&&t.mode&1&&!(t.flags&128))pm(),yn(),t.flags|=98560,l=!1;else if(l=Qr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(M(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[Ct]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),l=!1}else ft!==null&&(Vi(ft),ft=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?be===0&&(be=3):Qo())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return vn(),Fi(e,t),e===null&&mr(t.stateNode.containerInfo),Oe(t),null;case 10:return Ao(t.type._context),Oe(t),null;case 17:return Ge(t.type)&&Sa(),Oe(t),null;case 19:if(le(oe),l=t.memoizedState,l===null)return Oe(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)zn(l,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=La(e),i!==null){for(t.flags|=128,zn(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(oe,oe.current&1|2),t.child}e=e.sibling}l.tail!==null&&he()>wn&&(t.flags|=128,r=!0,zn(l,!1),t.lanes=4194304)}else{if(!r)if(e=La(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ie)return Oe(t),null}else 2*he()-l.renderingStartTime>wn&&n!==1073741824&&(t.flags|=128,r=!0,zn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=he(),t.sibling=null,n=oe.current,re(oe,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Wo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function rx(e,t){switch(Co(t),t.tag){case 1:return Ge(t.type)&&Sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(),le(Qe),le(Ue),Fo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oo(t),null;case 13:if(le(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(oe),null;case 4:return vn(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return Wo(),null;case 24:return null;default:return null}}var Jr=!1,Fe=!1,ax=typeof WeakSet=="function"?WeakSet:Set,V=null;function rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function Di(e,t,n){try{n()}catch(r){me(e,t,r)}}var hd=!1;function lx(e,t){if(vi=wa,e=em(),ko(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,p=e,x=null;t:for(;;){for(var b;p!==n||a!==0&&p.nodeType!==3||(o=i+a),p!==l||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(b=p.firstChild)!==null;)x=p,p=b;for(;;){if(p===e)break t;if(x===n&&++d===a&&(o=i),x===l&&++u===r&&(c=i),(b=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=b}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ji={focusedElem:e,selectionRange:n},wa=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var k=g.memoizedProps,v=g.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?k:mt(t.type,k),v);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=hd,hd=!1,g}function Zn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Di(t,n,l)}a=a.next}while(a!==r)}}function sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ui(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jm(e){var t=e.alternate;t!==null&&(e.alternate=null,Jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[fr],delete t[bi],delete t[Bh],delete t[Vh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xm(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ka));else if(r!==4&&(e=e.child,e!==null))for(Mi(e,t,n),e=e.sibling;e!==null;)Mi(e,t,n),e=e.sibling}function Ii(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ii(e,t,n),e=e.sibling;e!==null;)Ii(e,t,n),e=e.sibling}var _e=null,pt=!1;function Zt(e,t,n){for(n=n.child;n!==null;)Ym(e,t,n),n=n.sibling}function Ym(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:Fe||rn(n,t);case 6:var r=_e,a=pt;_e=null,Zt(e,t,n),_e=r,pt=a,_e!==null&&(pt?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(pt?(e=_e,n=n.stateNode,e.nodeType===8?Fl(e.parentNode,n):e.nodeType===1&&Fl(e,n),cr(e)):Fl(_e,n.stateNode));break;case 4:r=_e,a=pt,_e=n.stateNode.containerInfo,pt=!0,Zt(e,t,n),_e=r,pt=a;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Di(n,t,i),a=a.next}while(a!==r)}Zt(e,t,n);break;case 1:if(!Fe&&(rn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){me(n,t,o)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,Zt(e,t,n),Fe=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ax),t.forEach(function(r){var a=hx.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:_e=o.stateNode,pt=!1;break e;case 3:_e=o.stateNode.containerInfo,pt=!0;break e;case 4:_e=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(_e===null)throw Error(M(160));Ym(l,i,a),_e=null,pt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){me(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}function Zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),bt(e),r&4){try{Zn(3,e,e.return),sl(3,e)}catch(k){me(e,e.return,k)}try{Zn(5,e,e.return)}catch(k){me(e,e.return,k)}}break;case 1:ut(t,e),bt(e),r&512&&n!==null&&rn(n,n.return);break;case 5:if(ut(t,e),bt(e),r&512&&n!==null&&rn(n,n.return),e.flags&32){var a=e.stateNode;try{ar(a,"")}catch(k){me(e,e.return,k)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&wu(a,l),ci(o,i);var d=ci(o,l);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];u==="style"?Cu(a,p):u==="dangerouslySetInnerHTML"?ku(a,p):u==="children"?ar(a,p):uo(a,u,p,d)}switch(o){case"input":ri(a,l);break;case"textarea":Nu(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?ln(a,!!l.multiple,b,!1):x!==!!l.multiple&&(l.defaultValue!=null?ln(a,!!l.multiple,l.defaultValue,!0):ln(a,!!l.multiple,l.multiple?[]:"",!1))}a[fr]=l}catch(k){me(e,e.return,k)}}break;case 6:if(ut(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(M(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(k){me(e,e.return,k)}}break;case 3:if(ut(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cr(t.containerInfo)}catch(k){me(e,e.return,k)}break;case 4:ut(t,e),bt(e);break;case 13:ut(t,e),bt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ho=he())),r&4&&yd(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(d=Fe)||u,ut(t,e),Fe=d):ut(t,e),bt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(p=V=u;V!==null;){switch(x=V,b=x.child,x.tag){case 0:case 11:case 14:case 15:Zn(4,x,x.return);break;case 1:rn(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(k){me(r,n,k)}}break;case 5:rn(x,x.return);break;case 22:if(x.memoizedState!==null){vd(p);continue}}b!==null?(b.return=x,V=b):vd(p)}u=u.sibling}e:for(u=null,p=e;;){if(p.tag===5){if(u===null){u=p;try{a=p.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Su("display",i))}catch(k){me(e,e.return,k)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){me(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),bt(e),r&4&&yd(e);break;case 21:break;default:ut(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xm(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ar(a,""),r.flags&=-33);var l=xd(e);Ii(e,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=xd(e);Mi(e,o,i);break;default:throw Error(M(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ix(e,t,n){V=e,ep(e)}function ep(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var a=V,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Jr;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Fe;o=Jr;var d=Fe;if(Jr=i,(Fe=c)&&!d)for(V=a;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?jd(a):c!==null?(c.return=i,V=c):jd(a);for(;l!==null;)V=l,ep(l),l=l.sibling;V=a,Jr=o,Fe=d}gd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,V=l):gd(e)}}function gd(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&sd(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sd(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&cr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Fe||t.flags&512&&Ui(t)}catch(x){me(t,t.return,x)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function vd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function jd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){me(t,a,c)}}var l=t.return;try{Ui(t)}catch(c){me(t,l,c)}break;case 5:var i=t.return;try{Ui(t)}catch(c){me(t,i,c)}}}catch(c){me(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var ox=Math.ceil,Fa=Gt.ReactCurrentDispatcher,Bo=Gt.ReactCurrentOwner,ot=Gt.ReactCurrentBatchConfig,te=0,Ce=null,ye=null,Pe=0,Ze=0,an=js(0),be=0,jr=null,Ds=0,nl=0,Vo=0,er=null,qe=null,Ho=0,wn=1/0,Mt=null,Da=!1,zi=null,ms=null,Xr=!1,as=null,Ua=0,tr=0,$i=null,ca=-1,da=0;function ze(){return te&6?he():ca!==-1?ca:ca=he()}function ps(e){return e.mode&1?te&2&&Pe!==0?Pe&-Pe:qh.transition!==null?(da===0&&(da=Mu()),da):(e=se,e!==0||(e=window.event,e=e===void 0?16:qu(e.type)),e):1}function xt(e,t,n,r){if(50<tr)throw tr=0,$i=null,Error(M(185));Cr(e,n,r),(!(te&2)||e!==Ce)&&(e===Ce&&(!(te&2)&&(nl|=n),be===4&&ns(e,Pe)),Ke(e,r),n===1&&te===0&&!(t.mode&1)&&(wn=he()+500,Za&&ws()))}function Ke(e,t){var n=e.callbackNode;qf(e,t);var r=ja(e,e===Ce?Pe:0);if(r===0)n!==null&&Pc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pc(n),t===1)e.tag===0?Hh(wd.bind(null,e)):dm(wd.bind(null,e)),zh(function(){!(te&6)&&ws()}),n=null;else{switch(Iu(r)){case 1:n=xo;break;case 4:n=Du;break;case 16:n=va;break;case 536870912:n=Uu;break;default:n=va}n=op(n,tp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tp(e,t){if(ca=-1,da=0,te&6)throw Error(M(327));var n=e.callbackNode;if(mn()&&e.callbackNode!==n)return null;var r=ja(e,e===Ce?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ma(e,r);else{t=r;var a=te;te|=2;var l=np();(Ce!==e||Pe!==t)&&(Mt=null,wn=he()+500,As(e,t));do try{ux();break}catch(o){sp(e,o)}while(1);Po(),Fa.current=l,te=a,ye!==null?t=0:(Ce=null,Pe=0,t=be)}if(t!==0){if(t===2&&(a=fi(e),a!==0&&(r=a,t=Bi(e,a))),t===1)throw n=jr,As(e,0),ns(e,r),Ke(e,he()),n;if(t===6)ns(e,r);else{if(a=e.current.alternate,!(r&30)&&!cx(a)&&(t=Ma(e,r),t===2&&(l=fi(e),l!==0&&(r=l,t=Bi(e,l))),t===1))throw n=jr,As(e,0),ns(e,r),Ke(e,he()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:bs(e,qe,Mt);break;case 3:if(ns(e,r),(r&130023424)===r&&(t=Ho+500-he(),10<t)){if(ja(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ni(bs.bind(null,e,qe,Mt),t);break}bs(e,qe,Mt);break;case 4:if(ns(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ht(r);l=1<<i,i=t[i],i>a&&(a=i),r&=~l}if(r=a,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ox(r/1960))-r,10<r){e.timeoutHandle=Ni(bs.bind(null,e,qe,Mt),r);break}bs(e,qe,Mt);break;case 5:bs(e,qe,Mt);break;default:throw Error(M(329))}}}return Ke(e,he()),e.callbackNode===n?tp.bind(null,e):null}function Bi(e,t){var n=er;return e.current.memoizedState.isDehydrated&&(As(e,t).flags|=256),e=Ma(e,t),e!==2&&(t=qe,qe=n,t!==null&&Vi(t)),e}function Vi(e){qe===null?qe=e:qe.push.apply(qe,e)}function cx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!vt(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ns(e,t){for(t&=~Vo,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function wd(e){if(te&6)throw Error(M(327));mn();var t=ja(e,0);if(!(t&1))return Ke(e,he()),null;var n=Ma(e,t);if(e.tag!==0&&n===2){var r=fi(e);r!==0&&(t=r,n=Bi(e,r))}if(n===1)throw n=jr,As(e,0),ns(e,t),Ke(e,he()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,qe,Mt),Ke(e,he()),null}function qo(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(wn=he()+500,Za&&ws())}}function Us(e){as!==null&&as.tag===0&&!(te&6)&&mn();var t=te;te|=1;var n=ot.transition,r=se;try{if(ot.transition=null,se=1,e)return e()}finally{se=r,ot.transition=n,te=t,!(te&6)&&ws()}}function Wo(){Ze=an.current,le(an)}function As(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ih(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(Co(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sa();break;case 3:vn(),le(Qe),le(Ue),Fo();break;case 5:Oo(r);break;case 4:vn();break;case 13:le(oe);break;case 19:le(oe);break;case 10:Ao(r.type._context);break;case 22:case 23:Wo()}n=n.return}if(Ce=e,ye=e=fs(e.current,null),Pe=Ze=t,be=0,jr=null,Vo=nl=Ds=0,qe=er=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}n.pending=r}Es=null}return e}function sp(e,t){do{var n=ye;try{if(Po(),la.current=Oa,Ta){for(var r=ce.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ta=!1}if(Fs=0,Se=we=ce=null,Yn=!1,yr=0,Bo.current=null,n===null||n.return===null){be=1,jr=t,ye=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var b=od(i);if(b!==null){b.flags&=-257,cd(b,i,o,l,t),b.mode&1&&id(l,d,t),t=b,c=d;var g=t.updateQueue;if(g===null){var k=new Set;k.add(c),t.updateQueue=k}else g.add(c);break e}else{if(!(t&1)){id(l,d,t),Qo();break e}c=Error(M(426))}}else if(ie&&o.mode&1){var v=od(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),cd(v,i,o,l,t),Eo(jn(c,o));break e}}l=c=jn(c,o),be!==4&&(be=2),er===null?er=[l]:er.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Im(l,c,t);td(l,f);break e;case 1:o=c;var m=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ms===null||!ms.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=zm(l,o,t);td(l,w);break e}}l=l.return}while(l!==null)}ap(n)}catch(_){t=_,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(1)}function np(){var e=Fa.current;return Fa.current=Oa,e===null?Oa:e}function Qo(){(be===0||be===3||be===2)&&(be=4),Ce===null||!(Ds&268435455)&&!(nl&268435455)||ns(Ce,Pe)}function Ma(e,t){var n=te;te|=2;var r=np();(Ce!==e||Pe!==t)&&(Mt=null,As(e,t));do try{dx();break}catch(a){sp(e,a)}while(1);if(Po(),te=n,Fa.current=r,ye!==null)throw Error(M(261));return Ce=null,Pe=0,be}function dx(){for(;ye!==null;)rp(ye)}function ux(){for(;ye!==null&&!Df();)rp(ye)}function rp(e){var t=ip(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?ap(e):ye=t,Bo.current=null}function ap(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rx(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ye=null;return}}else if(n=nx(n,t,Ze),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);be===0&&(be=5)}function bs(e,t,n){var r=se,a=ot.transition;try{ot.transition=null,se=1,mx(e,t,n,r)}finally{ot.transition=a,se=r}return null}function mx(e,t,n,r){do mn();while(as!==null);if(te&6)throw Error(M(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Wf(e,l),e===Ce&&(ye=Ce=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xr||(Xr=!0,op(va,function(){return mn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ot.transition,ot.transition=null;var i=se;se=1;var o=te;te|=4,Bo.current=null,lx(e,n),Zm(n,e),Lh(ji),wa=!!vi,ji=vi=null,e.current=n,ix(n),Uf(),te=o,se=i,ot.transition=l}else e.current=n;if(Xr&&(Xr=!1,as=e,Ua=a),l=e.pendingLanes,l===0&&(ms=null),zf(n.stateNode),Ke(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Da)throw Da=!1,e=zi,zi=null,e;return Ua&1&&e.tag!==0&&mn(),l=e.pendingLanes,l&1?e===$i?tr++:(tr=0,$i=e):tr=0,ws(),null}function mn(){if(as!==null){var e=Iu(Ua),t=ot.transition,n=se;try{if(ot.transition=null,se=16>e?16:e,as===null)var r=!1;else{if(e=as,as=null,Ua=0,te&6)throw Error(M(331));var a=te;for(te|=4,V=e.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(V=d;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Zn(8,u,l)}var p=u.child;if(p!==null)p.return=u,V=p;else for(;V!==null;){u=V;var x=u.sibling,b=u.return;if(Jm(u),u===d){V=null;break}if(x!==null){x.return=b,V=x;break}V=b}}}var g=l.alternate;if(g!==null){var k=g.child;if(k!==null){g.child=null;do{var v=k.sibling;k.sibling=null,k=v}while(k!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Zn(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,V=f;break e}V=l.return}}var m=e.current;for(V=m;V!==null;){i=V;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,V=h;else e:for(i=m;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sl(9,o)}}catch(_){me(o,o.return,_)}if(o===i){V=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,V=w;break e}V=o.return}}if(te=a,ws(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Ga,e)}catch{}r=!0}return r}finally{se=n,ot.transition=t}}return!1}function Nd(e,t,n){t=jn(n,t),t=Im(e,t,1),e=us(e,t,1),t=ze(),e!==null&&(Cr(e,1,t),Ke(e,t))}function me(e,t,n){if(e.tag===3)Nd(e,e,n);else for(;t!==null;){if(t.tag===3){Nd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){e=jn(n,e),e=zm(t,e,1),t=us(t,e,1),e=ze(),t!==null&&(Cr(t,1,e),Ke(t,e));break}}t=t.return}}function px(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Pe&n)===n&&(be===4||be===3&&(Pe&130023424)===Pe&&500>he()-Ho?As(e,0):Vo|=n),Ke(e,t)}function lp(e,t){t===0&&(e.mode&1?(t=$r,$r<<=1,!($r&130023424)&&($r=4194304)):t=1);var n=ze();e=qt(e,t),e!==null&&(Cr(e,t,n),Ke(e,n))}function fx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lp(e,n)}function hx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),lp(e,n)}var ip;ip=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,sx(e,t,n);We=!!(e.flags&131072)}else We=!1,ie&&t.flags&1048576&&um(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oa(e,t),e=t.pendingProps;var a=xn(t,Ue.current);un(t,n),a=Uo(null,t,r,e,a,n);var l=Mo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(l=!0,Ca(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Lo(t),a.updater=tl,t.stateNode=a,a._reactInternals=t,Pi(t,r,e,n),t=Li(null,t,r,!0,l,n)):(t.tag=0,ie&&l&&So(t),Ie(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oa(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=yx(r),e=mt(r,e),a){case 0:t=Ri(null,t,r,e,n);break e;case 1:t=md(null,t,r,e,n);break e;case 11:t=dd(null,t,r,e,n);break e;case 14:t=ud(null,t,r,mt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mt(r,a),Ri(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mt(r,a),md(e,t,r,a,n);case 3:e:{if(Hm(t),e===null)throw Error(M(387));r=t.pendingProps,l=t.memoizedState,a=l.element,ym(e,t),Ra(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=jn(Error(M(423)),t),t=pd(e,t,r,n,a);break e}else if(r!==a){a=jn(Error(M(424)),t),t=pd(e,t,r,n,a);break e}else for(et=ds(t.stateNode.containerInfo.firstChild),tt=t,ie=!0,ft=null,n=hm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yn(),r===a){t=Wt(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return gm(t),e===null&&Ci(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,wi(r,a)?i=null:l!==null&&wi(r,l)&&(t.flags|=32),Vm(e,t),Ie(e,t,i,n),t.child;case 6:return e===null&&Ci(t),null;case 13:return qm(e,t,n);case 4:return To(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gn(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mt(r,a),dd(e,t,r,a,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,re(Pa,r._currentValue),r._currentValue=i,l!==null)if(vt(l.value,i)){if(l.children===a.children&&!Qe.current){t=Wt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Bt(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Ei(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(M(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ei(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ie(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,un(t,n),a=ct(a),r=r(a),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,a=mt(r,t.pendingProps),a=mt(r.type,a),ud(e,t,r,a,n);case 15:return $m(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mt(r,a),oa(e,t),t.tag=1,Ge(r)?(e=!0,Ca(t)):e=!1,un(t,n),Mm(t,r,a),Pi(t,r,a,n),Li(null,t,r,!0,e,n);case 19:return Wm(e,t,n);case 22:return Bm(e,t,n)}throw Error(M(156,t.tag))};function op(e,t){return Fu(e,t)}function xx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new xx(e,t,n,r)}function Go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yx(e){if(typeof e=="function")return Go(e)?1:0;if(e!=null){if(e=e.$$typeof,e===po)return 11;if(e===fo)return 14}return 2}function fs(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ua(e,t,n,r,a,l){var i=2;if(r=e,typeof e=="function")Go(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ks:return Rs(n.children,a,l,t);case mo:i=8,a|=8;break;case Zl:return e=it(12,n,t,a|2),e.elementType=Zl,e.lanes=l,e;case ei:return e=it(13,n,t,a),e.elementType=ei,e.lanes=l,e;case ti:return e=it(19,n,t,a),e.elementType=ti,e.lanes=l,e;case gu:return rl(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xu:i=10;break e;case yu:i=9;break e;case po:i=11;break e;case fo:i=14;break e;case es:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=it(i,n,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function Rs(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function rl(e,t,n,r){return e=it(22,e,r,t),e.elementType=gu,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function Hl(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gx(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ko(e,t,n,r,a,l,i,o,c){return e=new gx(e,t,n,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=it(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(l),e}function vx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cp(e){if(!e)return gs;e=e._reactInternals;e:{if(zs(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ge(n))return cm(e,n,t)}return t}function dp(e,t,n,r,a,l,i,o,c){return e=Ko(n,r,!0,e,a,l,i,o,c),e.context=cp(null),n=e.current,r=ze(),a=ps(n),l=Bt(r,a),l.callback=t??null,us(n,l,a),e.current.lanes=a,Cr(e,a,r),Ke(e,r),e}function al(e,t,n,r){var a=t.current,l=ze(),i=ps(a);return n=cp(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=us(a,t,i),e!==null&&(xt(e,a,i,l),aa(e,a,i)),i}function Ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jo(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function jx(){return null}var up=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xo(e){this._internalRoot=e}ll.prototype.render=Xo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));al(e,t,null,null)};ll.prototype.unmount=Xo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Us(function(){al(null,e,null,null)}),t[Ht]=null}};function ll(e){this._internalRoot=e}ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ss.length&&t!==0&&t<ss[n].priority;n++);ss.splice(n,0,e),n===0&&Hu(e)}};function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function wx(e,t,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var d=Ia(i);l.call(d)}}var i=dp(t,r,e,0,null,!1,!1,"",kd);return e._reactRootContainer=i,e[Ht]=i.current,mr(e.nodeType===8?e.parentNode:e),Us(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=Ia(c);o.call(d)}}var c=Ko(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=c,e[Ht]=c.current,mr(e.nodeType===8?e.parentNode:e),Us(function(){al(t,c,n,r)}),c}function ol(e,t,n,r,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Ia(i);o.call(c)}}al(t,i,e,a)}else i=wx(n,t,e,a,r);return Ia(i)}zu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qn(t.pendingLanes);n!==0&&(yo(t,n|1),Ke(t,he()),!(te&6)&&(wn=he()+500,ws()))}break;case 13:Us(function(){var r=qt(e,1);if(r!==null){var a=ze();xt(r,e,1,a)}}),Jo(e,1)}};go=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=ze();xt(t,e,134217728,n)}Jo(e,134217728)}};$u=function(e){if(e.tag===13){var t=ps(e),n=qt(e,t);if(n!==null){var r=ze();xt(n,e,t,r)}Jo(e,t)}};Bu=function(){return se};Vu=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};ui=function(e,t,n){switch(t){case"input":if(ri(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ya(r);if(!a)throw Error(M(90));ju(r),ri(r,a)}}}break;case"textarea":Nu(e,n);break;case"select":t=n.value,t!=null&&ln(e,!!n.multiple,t,!1)}};Pu=qo;Au=Us;var Nx={usingClientEntryPoint:!1,Events:[_r,Zs,Ya,Eu,_u,qo]},$n={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bx={bundleType:$n.bundleType,version:$n.version,rendererPackageName:$n.rendererPackageName,rendererConfig:$n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tu(e),e===null?null:e.stateNode},findFiberByHostInstance:$n.findFiberByHostInstance||jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yr.isDisabled&&Yr.supportsFiber)try{Ga=Yr.inject(bx),_t=Yr}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nx;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yo(t))throw Error(M(200));return vx(e,t,null,n)};nt.createRoot=function(e,t){if(!Yo(e))throw Error(M(299));var n=!1,r="",a=up;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ko(e,1,!1,null,null,n,!1,r,a),e[Ht]=t.current,mr(e.nodeType===8?e.parentNode:e),new Xo(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Tu(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Us(e)};nt.hydrate=function(e,t,n){if(!il(t))throw Error(M(200));return ol(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Yo(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",i=up;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=dp(t,null,e,1,n??null,a,!1,l,i),e[Ht]=t.current,mr(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ll(t)};nt.render=function(e,t,n){if(!il(t))throw Error(M(200));return ol(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!il(e))throw Error(M(40));return e._reactRootContainer?(Us(function(){ol(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};nt.unstable_batchedUpdates=qo;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return ol(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mp)}catch(e){console.error(e)}}mp(),mu.exports=nt;var kx=mu.exports,Sd=kx;Xl.createRoot=Sd.createRoot,Xl.hydrateRoot=Sd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}var ls;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ls||(ls={}));const Cd="popstate";function Sx(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:i,hash:o}=r.location;return Hi("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:za(a)}return Ex(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cx(){return Math.random().toString(36).substr(2,8)}function Ed(e,t){return{usr:e.state,key:e.key,idx:t}}function Hi(e,t,n,r){return n===void 0&&(n=null),wr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pn(t):t,{state:n,key:t&&t.key||r||Cx()})}function za(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ex(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,o=ls.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(wr({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function p(){o=ls.Pop;let v=u(),f=v==null?null:v-d;d=v,c&&c({action:o,location:k.location,delta:f})}function x(v,f){o=ls.Push;let m=Hi(k.location,v,f);n&&n(m,v),d=u()+1;let h=Ed(m,d),w=k.createHref(m);try{i.pushState(h,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(w)}l&&c&&c({action:o,location:k.location,delta:1})}function b(v,f){o=ls.Replace;let m=Hi(k.location,v,f);n&&n(m,v),d=u();let h=Ed(m,d),w=k.createHref(m);i.replaceState(h,"",w),l&&c&&c({action:o,location:k.location,delta:0})}function g(v){let f=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof v=="string"?v:za(v);return m=m.replace(/ $/,"%20"),de(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let k={get action(){return o},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Cd,p),c=v,()=>{a.removeEventListener(Cd,p),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let f=g(v);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:x,replace:b,go(v){return i.go(v)}};return k}var _d;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_d||(_d={}));function _x(e,t,n){return n===void 0&&(n="/"),Px(e,t,n,!1)}function Px(e,t,n,r){let a=typeof t=="string"?Pn(t):t,l=Nn(a.pathname||"/",n);if(l==null)return null;let i=pp(e);Ax(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=$x(l);o=Ix(i[c],d,r)}return o}function pp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(de(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=hs([r,c.relativePath]),u=n.concat(c);l.children&&l.children.length>0&&(de(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),pp(l.children,t,u,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:Ux(d,l.index),routesMeta:u})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of fp(l.path))a(l,i,c)}),t}function fp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=fp(r.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ax(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Mx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rx=/^:[\w-]+$/,Lx=3,Tx=2,Ox=1,Fx=10,Dx=-2,Pd=e=>e==="*";function Ux(e,t){let n=e.split("/"),r=n.length;return n.some(Pd)&&(r+=Dx),t&&(r+=Tx),n.filter(a=>!Pd(a)).reduce((a,l)=>a+(Rx.test(l)?Lx:l===""?Ox:Fx),r)}function Mx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Ix(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},l="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=l==="/"?t:t.slice(l.length)||"/",p=$a({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=$a({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!p)return null;Object.assign(a,p.params),i.push({params:a,pathname:hs([l,p.pathname]),pathnameBase:Wx(hs([l,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(l=hs([l,p.pathnameBase]))}return i}function $a(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,u,p)=>{let{paramName:x,isOptional:b}=u;if(x==="*"){let k=o[p]||"";i=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const g=o[p];return b&&!g?d[x]=void 0:d[x]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function zx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function $x(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vx=e=>Bx.test(e);function Hx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Pn(e):e,l;if(n)if(Vx(n))l=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Zo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?l=Ad(n.substring(1),"/"):l=Ad(n,t)}else l=t;return{pathname:l,search:Qx(r),hash:Gx(a)}}function Ad(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ql(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ec(e,t){let n=qx(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tc(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Pn(e):(a=wr({},e),de(!a.pathname||!a.pathname.includes("?"),ql("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),ql("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),ql("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=n;else{let p=t.length-1;if(!r&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),p-=1;a.pathname=x.join("/")}o=p>=0?t[p]:"/"}let c=Hx(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const hs=e=>e.join("/").replace(/\/\/+/g,"/"),Wx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hp=["post","put","patch","delete"];new Set(hp);const Jx=["get",...hp];new Set(Jx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}const cl=y.createContext(null),xp=y.createContext(null),Kt=y.createContext(null),dl=y.createContext(null),Ot=y.createContext({outlet:null,matches:[],isDataRoute:!1}),yp=y.createContext(null);function Xx(e,t){let{relative:n}=t===void 0?{}:t;An()||de(!1);let{basename:r,navigator:a}=y.useContext(Kt),{hash:l,pathname:i,search:o}=ul(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:hs([r,i])),a.createHref({pathname:c,search:o,hash:l})}function An(){return y.useContext(dl)!=null}function $s(){return An()||de(!1),y.useContext(dl).location}function gp(e){y.useContext(Kt).static||y.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=y.useContext(Ot);return e?m0():Yx()}function Yx(){An()||de(!1);let e=y.useContext(cl),{basename:t,future:n,navigator:r}=y.useContext(Kt),{matches:a}=y.useContext(Ot),{pathname:l}=$s(),i=JSON.stringify(ec(a,n.v7_relativeSplatPath)),o=y.useRef(!1);return gp(()=>{o.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=tc(d,JSON.parse(i),l,u.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:hs([t,p.pathname])),(u.replace?r.replace:r.push)(p,u.state,u)},[t,r,i,l,e])}const Zx=y.createContext(null);function e0(e){let t=y.useContext(Ot).outlet;return t&&y.createElement(Zx.Provider,{value:e},t)}function sc(){let{matches:e}=y.useContext(Ot),t=e[e.length-1];return t?t.params:{}}function ul(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Kt),{matches:a}=y.useContext(Ot),{pathname:l}=$s(),i=JSON.stringify(ec(a,r.v7_relativeSplatPath));return y.useMemo(()=>tc(e,JSON.parse(i),l,n==="path"),[e,i,l,n])}function t0(e,t){return s0(e,t)}function s0(e,t,n,r){An()||de(!1);let{navigator:a}=y.useContext(Kt),{matches:l}=y.useContext(Ot),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=$s(),u;if(t){var p;let v=typeof t=="string"?Pn(t):t;c==="/"||(p=v.pathname)!=null&&p.startsWith(c)||de(!1),u=v}else u=d;let x=u.pathname||"/",b=x;if(c!=="/"){let v=c.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=_x(e,{pathname:b}),k=i0(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:hs([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:hs([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),l,n,r);return t&&k?y.createElement(dl.Provider,{value:{location:Nr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ls.Pop}},k):k}function n0(){let e=u0(),t=Kx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,l)}const r0=y.createElement(n0,null);class a0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Ot.Provider,{value:this.props.routeContext},y.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l0(e){let{routeContext:t,match:n,children:r}=e,a=y.useContext(cl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ot.Provider,{value:t},r)}function i0(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);u>=0||de(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let p=i[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=u),p.route.id){let{loaderData:x,errors:b}=n,g=p.route.loader&&x[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,p,x)=>{let b,g=!1,k=null,v=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,k=p.route.errorElement||r0,c&&(d<0&&x===0?(p0("route-fallback",!1),g=!0,v=null):d===x&&(g=!0,v=p.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,x+1)),m=()=>{let h;return b?h=k:g?h=v:p.route.Component?h=y.createElement(p.route.Component,null):p.route.element?h=p.route.element:h=u,y.createElement(l0,{match:p,routeContext:{outlet:u,matches:f,isDataRoute:n!=null},children:h})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?y.createElement(a0,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var vp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vp||{}),Ba=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ba||{});function o0(e){let t=y.useContext(cl);return t||de(!1),t}function c0(e){let t=y.useContext(xp);return t||de(!1),t}function d0(e){let t=y.useContext(Ot);return t||de(!1),t}function jp(e){let t=d0(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function u0(){var e;let t=y.useContext(yp),n=c0(Ba.UseRouteError),r=jp(Ba.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function m0(){let{router:e}=o0(vp.UseNavigateStable),t=jp(Ba.UseNavigateStable),n=y.useRef(!1);return gp(()=>{n.current=!0}),y.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Nr({fromRouteId:t},l)))},[e,t])}const Rd={};function p0(e,t,n){!t&&!Rd[e]&&(Rd[e]=!0)}function f0(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function nc(e){let{to:t,replace:n,state:r,relative:a}=e;An()||de(!1);let{future:l,static:i}=y.useContext(Kt),{matches:o}=y.useContext(Ot),{pathname:c}=$s(),d=Ft(),u=tc(t,ec(o,l.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(u);return y.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:a}),[d,p,a,n,r]),null}function h0(e){return e0(e.context)}function fe(e){de(!1)}function x0(e){let{basename:t="/",children:n=null,location:r,navigationType:a=ls.Pop,navigator:l,static:i=!1,future:o}=e;An()&&de(!1);let c=t.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:l,static:i,future:Nr({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof r=="string"&&(r=Pn(r));let{pathname:u="/",search:p="",hash:x="",state:b=null,key:g="default"}=r,k=y.useMemo(()=>{let v=Nn(u,c);return v==null?null:{location:{pathname:v,search:p,hash:x,state:b,key:g},navigationType:a}},[c,u,p,x,b,g,a]);return k==null?null:y.createElement(Kt.Provider,{value:d},y.createElement(dl.Provider,{children:n,value:k}))}function y0(e){let{children:t,location:n}=e;return t0(qi(t),n)}new Promise(()=>{});function qi(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let l=[...t,a];if(r.type===y.Fragment){n.push.apply(n,qi(r.props.children,l));return}r.type!==fe&&de(!1),!r.props.index||!r.props.children||de(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=qi(r.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}function wp(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function g0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v0(e,t){return e.button===0&&(!t||t==="_self")&&!g0(e)}const j0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],N0="6";try{window.__reactRouterVersion=N0}catch{}const b0=y.createContext({isTransitioning:!1}),k0="startTransition",Ld=pf[k0];function S0(e){let{basename:t,children:n,future:r,window:a}=e,l=y.useRef();l.current==null&&(l.current=Sx({window:a,v5Compat:!0}));let i=l.current,[o,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},u=y.useCallback(p=>{d&&Ld?Ld(()=>c(p)):c(p)},[c,d]);return y.useLayoutEffect(()=>i.listen(u),[i,u]),y.useEffect(()=>f0(r),[r]),y.createElement(x0,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const C0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=y.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:p}=t,x=wp(t,j0),{basename:b}=y.useContext(Kt),g,k=!1;if(typeof d=="string"&&E0.test(d)&&(g=d,C0))try{let h=new URL(window.location.href),w=d.startsWith("//")?new URL(h.protocol+d):new URL(d),_=Nn(w.pathname,b);w.origin===h.origin&&_!=null?d=_+w.search+w.hash:k=!0}catch{}let v=Xx(d,{relative:a}),f=R0(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:p});function m(h){r&&r(h),h.defaultPrevented||f(h)}return y.createElement("a",Va({},x,{href:g||v,onClick:k||l?r:m,ref:n,target:c}))}),P0=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:l="",end:i=!1,style:o,to:c,viewTransition:d,children:u}=t,p=wp(t,w0),x=ul(c,{relative:p.relative}),b=$s(),g=y.useContext(xp),{navigator:k,basename:v}=y.useContext(Kt),f=g!=null&&L0(x)&&d===!0,m=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,h=b.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(h=h.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&v&&(w=Nn(w,v)||w);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let T=h===m||!i&&h.startsWith(m)&&h.charAt(_)==="/",N=w!=null&&(w===m||!i&&w.startsWith(m)&&w.charAt(m.length)==="/"),A={isActive:T,isPending:N,isTransitioning:f},P=T?r:void 0,U;typeof l=="function"?U=l(A):U=[l,T?"active":null,N?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(A):o;return y.createElement(_0,Va({},p,{"aria-current":P,className:U,ref:n,style:z,to:c,viewTransition:d}),typeof u=="function"?u(A):u)});var Wi;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wi||(Wi={}));var Td;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Td||(Td={}));function A0(e){let t=y.useContext(cl);return t||de(!1),t}function R0(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=Ft(),d=$s(),u=ul(e,{relative:i});return y.useCallback(p=>{if(v0(p,n)){p.preventDefault();let x=r!==void 0?r:za(d)===za(u);c(e,{replace:x,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,a,n,e,l,i,o])}function L0(e,t){t===void 0&&(t={});let n=y.useContext(b0);n==null&&de(!1);let{basename:r}=A0(Wi.useViewTransitionState),a=ul(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Nn(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Nn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $a(a.pathname,i)!=null||$a(a.pathname,l)!=null}function Np(e,t){return function(){return e.apply(t,arguments)}}const{toString:T0}=Object.prototype,{getPrototypeOf:rc}=Object,{iterator:ml,toStringTag:bp}=Symbol,pl=(e=>t=>{const n=T0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jt=e=>(e=e.toLowerCase(),t=>pl(t)===e),fl=e=>t=>typeof t===e,{isArray:Rn}=Array,bn=fl("undefined");function Ar(e){return e!==null&&!bn(e)&&e.constructor!==null&&!bn(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kp=jt("ArrayBuffer");function O0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kp(e.buffer),t}const F0=fl("string"),Je=fl("function"),Sp=fl("number"),Rr=e=>e!==null&&typeof e=="object",D0=e=>e===!0||e===!1,ma=e=>{if(pl(e)!=="object")return!1;const t=rc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bp in e)&&!(ml in e)},U0=e=>{if(!Rr(e)||Ar(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},M0=jt("Date"),I0=jt("File"),z0=jt("Blob"),$0=jt("FileList"),B0=e=>Rr(e)&&Je(e.pipe),V0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=pl(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},H0=jt("URLSearchParams"),[q0,W0,Q0,G0]=["ReadableStream","Request","Response","Headers"].map(jt),K0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Rn(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Ar(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(r=0;r<i;r++)o=l[r],t.call(null,e[o],o,e)}}function Cp(e,t){if(Ar(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Ps=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ep=e=>!bn(e)&&e!==Ps;function Qi(){const{caseless:e,skipUndefined:t}=Ep(this)&&this||{},n={},r=(a,l)=>{const i=e&&Cp(n,l)||l;ma(n[i])&&ma(a)?n[i]=Qi(n[i],a):ma(a)?n[i]=Qi({},a):Rn(a)?n[i]=a.slice():(!t||!bn(a))&&(n[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Lr(arguments[a],r);return n}const J0=(e,t,n,{allOwnKeys:r}={})=>(Lr(t,(a,l)=>{n&&Je(a)?Object.defineProperty(e,l,{value:Np(a,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,l,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),X0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Z0=(e,t,n,r)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!r||r(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&rc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ey=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ty=e=>{if(!e)return null;if(Rn(e))return e;let t=e.length;if(!Sp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},sy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rc(Uint8Array)),ny=(e,t)=>{const r=(e&&e[ml]).call(e);let a;for(;(a=r.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},ry=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ay=jt("HTMLFormElement"),ly=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Od=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),iy=jt("RegExp"),_p=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Lr(n,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(r[l]=i||a)}),Object.defineProperties(e,r)},oy=e=>{_p(e,(t,n)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Je(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cy=(e,t)=>{const n={},r=a=>{a.forEach(l=>{n[l]=!0})};return Rn(e)?r(e):r(String(e).split(t)),n},dy=()=>{},uy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function my(e){return!!(e&&Je(e.append)&&e[bp]==="FormData"&&e[ml])}const py=e=>{const t=new Array(10),n=(r,a)=>{if(Rr(r)){if(t.indexOf(r)>=0)return;if(Ar(r))return r;if(!("toJSON"in r)){t[a]=r;const l=Rn(r)?[]:{};return Lr(r,(i,o)=>{const c=n(i,a+1);!bn(c)&&(l[o]=c)}),t[a]=void 0,l}}return r};return n(e,0)},fy=jt("AsyncFunction"),hy=e=>e&&(Rr(e)||Je(e))&&Je(e.then)&&Je(e.catch),Pp=((e,t)=>e?setImmediate:t?((n,r)=>(Ps.addEventListener("message",({source:a,data:l})=>{a===Ps&&l===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Ps.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Je(Ps.postMessage)),xy=typeof queueMicrotask<"u"?queueMicrotask.bind(Ps):typeof process<"u"&&process.nextTick||Pp,yy=e=>e!=null&&Je(e[ml]),R={isArray:Rn,isArrayBuffer:kp,isBuffer:Ar,isFormData:V0,isArrayBufferView:O0,isString:F0,isNumber:Sp,isBoolean:D0,isObject:Rr,isPlainObject:ma,isEmptyObject:U0,isReadableStream:q0,isRequest:W0,isResponse:Q0,isHeaders:G0,isUndefined:bn,isDate:M0,isFile:I0,isBlob:z0,isRegExp:iy,isFunction:Je,isStream:B0,isURLSearchParams:H0,isTypedArray:sy,isFileList:$0,forEach:Lr,merge:Qi,extend:J0,trim:K0,stripBOM:X0,inherits:Y0,toFlatObject:Z0,kindOf:pl,kindOfTest:jt,endsWith:ey,toArray:ty,forEachEntry:ny,matchAll:ry,isHTMLForm:ay,hasOwnProperty:Od,hasOwnProp:Od,reduceDescriptors:_p,freezeMethods:oy,toObjectSet:cy,toCamelCase:ly,noop:dy,toFiniteNumber:uy,findKey:Cp,global:Ps,isContextDefined:Ep,isSpecCompliantForm:my,toJSONObject:py,isAsyncFn:fy,isThenable:hy,setImmediate:Pp,asap:xy,isIterable:yy};class Ve extends Error{static from(t,n,r,a,l,i){const o=new Ve(t.message,n||t.code,r,a,l);return o.cause=t,o.name=t.name,i&&Object.assign(o,i),o}constructor(t,n,r,a,l){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),a&&(this.request=a),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}}Ve.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ve.ERR_BAD_OPTION="ERR_BAD_OPTION";Ve.ECONNABORTED="ECONNABORTED";Ve.ETIMEDOUT="ETIMEDOUT";Ve.ERR_NETWORK="ERR_NETWORK";Ve.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ve.ERR_DEPRECATED="ERR_DEPRECATED";Ve.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ve.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ve.ERR_CANCELED="ERR_CANCELED";Ve.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ve.ERR_INVALID_URL="ERR_INVALID_URL";const ee=Ve,gy=null;function Gi(e){return R.isPlainObject(e)||R.isArray(e)}function Ap(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function Fd(e,t,n){return e?e.concat(t).map(function(a,l){return a=Ap(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function vy(e){return R.isArray(e)&&!e.some(Gi)}const jy=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function hl(e,t,n){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,v){return!R.isUndefined(v[k])});const r=n.metaTokens,a=n.visitor||u,l=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(R.isDate(g))return g.toISOString();if(R.isBoolean(g))return g.toString();if(!c&&R.isBlob(g))throw new ee("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(g)||R.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,k,v){let f=g;if(g&&!v&&typeof g=="object"){if(R.endsWith(k,"{}"))k=r?k:k.slice(0,-2),g=JSON.stringify(g);else if(R.isArray(g)&&vy(g)||(R.isFileList(g)||R.endsWith(k,"[]"))&&(f=R.toArray(g)))return k=Ap(k),f.forEach(function(h,w){!(R.isUndefined(h)||h===null)&&t.append(i===!0?Fd([k],w,l):i===null?k:k+"[]",d(h))}),!1}return Gi(g)?!0:(t.append(Fd(v,k,l),d(g)),!1)}const p=[],x=Object.assign(jy,{defaultVisitor:u,convertValue:d,isVisitable:Gi});function b(g,k){if(!R.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+k.join("."));p.push(g),R.forEach(g,function(f,m){(!(R.isUndefined(f)||f===null)&&a.call(t,f,R.isString(m)?m.trim():m,k,x))===!0&&b(f,k?k.concat(m):[m])}),p.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Dd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ac(e,t){this._pairs=[],e&&hl(e,this,t)}const Rp=ac.prototype;Rp.append=function(t,n){this._pairs.push([t,n])};Rp.toString=function(t){const n=t?function(r){return t.call(this,r,Dd)}:Dd;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function wy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lp(e,t,n){if(!t)return e;const r=n&&n.encode||wy,a=R.isFunction(n)?{serialize:n}:n,l=a&&a.serialize;let i;if(l?i=l(t,a):i=R.isURLSearchParams(t)?t.toString():new ac(t,a).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Ny{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ud=Ny,Tp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},by=typeof URLSearchParams<"u"?URLSearchParams:ac,ky=typeof FormData<"u"?FormData:null,Sy=typeof Blob<"u"?Blob:null,Cy={isBrowser:!0,classes:{URLSearchParams:by,FormData:ky,Blob:Sy},protocols:["http","https","file","blob","url","data"]},lc=typeof window<"u"&&typeof document<"u",Ki=typeof navigator=="object"&&navigator||void 0,Ey=lc&&(!Ki||["ReactNative","NativeScript","NS"].indexOf(Ki.product)<0),_y=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Py=lc&&window.location.href||"http://localhost",Ay=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lc,hasStandardBrowserEnv:Ey,hasStandardBrowserWebWorkerEnv:_y,navigator:Ki,origin:Py},Symbol.toStringTag,{value:"Module"})),De={...Ay,...Cy};function Ry(e,t){return hl(e,new De.classes.URLSearchParams,{visitor:function(n,r,a,l){return De.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Ly(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ty(e){const t={},n=Object.keys(e);let r;const a=n.length;let l;for(r=0;r<a;r++)l=n[r],t[l]=e[l];return t}function Op(e){function t(n,r,a,l){let i=n[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=n.length;return i=!i&&R.isArray(a)?a.length:i,c?(R.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!o):((!a[i]||!R.isObject(a[i]))&&(a[i]=[]),t(n,r,a[i],l)&&R.isArray(a[i])&&(a[i]=Ty(a[i])),!o)}if(R.isFormData(e)&&R.isFunction(e.entries)){const n={};return R.forEachEntry(e,(r,a)=>{t(Ly(r),a,n,0)}),n}return null}function Oy(e,t,n){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ic={transitional:Tp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,l=R.isObject(t);if(l&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return a?JSON.stringify(Op(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ry(t,this.formSerializer).toString();if((o=R.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return hl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),Oy(t)):t}],transformResponse:[function(t){const n=this.transitional||ic.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(r&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?ee.from(o,ee.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{ic.headers[e]={}});const oc=ic,Fy=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dy=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!n||t[n]&&Fy[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Md=Symbol("internals");function Bn(e){return e&&String(e).trim().toLowerCase()}function pa(e){return e===!1||e==null?e:R.isArray(e)?e.map(pa):String(e)}function Uy(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const My=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wl(e,t,n,r,a){if(R.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!R.isString(t)){if(R.isString(r))return t.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(t)}}function Iy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function zy(e,t){const n=R.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,l,i){return this[r].call(this,t,a,l,i)},configurable:!0})})}class xl{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function l(o,c,d){const u=Bn(c);if(!u)throw new Error("header name must be a non-empty string");const p=R.findKey(a,u);(!p||a[p]===void 0||d===!0||d===void 0&&a[p]!==!1)&&(a[p||c]=pa(o))}const i=(o,c)=>R.forEach(o,(d,u)=>l(d,u,c));if(R.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(R.isString(t)&&(t=t.trim())&&!My(t))i(Dy(t),n);else if(R.isObject(t)&&R.isIterable(t)){let o={},c,d;for(const u of t){if(!R.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?R.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,n)}else t!=null&&l(n,t,r);return this}get(t,n){if(t=Bn(t),t){const r=R.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Uy(a);if(R.isFunction(n))return n.call(this,a,r);if(R.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Bn(t),t){const r=R.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Wl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function l(i){if(i=Bn(i),i){const o=R.findKey(r,i);o&&(!n||Wl(r,r[o],o,n))&&(delete r[o],a=!0)}}return R.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const l=n[r];(!t||Wl(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,r={};return R.forEach(this,(a,l)=>{const i=R.findKey(r,l);if(i){n[i]=pa(a),delete n[l];return}const o=t?Iy(l):String(l).trim();o!==l&&delete n[l],n[o]=pa(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return R.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Md]=this[Md]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Bn(i);r[o]||(zy(a,i),r[o]=!0)}return R.isArray(t)?t.forEach(l):l(t),this}}xl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(xl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});R.freezeMethods(xl);const yt=xl;function Ql(e,t){const n=this||oc,r=t||n,a=yt.from(r.headers);let l=r.data;return R.forEach(e,function(o){l=o.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Fp(e){return!!(e&&e.__CANCEL__)}class $y extends ee{constructor(t,n,r){super(t??"canceled",ee.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}}const Tr=$y;function Dp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function By(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vy(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[l];i||(i=d),n[a]=c,r[a]=d;let p=l,x=0;for(;p!==a;)x+=n[p++],p=p%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const b=u&&d-u;return b?Math.round(x*1e3/b):void 0}}function Hy(e,t){let n=0,r=1e3/t,a,l;const i=(d,u=Date.now())=>{n=u,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const u=Date.now(),p=u-n;p>=r?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},r-p)))},()=>a&&i(a)]}const Ha=(e,t,n=3)=>{let r=0;const a=Vy(50,250);return Hy(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-r,d=a(c),u=i<=o;r=i;const p={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(p)},n)},Id=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},zd=e=>(...t)=>R.asap(()=>e(...t)),qy=De.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,De.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):()=>!0,Wy=De.hasStandardBrowserEnv?{write(e,t,n,r,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];R.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),R.isString(r)&&o.push(`path=${r}`),R.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),R.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Qy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Gy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Up(e,t,n){let r=!Qy(t);return e&&(r||n==!1)?Gy(e,t):t}const $d=e=>e instanceof yt?{...e}:e;function Ms(e,t){t=t||{};const n={};function r(d,u,p,x){return R.isPlainObject(d)&&R.isPlainObject(u)?R.merge.call({caseless:x},d,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function a(d,u,p,x){if(R.isUndefined(u)){if(!R.isUndefined(d))return r(void 0,d,p,x)}else return r(d,u,p,x)}function l(d,u){if(!R.isUndefined(u))return r(void 0,u)}function i(d,u){if(R.isUndefined(u)){if(!R.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,p){if(p in t)return r(d,u);if(p in e)return r(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,p)=>a($d(d),$d(u),p,!0)};return R.forEach(Object.keys({...e,...t}),function(u){const p=c[u]||a,x=p(e[u],t[u],u);R.isUndefined(x)&&p!==o||(n[u]=x)}),n}const Mp=e=>{const t=Ms({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=yt.from(i),t.url=Lp(Up(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),R.isFormData(n)){if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(R.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,p])=>{d.includes(u.toLowerCase())&&i.set(u,p)})}}if(De.hasStandardBrowserEnv&&(r&&R.isFunction(r)&&(r=r(t)),r||r!==!1&&qy(t.url))){const c=a&&l&&Wy.read(l);c&&i.set(a,c)}return t},Ky=typeof XMLHttpRequest<"u",Jy=Ky&&function(e){return new Promise(function(n,r){const a=Mp(e);let l=a.data;const i=yt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,p,x,b,g;function k(){b&&b(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function f(){if(!v)return;const h=yt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:h,config:e,request:v};Dp(function(N){n(N),k()},function(N){r(N),k()},_),v=null}"onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(f)},v.onabort=function(){v&&(r(new ee("Request aborted",ee.ECONNABORTED,e,v)),v=null)},v.onerror=function(w){const _=w&&w.message?w.message:"Network Error",T=new ee(_,ee.ERR_NETWORK,e,v);T.event=w||null,r(T),v=null},v.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||Tp;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),r(new ee(w,_.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,v)),v=null},l===void 0&&i.setContentType(null),"setRequestHeader"in v&&R.forEach(i.toJSON(),function(w,_){v.setRequestHeader(_,w)}),R.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),d&&([x,g]=Ha(d,!0),v.addEventListener("progress",x)),c&&v.upload&&([p,b]=Ha(c),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(u=h=>{v&&(r(!h||h.type?new Tr(null,e,v):h),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const m=By(a.url);if(m&&De.protocols.indexOf(m)===-1){r(new ee("Unsupported protocol "+m+":",ee.ERR_BAD_REQUEST,e));return}v.send(l||null)})},Xy=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof ee?u:new Tr(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new ee(`timeout of ${t}ms exceeded`,ee.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>R.asap(o),c}},Yy=Xy,Zy=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},eg=async function*(e,t){for await(const n of tg(e))yield*Zy(n,t)},tg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Bd=(e,t,n,r)=>{const a=eg(e,t);let l=0,i,o=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let p=u.byteLength;if(n){let x=l+=p;n(x)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Vd=64*1024,{isFunction:Zr}=R,sg=(({Request:e,Response:t})=>({Request:e,Response:t}))(R.global),{ReadableStream:Hd,TextEncoder:qd}=R.global,Wd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ng=e=>{e=R.merge.call({skipUndefined:!0},sg,e);const{fetch:t,Request:n,Response:r}=e,a=t?Zr(t):typeof fetch=="function",l=Zr(n),i=Zr(r);if(!a)return!1;const o=a&&Zr(Hd),c=a&&(typeof qd=="function"?(g=>k=>g.encode(k))(new qd):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=l&&o&&Wd(()=>{let g=!1;const k=new n(De.origin,{body:new Hd,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!k}),u=i&&o&&Wd(()=>R.isReadableStream(new r("").body)),p={stream:u&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!p[g]&&(p[g]=(k,v)=>{let f=k&&k[g];if(f)return f.call(k);throw new ee(`Response type '${g}' is not supported`,ee.ERR_NOT_SUPPORT,v)})});const x=async g=>{if(g==null)return 0;if(R.isBlob(g))return g.size;if(R.isSpecCompliantForm(g))return(await new n(De.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(R.isArrayBufferView(g)||R.isArrayBuffer(g))return g.byteLength;if(R.isURLSearchParams(g)&&(g=g+""),R.isString(g))return(await c(g)).byteLength},b=async(g,k)=>{const v=R.toFiniteNumber(g.getContentLength());return v??x(k)};return async g=>{let{url:k,method:v,data:f,signal:m,cancelToken:h,timeout:w,onDownloadProgress:_,onUploadProgress:T,responseType:N,headers:A,withCredentials:P="same-origin",fetchOptions:U}=Mp(g),z=t||fetch;N=N?(N+"").toLowerCase():"text";let H=Yy([m,h&&h.toAbortSignal()],w),J=null;const B=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let X;try{if(T&&d&&v!=="get"&&v!=="head"&&(X=await b(A,f))!==0){let j=new n(k,{method:"POST",body:f,duplex:"half"}),D;if(R.isFormData(f)&&(D=j.headers.get("content-type"))&&A.setContentType(D),j.body){const[q,O]=Id(X,Ha(zd(T)));f=Bd(j.body,Vd,q,O)}}R.isString(P)||(P=P?"include":"omit");const K=l&&"credentials"in n.prototype,C={...U,signal:H,method:v.toUpperCase(),headers:A.normalize().toJSON(),body:f,duplex:"half",credentials:K?P:void 0};J=l&&new n(k,C);let E=await(l?z(J,U):z(k,C));const S=u&&(N==="stream"||N==="response");if(u&&(_||S&&B)){const j={};["status","statusText","headers"].forEach(I=>{j[I]=E[I]});const D=R.toFiniteNumber(E.headers.get("content-length")),[q,O]=_&&Id(D,Ha(zd(_),!0))||[];E=new r(Bd(E.body,Vd,q,()=>{O&&O(),B&&B()}),j)}N=N||"text";let L=await p[R.findKey(p,N)||"text"](E,g);return!S&&B&&B(),await new Promise((j,D)=>{Dp(j,D,{data:L,headers:yt.from(E.headers),status:E.status,statusText:E.statusText,config:g,request:J})})}catch(K){throw B&&B(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,g,J),{cause:K.cause||K}):ee.from(K,K&&K.code,g,J)}}},rg=new Map,Ip=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,l=[r,a,n];let i=l.length,o=i,c,d,u=rg;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:ng(t)),u=d;return d};Ip();const cc={http:gy,xhr:Jy,fetch:{get:Ip}};R.forEach(cc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qd=e=>`- ${e}`,ag=e=>R.isFunction(e)||e===null||e===!1;function lg(e,t){e=R.isArray(e)?e:[e];const{length:n}=e;let r,a;const l={};for(let i=0;i<n;i++){r=e[i];let o;if(a=r,!ag(r)&&(a=cc[(o=String(r)).toLowerCase()],a===void 0))throw new ee(`Unknown adapter '${o}'`);if(a&&(R.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(Qd).join(`
`):" "+Qd(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const zp={getAdapter:lg,adapters:cc};function Gl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tr(null,e)}function Gd(e){return Gl(e),e.headers=yt.from(e.headers),e.data=Ql.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zp.getAdapter(e.adapter||oc.adapter,e)(e).then(function(r){return Gl(e),r.data=Ql.call(e,e.transformResponse,r),r.headers=yt.from(r.headers),r},function(r){return Fp(r)||(Gl(e),r&&r.response&&(r.response.data=Ql.call(e,e.transformResponse,r.response),r.response.headers=yt.from(r.response.headers))),Promise.reject(r)})}const $p="1.13.4",yl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Kd={};yl.transitional=function(t,n,r){function a(l,i){return"[Axios v"+$p+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,o)=>{if(t===!1)throw new ee(a(i," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!Kd[i]&&(Kd[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,i,o):!0}};yl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ig(e,t,n){if(typeof e!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const l=r[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new ee("option "+l+" must be "+c,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+l,ee.ERR_BAD_OPTION)}}const fa={assertOptions:ig,validators:yl},kt=fa.validators;class qa{constructor(t){this.defaults=t||{},this.interceptors={request:new Ud,response:new Ud}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ms(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:l}=n;r!==void 0&&fa.assertOptions(r,{silentJSONParsing:kt.transitional(kt.boolean),forcedJSONParsing:kt.transitional(kt.boolean),clarifyTimeoutError:kt.transitional(kt.boolean)},!1),a!=null&&(R.isFunction(a)?n.paramsSerializer={serialize:a}:fa.assertOptions(a,{encode:kt.function,serialize:kt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fa.assertOptions(n,{baseUrl:kt.spelling("baseURL"),withXsrfToken:kt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&R.merge(l.common,l[n.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],g=>{delete l[g]}),n.headers=yt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(c=c&&k.synchronous,o.unshift(k.fulfilled,k.rejected))});const d=[];this.interceptors.response.forEach(function(k){d.push(k.fulfilled,k.rejected)});let u,p=0,x;if(!c){const g=[Gd.bind(this),void 0];for(g.unshift(...o),g.push(...d),x=g.length,u=Promise.resolve(n);p<x;)u=u.then(g[p++],g[p++]);return u}x=o.length;let b=n;for(;p<x;){const g=o[p++],k=o[p++];try{b=g(b)}catch(v){k.call(this,v);break}}try{u=Gd.call(this,b)}catch(g){return Promise.reject(g)}for(p=0,x=d.length;p<x;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=Ms(this.defaults,t);const n=Up(t.baseURL,t.url,t.allowAbsoluteUrls);return Lp(n,t.params,t.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(t){qa.prototype[t]=function(n,r){return this.request(Ms(r||{},{method:t,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(t){function n(r){return function(l,i,o){return this.request(Ms(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}qa.prototype[t]=n(),qa.prototype[t+"Form"]=n(!0)});const ha=qa;class dc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{r.subscribe(o),l=o}).then(a);return i.cancel=function(){r.unsubscribe(l)},i},t(function(l,i,o){r.reason||(r.reason=new Tr(l,i,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new dc(function(a){t=a}),cancel:t}}}const og=dc;function cg(e){return function(n){return e.apply(null,n)}}function dg(e){return R.isObject(e)&&e.isAxiosError===!0}const Ji={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ji).forEach(([e,t])=>{Ji[t]=e});const ug=Ji;function Bp(e){const t=new ha(e),n=Np(ha.prototype.request,t);return R.extend(n,ha.prototype,t,{allOwnKeys:!0}),R.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Bp(Ms(e,a))},n}const ge=Bp(oc);ge.Axios=ha;ge.CanceledError=Tr;ge.CancelToken=og;ge.isCancel=Fp;ge.VERSION=$p;ge.toFormData=hl;ge.AxiosError=ee;ge.Cancel=ge.CanceledError;ge.all=function(t){return Promise.all(t)};ge.spread=cg;ge.isAxiosError=dg;ge.mergeConfig=Ms;ge.AxiosHeaders=yt;ge.formToJSON=e=>Op(R.isHTMLForm(e)?new FormData(e):e);ge.getAdapter=zp.getAdapter;ge.HttpStatusCode=ug;ge.default=ge;const mg=ge,pg="https://expo-lead-generation.onrender.com/api",Y=mg.create({baseURL:pg,headers:{"Content-Type":"application/json"}});Y.interceptors.request.use(e=>{const t=localStorage.getItem("authToken")||localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Y.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const fg={login:async(e,t)=>(await Y.post("/auth/login",{email:e,password:t})).data},uc={getOverview:async()=>(await Y.get("/admin/dashboard/overview")).data,getCompany:async e=>{const t=e?{company_id:e}:{};return(await Y.get("/admin/dashboard/company",{params:t})).data},getEmployee:async()=>(await Y.get("/admin/dashboard/employee")).data},Et={getUsers:async(e={})=>{if(e.role==="employee"){const{role:n,...r}=e;return(await Y.get("/admin/users?role=employee",{params:r})).data}return(await Y.get("/admin/users",{params:e})).data},createUser:async e=>{var t,n,r,a,l,i,o;console.log("Creating user with data:",e);try{const c={full_name:e.full_name,email:e.email,phone:e.phone,role:e.role||"employee",password:e.password,company_id:e.company_id};return console.log("Sending request data:",c),(await Y.post("/admin/users",c)).data}catch(c){if(console.log("Create user failed:",(t=c.response)==null?void 0:t.status),console.log("Error response:",(n=c.response)==null?void 0:n.data),((a=(r=c.response)==null?void 0:r.data)==null?void 0:a.error)==="Email already exists")throw new Error("An account with this email address already exists");if(((l=c.response)==null?void 0:l.status)===400||((i=c.response)==null?void 0:i.status)===403)try{const{company_id:d,...u}=e;return(await Y.post(`/admin/users?company_id=${d}`,u)).data}catch(d){throw console.log("Query parameter approach failed:",(o=d.response)==null?void 0:o.data),d}throw c}},updateUser:async(e,t)=>{var n,r,a,l,i;console.log("Updating user with data:",t);try{const{is_active:o,...c}=t;return(await Y.put(`/admin/users/${e}`,c)).data}catch(o){console.log("Admin users update endpoint failed, trying company-users endpoint:",(n=o.response)==null?void 0:n.status),console.log("Error response:",(r=o.response)==null?void 0:r.data);try{const{is_active:c,...d}=t;return(await Y.put(`/admin/company-users/${e}`,d)).data}catch(c){console.log("Company-users update endpoint failed, trying users endpoint:",(a=c.response)==null?void 0:a.status);try{const{is_active:d,...u}=t;return(await Y.put(`/users/${e}`,u)).data}catch(d){console.log("Users update endpoint failed, trying company-employees endpoint:",(l=d.response)==null?void 0:l.status);try{const{is_active:u,...p}=t;return(await Y.put(`/admin/company-employees/${e}`,p)).data}catch(u){throw console.log("All update endpoints failed, last error:",(i=u.response)==null?void 0:i.status),u}}}}},deactivateUser:async e=>{var t,n,r,a,l,i;console.log("Deactivating user:",e);try{return(await Y.put(`/admin/users/${e}/deactivate`)).data}catch(o){throw console.log("Deactivate endpoint failed:",(t=o.response)==null?void 0:t.status),console.log("Error response:",(n=o.response)==null?void 0:n.data),((r=o.response)==null?void 0:r.status)===404?new Error("Deactivate functionality is not available. Please contact your system administrator to enable employee deactivation."):((a=o.response)==null?void 0:a.status)===403?new Error("You do not have permission to deactivate employees. Please contact your system administrator."):((i=(l=o.response)==null?void 0:l.data)==null?void 0:i.error)==="Validation failed"?new Error("Unable to deactivate employee due to validation restrictions. Please contact your system administrator."):new Error("Failed to deactivate employee. Please try again or contact your system administrator.")}},deleteUser:async e=>{var t,n,r,a,l,i,o;console.log("Deleting user:",e);try{return(await Y.delete(`/admin/users/${e}`)).data}catch(c){console.log("DELETE endpoint failed, trying soft delete with PUT:",(t=c.response)==null?void 0:t.status),console.log("Error response:",(n=c.response)==null?void 0:n.data);try{return(await Y.put(`/admin/users/${e}`,{status:"inactive"})).data}catch(d){throw console.log("Status field soft delete failed:",(r=d.response)==null?void 0:r.status),console.log("Error2 response:",(a=d.response)==null?void 0:a.data),(o=(i=(l=d.response)==null?void 0:l.data)==null?void 0:i.details)!=null&&o.some(u=>(u.field==="is_active"||u.field==="status")&&u.message.includes("not allowed"))?(console.log("Company admins cannot modify status fields"),new Error("Company admins do not have permission to delete employees. Employee management modifications require platform admin access.")):d}}}},Ne={getCompanies:async(e={})=>(await Y.get("/admin/companies",{params:e})).data,getCompany:async e=>{var t,n;try{return(await Y.get(`/admin/companies/${e}`)).data}catch(r){if(((t=r.response)==null?void 0:t.status)===404){const l=(n=(await Y.get("/admin/companies")).data.companies)==null?void 0:n.find(i=>i.id===e);if(l)return l;throw new Error("Company not found")}throw r}},createCompany:async e=>(await Y.post("/admin/companies",e)).data,updateCompany:async(e,t)=>(await Y.put(`/admin/companies/${e}`,t)).data,deleteCompany:async e=>(await Y.delete(`/admin/companies/${e}`)).data,enableCompany:async e=>(await Y.put(`/admin/companies/${e}`,{status:"active"})).data,deactivateCompany:async e=>(await Y.put(`/admin/companies/${e}/deactivate`)).data},ks={getVisitors:async(e={})=>(await Y.get("/visitors",{params:e})).data,createVisitor:async e=>(await Y.post("/visitors",e)).data,searchVisitor:async e=>{console.log("Searching visitor by phone:",e);try{const t=await Y.get(`/visitors/search/${e}`);return console.log("Visitor search response:",t.data),t.data}catch(t){throw console.error("Error searching visitor:",t),t}},updateVisitor:async(e,t)=>(await Y.put(`/visitors/${e}`,t)).data,deleteVisitor:async e=>(await Y.delete(`/visitors/${e}`)).data,getVisitorStats:async()=>(await Y.get("/visitors/stats/overview")).data},Ss={getLeads:async(e={})=>(await Y.get("/leads",{params:e})).data,createLead:async(e,t={})=>{var n,r,a,l,i,o,c;console.log("=== API SERVICE DEBUG ==="),console.log("API Service - Creating lead with data:",e),console.log("API Service - Params received:",t),console.log("API Service - Request URL:","/leads"),console.log("API Service - Request method:","POST");try{const d=localStorage.getItem("authToken");let u={...e};if(console.log("Initial requestData:",JSON.stringify(u,null,2)),d)try{const x=JSON.parse(atob(d.split(".")[1]));console.log("JWT payload:",x),console.log("User role from token:",x.role),x.role==="platform_admin"&&t.company_id?(u.company_id=t.company_id,console.log("Platform admin detected, adding company_id to request body:",t.company_id),console.log("Updated requestData with company_id:",JSON.stringify(u,null,2))):(console.log("Not adding company_id - conditions not met:"),console.log("  - is platform_admin:",x.role==="platform_admin"),console.log("  - has company_id param:",!!t.company_id),console.log("  - company_id value:",t.company_id))}catch(x){console.log("Token parsing failed:",x)}else{console.log("No authToken found in localStorage");const x=localStorage.getItem("token");if(x){console.log("Found fallback token, trying that...");try{const b=JSON.parse(atob(x.split(".")[1]));console.log("Fallback JWT payload:",b),b.role==="platform_admin"&&t.company_id&&(u.company_id=t.company_id,console.log("Platform admin detected with fallback token, adding company_id:",t.company_id),console.log("Updated requestData with company_id:",JSON.stringify(u,null,2)))}catch(b){console.log("Fallback token parsing failed:",b)}}else console.log("No token found in localStorage at all")}console.log("Final request data being sent:",JSON.stringify(u,null,2)),console.log("Making POST request to: /leads");const p=await Y.post("/leads",u,{headers:{"Content-Type":"application/json"}});return console.log("API Service - Response:",p),console.log("=== END API DEBUG ==="),p.data}catch(d){throw console.log("=== API ERROR DEBUG ==="),console.log("API Service - Error details:",{message:d.message,status:(n=d.response)==null?void 0:n.status,statusText:(r=d.response)==null?void 0:r.statusText,data:(a=d.response)==null?void 0:a.data,config:{url:(l=d.config)==null?void 0:l.url,method:(i=d.config)==null?void 0:i.method,data:(o=d.config)==null?void 0:o.data,headers:(c=d.config)==null?void 0:c.headers}}),d}},getLead:async e=>{console.log("API Service - Fetching lead with ID:",e);try{const t=await Y.get(`/leads/${e}`);return console.log("API Service - Lead response:",t.data),t.data}catch(t){throw console.error("API Service - Error fetching lead:",t),t}},updateLead:async(e,t)=>{var n,r,a,l,i,o,c;console.log("=== UPDATE LEAD API DEBUG ==="),console.log("API Service - Updating lead with ID:",e),console.log("API Service - Update data:",JSON.stringify(t,null,2)),console.log("API Service - Request method:","PUT"),console.log("API Service - Request URL:",`/leads/${e}`);try{const d=await Y.put(`/leads/${e}`,t);return console.log("API Service - Update response:",d),console.log("API Service - Response data:",d.data),console.log("=== END UPDATE LEAD DEBUG ==="),d.data}catch(d){throw console.log("=== UPDATE LEAD ERROR DEBUG ==="),console.log("API Service - Update error details:",{message:d.message,status:(n=d.response)==null?void 0:n.status,statusText:(r=d.response)==null?void 0:r.statusText,data:(a=d.response)==null?void 0:a.data,config:{url:(l=d.config)==null?void 0:l.url,method:(i=d.config)==null?void 0:i.method,data:(o=d.config)==null?void 0:o.data,headers:(c=d.config)==null?void 0:c.headers}}),d}},deleteLead:async e=>(await Y.delete(`/leads/${e}`)).data,getLeadStats:async()=>(await Y.get("/leads/stats/overview")).data},hg={getAuditLogs:async(e={})=>(await Y.get("/admin/audit-logs",{params:e})).data},Kl={getCompanyAdmins:async(e={})=>(await Y.get("/admin/company-admins",{params:e})).data,createCompanyAdmin:async e=>(await Y.post("/admin/company-admins",e)).data,updateCompanyAdmin:async(e,t)=>(await Y.put(`/admin/company-admins/${e}`,t)).data},Vp=y.createContext(),ve=()=>{const e=y.useContext(Vp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xg=({children:e})=>{const[t,n]=y.useState(null),[r,a]=y.useState(!0);y.useEffect(()=>{const c=localStorage.getItem("authToken"),d=localStorage.getItem("user");c&&d&&n(JSON.parse(d)),a(!1)},[]);const o={user:t,login:async(c,d)=>{var u,p;try{const x=await fg.login(c,d);return x.token&&x.user?(n(x.user),localStorage.setItem("authToken",x.token),localStorage.setItem("user",JSON.stringify(x.user)),{success:!0}):{success:!1,error:"Invalid response from server"}}catch(x){return{success:!1,error:((p=(u=x.response)==null?void 0:u.data)==null?void 0:p.error)||x.message||"Login failed"}}},logout:()=>{n(null),localStorage.removeItem("authToken"),localStorage.removeItem("user")},loading:r,isPlatformAdmin:(t==null?void 0:t.role)==="platform_admin",isCompanyAdmin:(t==null?void 0:t.role)==="company_admin",isEmployee:(t==null?void 0:t.role)==="employee",companyId:t==null?void 0:t.company_id};return s.jsx(Vp.Provider,{value:o,children:e})},Hp=y.createContext(),Ee=()=>{const e=y.useContext(Hp);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},yg=({children:e})=>{const[t,n]=y.useState([]),r=(u,p="success",x=5e3)=>{const b=Date.now()+Math.random(),g={id:b,message:u,type:p,duration:x};return n(k=>[...k,g]),x>0&&setTimeout(()=>{a(b)},x),b},a=u=>{n(p=>p.filter(x=>x.id!==u))},l=()=>{n([])},i=(u,p)=>r(u,"success",p),o=(u,p)=>r(u,"error",p),c=(u,p)=>r(u,"warning",p),d=(u,p)=>r(u,"info",p);return s.jsx(Hp.Provider,{value:{notifications:t,addNotification:r,removeNotification:a,clearAllNotifications:l,showSuccess:i,showError:o,showWarning:c,showInfo:d},children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>y.createElement("svg",{ref:u,...gg,width:a,height:a,stroke:r,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${vg(e)}`,o].join(" "),...d},[...t.map(([p,x])=>y.createElement(p,x)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Q("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Q("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Q("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Q("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Q("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class Dg extends io.Component{constructor(n){super(n);xc(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Error caught by boundary:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(br,{className:"h-12 w-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page or contact support if the problem persists."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs("button",{onClick:this.handleRetry,className:"btn btn-primary flex items-center justify-center",children:[s.jsx(Wp,{className:"h-4 w-4 mr-2"}),"Try Again"]}),s.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"btn btn-secondary flex items-center justify-center",children:[s.jsx(_g,{className:"h-4 w-4 mr-2"}),"Go to Dashboard"]})]}),!1]})})}):this.props.children}}const Ug=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[a,l]=y.useState(!1),[i,o]=y.useState({}),[c,d]=y.useState(!1);y.useState(!1);const[u,p]=y.useState(!1),{login:x,user:b}=ve(),{showError:g,showSuccess:k}=Ee();if(b)return s.jsx(nc,{to:"/dashboard",replace:!0});const v=h=>{const _={platform:{email:"admin@platform.com",password:"admin123"},company:{email:"admin@furniture.com",password:"admin123"}}[h];t(_.email),r(_.password),o({}),k(`Demo credentials filled for ${h} admin`)},f=()=>{const h={};return e.trim()?/\S+@\S+\.\S+/.test(e)||(h.email="Please enter a valid email address"):h.email="Email address is required",n?n.length<6&&(h.password="Password must be at least 6 characters long"):h.password="Password is required",o(h),Object.keys(h).length===0},m=async h=>{if(h.preventDefault(),!!f()){d(!0);try{const w=await x(e,n);w.success||g(w.error||"Login failed. Please check your credentials and try again.")}catch{g("Unable to connect to the server. Please check your internet connection and try again.")}finally{d(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gradient-to-r from-primary-600 to-purple-600 shadow-lg transform transition-transform duration-200 hover:scale-105",children:s.jsx(fn,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome back to ExpoLead"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your visitor data and lead management platform"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(kr,{className:"inline h-4 w-4 mr-1"}),"Email address"]}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,disabled:c,onChange:h=>{t(h.target.value),i.email&&o(w=>({...w,email:""}))},className:`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 ${i.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:"Enter your email address"}),i.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(pn,{className:"h-4 w-4 mr-1"}),i.email]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Lg,{className:"inline h-4 w-4 mr-1"}),"Password"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:n,disabled:c,onChange:h=>{r(h.target.value),i.password&&o(w=>({...w,password:""}))},className:`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 ${i.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-primary-500 focus:ring-primary-500"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>l(!a),disabled:c,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",tabIndex:-1,children:a?s.jsx(Eg,{className:"h-5 w-5"}):s.jsx(Bs,{className:"h-5 w-5"})})]}),i.password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(pn,{className:"h-4 w-4 mr-1"}),i.password]})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] disabled:hover:scale-100",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Rg,{className:"h-5 w-5 mr-2 animate-spin"}),"Signing in..."]}):"Sign in"})}),s.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Quick Demo Access"}),s.jsxs("button",{type:"button",onClick:()=>p(!u),className:"text-xs text-primary-600 hover:text-primary-800 transition-colors duration-200",children:[u?"Hide":"Show"," credentials"]})]}),u&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border border-gray-200 hover:border-primary-300 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(pc,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Platform Admin"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Full system access"})]})]}),s.jsx("button",{type:"button",onClick:()=>v("platform"),className:"text-xs bg-purple-100 text-purple-800 px-3 py-1 rounded-full hover:bg-purple-200 transition-colors duration-200",children:"Use"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border border-gray-200 hover:border-primary-300 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bg,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Company Admin"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Company management"})]})]}),s.jsx("button",{type:"button",onClick:()=>v("company"),className:"text-xs bg-blue-100 text-blue-800 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors duration-200",children:"Use"})]})]})]})]})]})})},Mg=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=new Date,r=n-t,a=Math.floor(r/(1e3*60*60)),l=Math.floor(r/(1e3*60*60*24));return a<1?"Just now":a<24?`${a} hour${a>1?"s":""} ago`:l<7?`${l} day${l>1?"s":""} ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==n.getFullYear()?"numeric":void 0,hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("Error formatting date:",t),"Invalid Date"}},Ig=()=>{var d,u,p,x,b,g,k,v;const{showNotification:e}=Ee(),[t,n]=y.useState(!0),[r,a]=y.useState(null);y.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const f=await uc.getOverview();a(f)}catch{e.showError("Failed to fetch dashboard data")}finally{n(!1)}};if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(!r)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Unable to load dashboard data"})});const i=[{name:"Total Companies",value:((d=r.companies)==null?void 0:d.total)||0,change:`${((u=r.companies)==null?void 0:u.active)||0} active`,changeType:"positive",icon:Ae,color:"text-blue-600"},{name:"Total Users",value:((p=r.users)==null?void 0:p.total)||0,change:`${((x=r.users)==null?void 0:x.platform_admins)||0} admins`,changeType:"positive",icon:Tt,color:"text-green-600"},{name:"Total Visitors",value:((b=r.visitors)==null?void 0:b.total)||0,change:`+${((g=r.visitors)==null?void 0:g.last_30_days)||0} this month`,changeType:"positive",icon:gt,color:"text-purple-600"},{name:"Total Leads",value:((k=r.leads)==null?void 0:k.total)||0,change:`+${((v=r.leads)==null?void 0:v.last_30_days)||0} this month`,changeType:"positive",icon:Rt,color:"text-orange-600"}],o=f=>{switch(f){case"lead":return Tt;case"event":return xs;case"company":return Ae;case"conversion":return Rt;case"visitor":return gt;default:return kn}},c=(r.recent_activity||[]).map(f=>({...f,icon:o(f.type)}));return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Platform Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor your visitor data collection platform performance"})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:i.map(f=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(f.icon,{className:`h-8 w-8 ${f.color}`})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:f.name}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:f.value}),f.change&&s.jsx("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${f.changeType==="positive"?"text-green-600":"text-gray-500"}`,children:f.change})]})]})})]})},f.name))}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:c.length>0?c.map(f=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:f.icon&&s.jsx(f.icon,{className:"h-8 w-8 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.company||`${f.type} activity`}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[f.action||f.count," ",f.type]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:Mg(f.time||f.date)})]},f.id||f.date)):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>window.location.href="/companies",className:"btn btn-primary text-center",children:[s.jsx(Ae,{className:"h-5 w-5 mr-2 inline"}),"Manage Companies"]}),s.jsxs("button",{onClick:()=>window.location.href="/visitors",className:"btn btn-secondary text-center",children:[s.jsx(gt,{className:"h-5 w-5 mr-2 inline"}),"View Visitors"]}),s.jsxs("button",{onClick:()=>window.location.href="/leads",className:"btn btn-secondary text-center",children:[s.jsx(Rt,{className:"h-5 w-5 mr-2 inline"}),"Manage Leads"]})]})]})]})},zg=e=>{if(!e)return"N/A";try{const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("Error formatting visit date:",t),"Invalid Date"}},$g=()=>{var u,p,x,b,g,k,v,f,m,h,w,_,T,N,A,P,U,z,H,J,B,X,K,C;const{user:e,companyId:t}=ve(),{showNotification:n}=Ee(),[r,a]=y.useState(!0),[l,i]=y.useState(null);y.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const E=await uc.getCompany(t);i(E)}catch(E){console.error("Dashboard API Error:",E),n.showError("Failed to fetch dashboard data")}finally{a(!1)}};if(r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(!l)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Unable to load dashboard data"})});const c=[{name:"Total Employees",value:((u=l==null?void 0:l.users)==null?void 0:u.employees)||0,change:"Active staff members",changeType:"positive",icon:gt,color:"text-blue-600",bgColor:"bg-blue-50"},{name:"Total Leads",value:((p=l==null?void 0:l.leads)==null?void 0:p.total)||0,change:`${((x=l==null?void 0:l.leads)==null?void 0:x.last_30_days)||0} this month`,changeType:"positive",icon:Rt,color:"text-green-600",bgColor:"bg-green-50"},{name:"Today's Leads",value:((b=l==null?void 0:l.leads)==null?void 0:b.today)||0,change:((g=l==null?void 0:l.leads)==null?void 0:g.today)>0?"New leads today":"No new leads today",changeType:((k=l==null?void 0:l.leads)==null?void 0:k.today)>0?"positive":"neutral",icon:kn,color:((v=l==null?void 0:l.leads)==null?void 0:v.today)>0?"text-emerald-600":"text-gray-600",bgColor:((f=l==null?void 0:l.leads)==null?void 0:f.today)>0?"bg-emerald-50":"bg-gray-50"},{name:"Active Employees",value:((h=(m=l==null?void 0:l.employee_stats)==null?void 0:m.filter(E=>parseInt(E.leads_count)>0))==null?void 0:h.length)||0,change:`of ${((w=l==null?void 0:l.users)==null?void 0:w.employees)||0} total`,changeType:"neutral",icon:Tt,color:"text-purple-600",bgColor:"bg-purple-50"},{name:"Company Status",value:((_=l==null?void 0:l.company)==null?void 0:_.status)||"Unknown",change:((T=l==null?void 0:l.company)==null?void 0:T.company_code)||"",changeType:((N=l==null?void 0:l.company)==null?void 0:N.status)==="active"?"positive":"warning",icon:Ae,color:((A=l==null?void 0:l.company)==null?void 0:A.status)==="active"?"text-teal-600":"text-amber-600",bgColor:((P=l==null?void 0:l.company)==null?void 0:P.status)==="active"?"bg-teal-50":"bg-amber-50"},{name:"Top Performer",value:((H=(z=(U=l==null?void 0:l.employee_stats)==null?void 0:U.sort((E,S)=>parseInt(S.leads_count)-parseInt(E.leads_count))[0])==null?void 0:z.full_name)==null?void 0:H.trim())||"N/A",change:`${((B=(J=l==null?void 0:l.employee_stats)==null?void 0:J.sort((E,S)=>parseInt(S.leads_count)-parseInt(E.leads_count))[0])==null?void 0:B.leads_count)||0} leads`,changeType:"positive",icon:Or,color:"text-orange-600",bgColor:"bg-orange-50"},{name:"Last 7 Days Activity",value:(X=l==null?void 0:l.employee_stats)==null?void 0:X.reduce((E,S)=>E+parseInt(S.leads_last_7_days||0),0),change:"Employee leads generated",changeType:"positive",icon:fn,color:"text-indigo-600",bgColor:"bg-indigo-50"},{name:"Total Users",value:((K=l==null?void 0:l.users)==null?void 0:K.total)||0,change:`${((C=l==null?void 0:l.users)==null?void 0:C.employees)||0} employees`,changeType:"positive",icon:fc,color:"text-cyan-600",bgColor:"bg-cyan-50"}],d=(l==null?void 0:l.recent_leads)||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Company Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Welcome back! Here's what's happening with your visitors today."})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:c.map(E=>s.jsx("div",{className:`card ${E.bgColor} border-l-4 border-l-${E.color.replace("text-","")}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 ${E.bgColor} rounded-lg p-3`,children:s.jsx(E.icon,{className:`h-6 w-6 ${E.color}`})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:E.name}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.value}),E.change&&s.jsx("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${E.changeType==="positive"?"text-green-600":E.changeType==="warning"?"text-yellow-600":"text-gray-500"}`,children:E.change})]})]})})]})},E.name))}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Recent Activity"}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map((E,S)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(gt,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.visitor_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[zg(E.created_at)," - ",E.employee_name]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Lead Generated"})]},E.id||S))}):s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>window.location.href="/visitors",className:"btn btn-primary text-center",children:[s.jsx(gt,{className:"h-5 w-5 mr-2 inline"}),"Check In Visitor"]}),s.jsxs("button",{onClick:()=>window.location.href="/leads",className:"btn btn-secondary text-center",children:[s.jsx(Rt,{className:"h-5 w-5 mr-2 inline"}),"View Leads"]}),s.jsxs("button",{onClick:()=>window.location.href="/badge-mapping",className:"btn btn-secondary text-center",children:[s.jsx(mc,{className:"h-5 w-5 mr-2 inline"}),"Badge Mapping"]})]})]})})]})},Jl=()=>{const{isPlatformAdmin:e,isCompanyAdmin:t}=ve();return e?s.jsx(Ig,{}):t?s.jsx($g,{}):s.jsx("div",{children:"Access Denied"})},Bg=()=>{const e=Ft(),{showSuccess:t,showError:n}=Ee(),[r,a]=y.useState(""),[l,i]=y.useState("all"),[o,c]=y.useState(1),[d,u]=y.useState(!0),[p,x]=y.useState([]),[b,g]=y.useState({}),[k,v]=y.useState(!1),[f,m]=y.useState(!1),[h,w]=y.useState(null),[_,T]=y.useState(!1),[N,A]=y.useState({name:"",company_code:"",email:"",phone:"",address:""});y.useEffect(()=>{P()},[o,r,l]);const P=async()=>{try{u(!0);const C={page:o,search:r||void 0,status:l!=="all"?l:void 0},E=await Ne.getCompanies(C);x(E.companies||[]),g(E.pagination||{})}catch{n("Failed to fetch companies")}finally{u(!1)}},U=async C=>{var E,S,L,j,D,q,O;if(C.preventDefault(),!N.name.trim()||!N.company_code.trim()||!N.email.trim()){n("Please fill in all required fields");return}try{T(!0);const I={name:N.name,company_code:N.company_code,contact_email:N.email,contact_phone:N.phone};console.log("Creating company with data:",I),await Ne.createCompany(I),t("Company created successfully"),v(!1),A({name:"",company_code:"",email:"",phone:"",address:""}),P()}catch(I){if(console.error("Create company error:",I),console.error("Create company error response:",I.response),console.error("Create company error response data:",(E=I.response)==null?void 0:E.data),(L=(S=I.response)==null?void 0:S.data)!=null&&L.error){const $=I.response.data;if(console.log("Error data details:",$.details),$.details&&Array.isArray($.details)){console.log("Validation details array:",$.details),$.details.forEach((W,ne)=>{console.log(`Detail ${ne}:`,W),console.log(`Detail ${ne} keys:`,Object.keys(W)),W.field&&console.log(`Detail ${ne} field:`,W.field),W.message&&console.log(`Detail ${ne} message:`,W.message),W.error&&console.log(`Detail ${ne} error:`,W.error)});const G=$.details.map(W=>typeof W=="string"?W:W.field?`${W.field}: ${W.message||W.error||"Unknown error"}`:W.message?W.message:W.error?W.error:JSON.stringify(W)).join("; ");n(`Validation failed: ${G}`)}else $.message?n(`Failed to create company: ${$.message}`):n(`Failed to create company: ${$.error}`)}else if((D=(j=I.response)==null?void 0:j.data)!=null&&D.message)n(`Failed to create company: ${I.response.data.message}`);else if((O=(q=I.response)==null?void 0:q.data)!=null&&O.errors){const $=I.response.data.errors,G=Object.keys($).map(W=>`${W}: ${$[W].join(", ")}`);n(`Validation errors: ${G.join("; ")}`)}else n("Failed to create company")}finally{T(!1)}},z=C=>C==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",H=C=>{e(`/companies/${C.id}`)},J=C=>{w({id:C.id,name:C.name,company_code:C.company_code,email:C.contact_email,phone:C.contact_phone,address:C.address}),m(!0)},B=async C=>{var E,S;C.preventDefault(),T(!0);try{const L={name:h.name,company_code:h.company_code,contact_email:h.email,contact_phone:h.phone,address:h.address};await Ne.updateCompany(h.id,L),t("Company updated successfully"),m(!1),w(null),P()}catch(L){console.error("Error updating company:",L);const j=((S=(E=L.response)==null?void 0:E.data)==null?void 0:S.message)||L.message||"Failed to update company";n(`Failed to update company: ${j}`)}finally{T(!1)}},X=async C=>{var L,j;const E=String(C==null?void 0:C.status).toLowerCase().trim();if(confirm(`Are you sure you want to ${E==="active"||E==="true"?"deactivate":"enable"} ${C==null?void 0:C.name}?`)){T(!0);try{if(E==="active"||E==="true")try{console.log("Attempting to deactivate company:",C.id);const D=await Ne.deactivateCompany(C.id);console.log("Deactivate response:",D),t("Company deactivated successfully"),P()}catch(D){console.error("Deactivate endpoint failed:",D),console.error("Deactivate error response:",(L=D.response)==null?void 0:L.data);try{const q={name:C.name,company_code:C.company_code,contact_email:C.contact_email,contact_phone:C.contact_phone,address:C.address,status:"inactive"};console.log("Sending update data:",q);const O=await Ne.updateCompany(C.id,q);console.log("Full update response:",O),t("Company deactivated successfully"),P()}catch(q){console.error("Full update failed:",q),console.error("Full update error response:",(j=q.response)==null?void 0:j.data),n("Failed to deactivate company")}}else{const D={name:C.name,company_code:C.company_code,contact_email:C.contact_email,contact_phone:C.contact_phone,address:C.address,status:"active"};console.log("Sending enable data:",D);const q=await Ne.updateCompany(C.id,D);console.log("Enable response:",q),t("Company enabled successfully"),P()}}catch(D){console.error("Error toggling company status:",D),n("Failed to update company status")}finally{T(!1)}}},K=C=>{c(C)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Company Management"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage platform companies and their subscriptions"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary flex items-center",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Add Company"]})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search companies...",value:r,onChange:C=>a(C.target.value),className:"pl-10 w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:l,onChange:C=>i(C.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{a(""),i("all"),c(1)},className:"btn btn-secondary",children:"Clear Filters"})})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Companies (",b.total_records||0,")"]})}),d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):p.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ae,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No companies found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r||l!=="all"?"Try adjusting your filters":"Get started by adding a new company"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leads"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),s.jsx("div",{className:"text-xs text-gray-500",children:C.company_code||""})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-500",children:C.contact_email||"No email"}),s.jsx("div",{className:"text-xs text-gray-400",children:C.contact_phone||"No phone"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[C.total_users||0," users"]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[C.company_admins||0," admins, ",C.employees||0," employees"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:C.total_leads||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z(C.status)}`,children:C.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString("en-GB")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>H(C),className:"text-blue-600 hover:text-blue-900",title:"View",children:s.jsx(Bs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>J(C),className:"text-green-600 hover:text-green-900",title:"Edit",children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>X(C),className:`${String(C==null?void 0:C.status).toLowerCase().trim()==="active"||String(C==null?void 0:C.status).toLowerCase().trim()==="true"?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"} disabled:opacity-50 disabled:cursor-not-allowed`,title:String(C==null?void 0:C.status).toLowerCase().trim()==="active"||String(C==null?void 0:C.status).toLowerCase().trim()==="true"?"Deactivate":"Enable",disabled:_,children:s.jsx(qp,{className:"h-4 w-4"})})]})})]},C.id))})]})}),b.total_pages>1&&s.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>K(o-1),disabled:o===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsx("button",{onClick:()=>K(o+1),disabled:o===b.total_pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(o-1)*10+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(o*10,b.total_records)})," ","of ",s.jsx("span",{className:"font-medium",children:b.total_records})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>K(o-1),disabled:o===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:s.jsx(Sg,{className:"h-5 w-5"})}),s.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:[o," / ",b.total_pages]}),s.jsx("button",{onClick:()=>K(o+1),disabled:o===b.total_pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:s.jsx(Cg,{className:"h-5 w-5"})})]})})]})]})})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Company"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsx("input",{type:"text",name:"name",value:(h==null?void 0:h.name)||"",onChange:C=>w({...h,name:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",name:"company_code",value:(h==null?void 0:h.company_code)||"",onChange:C=>w({...h,company_code:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),s.jsx("input",{type:"email",name:"contact_email",value:(h==null?void 0:h.email)||"",onChange:C=>w({...h,email:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),s.jsx("input",{type:"tel",name:"contact_phone",value:(h==null?void 0:h.phone)||"",onChange:C=>w({...h,phone:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("textarea",{name:"address",value:(h==null?void 0:h.address)||"",onChange:C=>w({...h,address:C.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:_,className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:_?s.jsxs(s.Fragment,{children:[s.jsx(Ls,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):s.jsx(s.Fragment,{children:"Update Company"})})]})]})]})})}),k&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>v(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:U,children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Create New Company"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",required:!0,value:N.name,onChange:C=>A({...N,name:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Code *"}),s.jsx("input",{type:"text",required:!0,value:N.company_code,onChange:C=>A({...N,company_code:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:N.email,onChange:C=>A({...N,email:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:N.phone,onChange:C=>A({...N,phone:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("textarea",{value:N.address,onChange:C=>A({...N,address:C.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:_,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:_?"Creating...":"Create Company"}),s.jsx("button",{type:"button",onClick:()=>v(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},Vg=()=>{const{id:e}=sc(),t=Ft(),{showSuccess:n,showError:r}=Ee(),{user:a}=ve(),[l,i]=y.useState(null),[o,c]=y.useState(!0),[d,u]=y.useState(!1),[p,x]=y.useState(!1),[b,g]=y.useState({name:"",company_code:"",contact_email:"",contact_phone:"",description:""}),k=(a==null?void 0:a.role)==="platform_admin",v=[{id:1,timestamp:new Date().toISOString(),action:"Company viewed",resource:"Company Details",status:"success",details:`Viewed company details for ${e}`}];y.useEffect(()=>{f()},[e]);const f=async()=>{var P,U;try{c(!0);const z=await Ne.getCompany(e);i(z)}catch(z){if(((P=z.response)==null?void 0:P.status)===404)try{const J=(U=(await Ne.getCompanies()).companies)==null?void 0:U.find(B=>B.id===e);J?i(J):(r("Company not found or access denied"),t("/companies"))}catch{r("Company not found or access denied"),t("/companies")}else r("Failed to fetch company details"),t("/companies")}finally{c(!1)}},m=P=>{console.log("Getting color for status:",P,"Type:",typeof P);const U=String(P).toLowerCase().trim();return console.log("Normalized status:",U),U==="active"||U==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"},h=P=>{switch(P){case"success":return s.jsx(gl,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(br,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(br,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Ls,{className:"h-4 w-4 text-gray-500"})}},w=()=>{t("/companies")},_=()=>{g({name:l.name,company_code:l.company_code,contact_email:l.contact_email,contact_phone:l.contact_phone,description:l.description||""}),u(!0)},T=async P=>{if(P.preventDefault(),!b.name.trim()||!b.company_code.trim()||!b.contact_email.trim()){r("Please fill in all required fields");return}x(!0);try{await Ne.updateCompany(e,b),n("Company updated successfully"),f(),u(!1)}catch{r("Failed to update company")}finally{x(!1)}},N=P=>{g({...b,[P.target.name]:P.target.value})},A=async()=>{var z,H,J,B,X,K,C,E,S;const P=String(l==null?void 0:l.status).toLowerCase().trim(),U=P==="active"||P==="true"?"deactivate":"enable";if(confirm(`Are you sure you want to ${U} ${l==null?void 0:l.name}?`)){x(!0);try{if(P==="active"||P==="true")try{console.log("Attempting to deactivate company:",e);const L=await Ne.deactivateCompany(e);console.log("Deactivate response:",L),n("Company deactivated successfully")}catch(L){console.error("Deactivate endpoint failed:",L),console.error("Deactivate error response:",(z=L.response)==null?void 0:z.data);try{console.log("Trying full company data update with inactive status");const j={name:l.name,company_code:l.company_code,contact_email:l.contact_email,contact_phone:l.contact_phone,description:l.description||"",status:"inactive"};console.log("Sending update data:",j);const D=await Ne.updateCompany(e,j);console.log("Full update response:",D),n("Company deactivated successfully")}catch(j){throw console.error("Full update failed:",j),console.error("Full update error response:",(H=j.response)==null?void 0:H.data),j}}else try{console.log("Attempting to enable company:",e);const L=await Ne.enableCompany(e);console.log("Enable response:",L),n("Company enabled successfully")}catch(L){console.error("Enable endpoint failed:",L),console.error("Enable error response:",(J=L.response)==null?void 0:J.data);try{console.log("Trying full company data update with active status");const j={name:l.name,company_code:l.company_code,contact_email:l.contact_email,contact_phone:l.contact_phone,description:l.description||"",status:"active"};console.log("Sending update data:",j);const D=await Ne.updateCompany(e,j);console.log("Full update response:",D),n("Company enabled successfully")}catch(j){throw console.error("Full update failed:",j),console.error("Full update error response:",(B=j.response)==null?void 0:B.data),j}}f()}catch(L){if(console.error("Enable/disable error:",L),console.error("Enable/disable error response:",L.response),console.error("Enable/disable error response data:",(X=L.response)==null?void 0:X.data),((K=L.response)==null?void 0:K.status)===403)r("Access denied. Only Platform Admins can enable/disable companies.");else if(((C=L.response)==null?void 0:C.status)===404)r("Enable/disable functionality not available. Please contact administrator.");else if(((E=L.response)==null?void 0:E.status)===500){const j=(S=L.response)==null?void 0:S.data;console.log("500 Error Data:",j),j!=null&&j.error?r(`Server error: ${j.error}`):r("Server error occurred. Please try again or contact administrator.")}else r(`Failed to ${U} company`)}finally{x(!1)}}};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading company details..."})]})}):l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:w,className:"btn btn-secondary",children:s.jsx(Wa,{className:"h-4 w-4 mr-2"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:l.name}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Company details and management"})]})]}),s.jsxs("div",{className:"mt-4 flex md:ml-4 md:mt-0 space-x-3",children:[k&&s.jsxs("button",{onClick:_,className:"btn btn-secondary flex items-center",children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs("button",{onClick:A,disabled:p,className:`btn flex items-center ${String(l==null?void 0:l.status).toLowerCase().trim()==="active"||String(l==null?void 0:l.status).toLowerCase().trim()==="true"?"btn-secondary text-red-600 hover:text-red-700":"btn-secondary text-green-600 hover:text-green-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[s.jsx(qp,{className:"h-4 w-4 mr-2"}),p?"Processing...":String(l==null?void 0:l.status).toLowerCase().trim()==="active"||String(l==null?void 0:l.status).toLowerCase().trim()==="true"?"Deactivate":"Enable"]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ae,{className:"h-5 w-5 mr-2 text-gray-500"}),"Company Profile"]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(l.status)}`,children:l.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.company_code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.contact_email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.contact_phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(l.status)}`,children:l.status})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(l.created_at).toLocaleDateString("en-GB")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Updated Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(l.updated_at).toLocaleDateString("en-GB")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Users"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.total_users||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Admins"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.company_admins||0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employees"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.employees||0})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:l.description||"No description available"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[s.jsx(gt,{className:"h-5 w-5 mr-2 text-gray-500"}),"Usage Metrics"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(Tt,{className:"h-8 w-8 text-blue-600"})}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.total_users||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Active users"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(At,{className:"h-8 w-8 text-green-600"})}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.total_leads||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Leads"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Generated leads"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(xs,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.total_leads>0?Math.round(l.total_leads/(l.total_users||1)*100):0,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Leads per User"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Efficiency rate"})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 text-gray-500"}),"Registration QR Code"]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-6 md:space-y-0 md:space-x-8",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-48 h-48 bg-gray-100 border-2 border-gray-200 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nr,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"QR Code Preview"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Interactive QR would be here"})]})})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"QR Code Details"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Company:"}),s.jsx("span",{className:"font-medium",children:l.name})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Domain:"}),s.jsx("span",{className:"font-medium",children:l.domain})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Generated:"}),s.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString("en-GB")})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx("span",{className:"font-medium text-green-600",children:"Active"})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"btn btn-primary text-sm",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Regenerate QR"]}),s.jsxs("button",{className:"btn btn-secondary text-sm",children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Preview Registration"]})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[s.jsx(At,{className:"h-5 w-5 mr-2 text-gray-500"}),"Company Audit Logs"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900",children:"Timestamp"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Action"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Resource"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Details"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:v.slice(0,10).map(P=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ls,{className:"h-4 w-4 text-gray-400 mr-2"}),new Date(P.timestamp).toLocaleString()]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm font-medium text-gray-900",children:P.action}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:P.resource}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:s.jsxs("div",{className:"flex items-center",children:[h(P.status),s.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${P.status==="success"?"bg-green-100 text-green-800":P.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:P.status})]})}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 max-w-xs truncate",children:P.details})]},P.id))})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("button",{className:"btn btn-secondary text-sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"View All Audit Logs"]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Company"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsx("input",{type:"text",name:"name",value:b.name,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",name:"company_code",value:b.company_code,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),s.jsx("input",{type:"email",name:"contact_email",value:b.contact_email,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),s.jsx("input",{type:"tel",name:"contact_phone",value:b.contact_phone,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{name:"description",value:b.description,onChange:N,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ls,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):s.jsx(s.Fragment,{children:"Update Company"})})]})]})]})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Company Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The requested company could not be found."}),s.jsxs("button",{onClick:w,className:"btn btn-primary",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Back to Companies"]})]})})},Hg=()=>{const{showSuccess:e,showError:t}=Ee(),[n,r]=y.useState(!0),[a,l]=y.useState([]),[i,o]=y.useState([]),[c,d]=y.useState([]),[u,p]=y.useState([]),[x,b]=y.useState(0),[g,k]=y.useState(0),[v,f]=y.useState(0),[m,h]=y.useState(0),[w,_]=y.useState("0.0");y.useEffect(()=>{T()},[]);const T=async()=>{try{r(!0);const A=(await Ne.getCompanies()).companies||[];l(A);const P=A.length,U=A.filter(S=>S.status==="active"||S.status==="Active").length,z=A.reduce((S,L)=>{const j=parseInt(L.total_leads)||parseInt(L.leads)||parseInt(L.lead_count)||0;return S+j},0),H=A.reduce((S,L)=>S+(L.total_users||0),0),J=H>0?(z/H*100).toFixed(1):"0.0";b(P),k(U),f(z),h(H),_(J),console.log("Total leads calculated:",z),console.log("Companies count:",P),console.log("Companies leads breakdown:",A.map(S=>({name:S.name,leads:S.total_leads||S.leads||S.lead_count||0})));const B=[{title:"Total Companies",value:P.toString(),change:U>0?`+${U}`:"0",changeType:"positive",icon:Ae,color:"text-blue-600"},{title:"Active Companies",value:U.toString(),change:U>0?`+${U}`:"0",changeType:"positive",icon:kn,color:"text-green-600"},{title:"Total Leads Generated",value:z.toString(),change:"+15.3%",changeType:"positive",icon:Tt,color:"text-purple-600"},{title:"Conversion Rate",value:`${J}%`,change:"+0.4%",changeType:"positive",icon:Rt,color:"text-orange-600"}];o(B);const X=A.sort((S,L)=>(L.total_leads||0)-(S.total_leads||0)).slice(0,5).map(S=>({company:S.name,revenue:`${((S.total_leads||0)*50).toLocaleString()}`,leads:S.total_leads||0,growth:"+15%"}));d(X);const K=new Date().getMonth(),E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((S,L)=>{const j=Math.floor(z/12)+(L===K?Math.floor(z*.1):0),D=j*50;return{month:S,revenue:D,leads:j}});p(E)}catch(N){console.error("Failed to fetch analytics data:",N),t("Failed to load analytics data"),o([{title:"Total Companies",value:"0",change:"0",changeType:"neutral",icon:Ae,color:"text-blue-600"},{title:"Active Companies",value:"0",change:"0",changeType:"neutral",icon:kn,color:"text-green-600"},{title:"Total Generated",value:"0",change:"0%",changeType:"neutral",icon:Tt,color:"text-purple-600"},{title:"Conversion Rate",value:"0%",change:"0%",changeType:"neutral",icon:Rt,color:"text-orange-600"}]),d([]),p([])}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[n&&s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics data..."})]})}),s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Company Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comprehensive analytics across all companies on the platform"})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:i.map((N,A)=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(N.icon,{className:`h-8 w-8 ${N.color}`})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:N.title}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:N.value}),s.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${N.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[s.jsx(Or,{className:"self-center flex-shrink-0 h-4 w-4 mr-1"}),N.change]})]})]})})]})},A))}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Performance"}),s.jsx("div",{className:"h-64",children:s.jsx("div",{className:"flex h-full items-end space-x-2",children:u.map((N,A)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsxs("div",{className:"w-full flex flex-col space-y-1",children:[s.jsx("div",{className:"bg-blue-500 rounded-t-sm transition-all duration-300 hover:bg-blue-600",style:{height:`${Math.max(N.revenue/Math.max(...u.map(P=>P.revenue))*120,5)}px`,minHeight:"5px"},title:`Revenue: ${N.revenue.toLocaleString()}`}),s.jsx("div",{className:"bg-green-500 rounded-b-sm transition-all duration-300 hover:bg-green-600",style:{height:`${Math.max(N.leads/Math.max(...u.map(P=>P.leads))*120,5)}px`,minHeight:"5px"},title:`Leads: ${N.leads}`})]}),s.jsx("span",{className:"text-xs text-gray-600 mt-1 text-center",children:N.month})]},N.month))})}),s.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Revenue"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Leads"})]})]}),s.jsx("div",{className:"mt-4 space-y-2",children:u.slice(0,6).map(N=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium text-gray-900",children:N.month}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("span",{className:"text-gray-500",children:["",N.revenue.toLocaleString()]}),s.jsxs("span",{className:"text-gray-500",children:[N.leads," leads"]})]})]},N.month))})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Companies"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900",children:"Company"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Revenue"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Leads"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Growth"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:c.map((N,A)=>s.jsxs("tr",{children:[s.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900",children:N.company}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:N.revenue}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:N.leads}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:N.growth})})]},A))})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Growth Trends"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Growth"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",x>0?Math.floor(g/x*100):0,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Quarterly Growth"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",x>0?Math.floor(g/x*80):0,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Yearly Growth"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",x>0?Math.floor(g/x*120):0,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${x>0?g/x*100:0}%`}})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Industry Distribution"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Technology"}),s.jsxs("span",{className:"text-sm font-medium",children:[x>0?Math.floor(x*.4/x*100):0,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Healthcare"}),s.jsxs("span",{className:"text-sm font-medium",children:[x>0?Math.floor(x*.25/x*100):0,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Finance"}),s.jsxs("span",{className:"text-sm font-medium",children:[x>0?Math.floor(x*.2/x*100):0,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Others"}),s.jsxs("span",{className:"text-sm font-medium",children:[x>0?Math.floor(x*.15/x*100):0,"%"]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Summary"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active Companies"}),s.jsx("span",{className:"text-sm font-medium",children:g})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Leads"}),s.jsx("span",{className:"text-sm font-medium",children:v})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Users"}),s.jsx("span",{className:"text-sm font-medium",children:m})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),s.jsxs("span",{className:"text-sm font-medium",children:[w,"%"]})]})]})]})]})]})},qg=()=>{const[e,t]=y.useState(""),[n,r]=y.useState("all"),[a,l]=y.useState("all"),[i,o]=y.useState(!0),[c,d]=y.useState([]),[u,p]=y.useState({});y.useEffect(()=>{x()},[e,n,a]);const x=async()=>{try{o(!0);const m={search:e||void 0,action:n!=="all"?n:void 0,user:a!=="all"?a:void 0},h=await hg.getAuditLogs(m);console.log("Audit logs response:",h),d(h.audit_logs||[]),p(h.pagination||{})}catch(m){console.error("Error fetching audit logs:",m),d([]),p({})}finally{o(!1)}},b=c.filter(m=>{const h=m.user&&m.user.toLowerCase().includes(e.toLowerCase())||m.action&&m.action.toLowerCase().includes(e.toLowerCase())||m.resource&&m.resource.toLowerCase().includes(e.toLowerCase()),w=n==="all"||m.action&&m.action.toLowerCase().replace(" ","_")===n,_=a==="all"||m.user===a;return h&&w&&_}),g=m=>{switch(m){case"success":return s.jsx(gl,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(br,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(Fg,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Ls,{className:"h-4 w-4 text-gray-500"})}},k=m=>{switch(m){case"success":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=[...new Set(c.map(m=>m.user))],f=[...new Set(c.map(m=>m.action.toLowerCase().replace(" ","_")))];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Audit Logs"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track all system activities and user actions for compliance and security"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{className:"btn btn-secondary mr-3",children:[s.jsx(Yi,{className:"h-5 w-5 mr-2"}),"Export Logs"]})})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search audit logs"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(Lt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",name:"search",id:"search",value:e,onChange:m=>t(m.target.value),className:"block w-full rounded-lg border border-gray-300 bg-white pl-10 pr-3 py-2 text-gray-900 placeholder:text-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm",placeholder:"Search by user, action, or resource..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"action-filter",className:"sr-only",children:"Filter by action"}),s.jsxs("select",{id:"action-filter",name:"action-filter",value:n,onChange:m=>r(m.target.value),className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-500 sm:text-sm sm:leading-6",children:[s.jsx("option",{value:"all",children:"All Actions"}),f.map(m=>s.jsx("option",{value:m,children:m.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())},m))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user-filter",className:"sr-only",children:"Filter by user"}),s.jsxs("select",{id:"user-filter",name:"user-filter",value:a,onChange:m=>l(m.target.value),className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-500 sm:text-sm sm:leading-6",children:[s.jsx("option",{value:"all",children:"All Users"}),v.map(m=>s.jsx("option",{value:m,children:m},m))]})]})]})}),s.jsx("div",{className:"card",children:i?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("p",{className:"ml-3 text-gray-600",children:"Loading audit logs..."})]}):b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pc,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No audit logs found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e||n!=="all"||a!=="all"?"Try adjusting your filters":"No audit logs have been recorded yet"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Timestamp"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"User"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Action"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Resource"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"IP Address"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Details"}),s.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:b.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ls,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"font-mono text-xs",children:m.timestamp})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qt,{className:"h-4 w-4 text-gray-400 mr-2"}),m.user||"Unknown"]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:m.action||"N/A"}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:m.resource||"N/A"}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:s.jsxs("div",{className:"flex items-center",children:[g(m.status),s.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(m.status)}`,children:m.status||"unknown"})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 font-mono",children:m.ip||"N/A"}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 max-w-xs truncate",children:m.details||"No details available"}),s.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(Bs,{className:"h-4 w-4"})})})]},m.id))})]})}),s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{className:"btn btn-secondary",children:"Previous"}),s.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:"1"})," to ",s.jsx("span",{className:"font-medium",children:b.length})," of"," ",s.jsx("span",{className:"font-medium",children:b.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Previous"}),s.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),s.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Next"})]})})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(m=>m.status==="success").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Successful Actions"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c.filter(m=>m.status==="warning").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Warning Actions"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.filter(m=>m.status==="error").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Error Actions"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Actions Today"})]})]})]})},Wg=()=>{const e=Ft(),{user:t,companyId:n}=ve(),{showSuccess:r,showError:a}=Ee(),[l,i]=y.useState(""),[o,c]=y.useState("all"),[d,u]=y.useState(1),[p,x]=y.useState(!0),[b,g]=y.useState([]),[k,v]=y.useState({}),[f,m]=y.useState(!1),[h,w]=y.useState(!1),[_,T]=y.useState(null),[N,A]=y.useState(!1),[P,U]=y.useState(null),[z,H]=y.useState({full_name:"",email:"",phone:"",organization:"",designation:"",city:"",country:""});y.useEffect(()=>{B(),J()},[d,l,o,n]);const J=async()=>{try{const j=await ks.getVisitorStats();U(j)}catch(j){console.error("Error fetching visitor stats:",j)}},B=async()=>{try{x(!0);const j={page:d,search:l||void 0,status:o!=="all"?o:void 0,company_id:n},D=await ks.getVisitors(j);console.log("Visitors API Response:",D),console.log("Response keys:",Object.keys(D));let q=[];Array.isArray(D)?(q=D,console.log("Response is directly an array")):D.visitors&&Array.isArray(D.visitors)?(q=D.visitors,console.log("Using visitors field")):D.data&&Array.isArray(D.data)?(q=D.data,console.log("Using data field")):console.log("No valid array found in response"),console.log("Final visitors data:",q),console.log("Visitors length:",q.length),q.length>0&&(console.log("First visitor structure:",q[0]),console.log("First visitor keys:",Object.keys(q[0]))),g(q),v(D.pagination||{})}catch(j){console.error("Error fetching visitors:",j),g([]),v({}),a("Failed to fetch visitors")}finally{x(!1)}},X=async j=>{if(j.preventDefault(),!z.full_name.trim()||!z.phone.trim()){a("Please fill in all required fields");return}try{A(!0);const D={...z},q=await ks.createVisitor(D);r("Visitor checked in successfully"),m(!1),H({full_name:"",email:"",phone:"",organization:"",designation:"",city:"",country:""}),B()}catch{a("Failed to check in visitor")}finally{A(!1)}},K=async j=>{j.preventDefault();try{A(!0),await ks.updateVisitor(_.id,_),r("Visitor updated successfully"),w(!1),T(null),B()}catch{a("Failed to update visitor")}finally{A(!1)}},C=j=>{e(`/visitors/${j.id}`)},E=j=>{T(j),w(!0)},S=async j=>{if(confirm(`Are you sure you want to delete ${j.full_name}? This action cannot be undone.`))try{await ks.deleteVisitor(j.id),r("Visitor deleted successfully"),B()}catch(D){console.error("Error deleting visitor:",D),a("Failed to delete visitor")}},L=j=>{u(j)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Visitor Management"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage visitor check-ins and track their information"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{onClick:()=>m(!0),className:"btn btn-primary flex items-center",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Check In Visitor"]})})]}),P&&s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[s.jsx("div",{className:"bg-blue-50 border-l-4 border-l-blue-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-lg p-3",children:s.jsx(fc,{className:"h-6 w-6 text-blue-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Total Visitors"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.total_visitors}),s.jsxs("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[P.visitors_last_30_days," this month"]})]})]})})]})}),s.jsx("div",{className:"bg-green-50 border-l-4 border-l-green-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-lg p-3",children:s.jsx(xs,{className:"h-6 w-6 text-green-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Today's Visitors"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.visitors_today}),s.jsx("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:P.visitors_today>0?"New visitors today":"No new visitors today"})]})]})})]})}),s.jsx("div",{className:"bg-purple-50 border-l-4 border-l-purple-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-lg p-3",children:s.jsx(Or,{className:"h-6 w-6 text-purple-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Last 7 Days"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P.visitors_last_7_days}),s.jsx("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:"Recent activity"})]})]})})]})}),s.jsx("div",{className:"bg-orange-50 border-l-4 border-l-orange-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-orange-100 rounded-lg p-3",children:s.jsx(kn,{className:"h-6 w-6 text-orange-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Monthly Trend"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Math.round(P.visitors_last_30_days/30*10)/10}),s.jsx("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-blue-600",children:"Avg per day"})]})]})})]})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search visitors...",value:l,onChange:j=>i(j.target.value),className:"pl-10 w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"checked_in",children:"Active"}),s.jsx("option",{value:"checked_out",children:"Inactive"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{i(""),c("all"),u(1)},className:"btn btn-secondary",children:"Clear Filters"})})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Visitors (",k.total_records||0,")"]})}),p?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(gt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No visitors found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l||o!=="all"?"Try adjusting your filters":"Get started by checking in a new visitor"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visitor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[console.log("Rendering visitors:",b),b.map((j,D)=>(console.log(`Visitor ${D}:`,j),console.log(`Visitor ${D} keys:`,Object.keys(j)),console.log(`Visitor ${D} check_in_time:`,j.check_in_time),console.log(`Visitor ${D} status:`,j.status),console.log(`Visitor ${D} purpose:`,j.purpose),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.full_name||"Unknown"}),s.jsx("div",{className:"text-sm text-gray-500",children:j.organization||"N/A"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-500",children:j.email||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:j.phone||"N/A"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:j.designation||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-500",children:[j.city||"N/A",", ",j.country||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Active"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.created_at?new Date(j.created_at).toLocaleString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>C(j),className:"text-primary-600 hover:text-primary-900",title:"View Details",children:s.jsx(Bs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>E(j),className:"text-blue-600 hover:text-blue-900",title:"Edit Visitor",children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>S(j),className:"text-red-600 hover:text-red-900",title:"Delete Visitor",children:s.jsx(Ln,{className:"h-4 w-4"})})]})})]},j.id)))]})]})}),k.total_pages>1&&s.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>L(d-1),disabled:d===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsx("button",{onClick:()=>L(d+1),disabled:d===k.total_pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(d-1)*10+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(d*10,k.total_records)})," ","of ",s.jsx("span",{className:"font-medium",children:k.total_records})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>L(d-1),disabled:d===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:[d," / ",k.total_pages]}),s.jsx("button",{onClick:()=>L(d+1),disabled:d===k.total_pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})})]}),f&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>m(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:X,children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Check In New Visitor"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:z.full_name,onChange:j=>H({...z,full_name:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter visitor's full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",value:z.email,onChange:j=>H({...z,email:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",required:!0,value:z.phone,onChange:j=>H({...z,phone:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organization"}),s.jsx("input",{type:"text",value:z.organization,onChange:j=>H({...z,organization:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter organization name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Designation"}),s.jsx("input",{type:"text",value:z.designation,onChange:j=>H({...z,designation:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter designation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),s.jsx("input",{type:"text",value:z.city,onChange:j=>H({...z,city:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter city"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),s.jsx("input",{type:"text",value:z.country,onChange:j=>H({...z,country:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter country"})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:N,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:N?"Checking In...":"Check In Visitor"}),s.jsx("button",{type:"button",onClick:()=>m(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),h&&_&&s.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:K,children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Edit Visitor"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:_.full_name||"",onChange:j=>T({..._,full_name:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter visitor's full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",value:_.email||"",onChange:j=>T({..._,email:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",required:!0,value:_.phone||"",onChange:j=>T({..._,phone:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organization"}),s.jsx("input",{type:"text",value:_.organization||"",onChange:j=>T({..._,organization:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter organization name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Designation"}),s.jsx("input",{type:"text",value:_.designation||"",onChange:j=>T({..._,designation:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter designation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),s.jsx("input",{type:"text",value:_.city||"",onChange:j=>T({..._,city:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter city"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),s.jsx("input",{type:"text",value:_.country||"",onChange:j=>T({..._,country:j.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter country"})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:N,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:N?"Updating...":"Update Visitor"}),s.jsx("button",{type:"button",onClick:()=>{w(!1),T(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},Qg=()=>{const e=Ft(),{id:t}=sc(),{showSuccess:n,showError:r}=Ee(),[a,l]=y.useState(null),[i,o]=y.useState(!0),[c,d]=y.useState("profile");y.useEffect(()=>{u()},[t]);const u=async()=>{try{o(!0);const f=await ks.getVisitors();let m=[];Array.isArray(f)?m=f:f.visitors&&Array.isArray(f.visitors)?m=f.visitors:f.data&&Array.isArray(f.data)&&(m=f.data);const h=m.find(w=>w.id===t);h?l(h):(r("Visitor not found"),e("/visitors"))}catch{r("Failed to fetch visitor details"),e("/visitors")}finally{o(!1)}},p=()=>{e("/visitors")},x=f=>{switch(f){case"checked_in":return"bg-green-100 text-green-800";case"checked_out":return"bg-blue-100 text-blue-800";case"registered":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=f=>{switch(f){case"checked_in":return s.jsx(gl,{className:"h-4 w-4"});case"checked_out":return s.jsx(pn,{className:"h-4 w-4"});case"registered":return s.jsx(pn,{className:"h-4 w-4"});default:return s.jsx(pn,{className:"h-4 w-4"})}},g=f=>{const m=[f.full_name,f.email,f.phone,f.organization,f.designation,f.city,f.country],h=m.filter(w=>w&&w.trim()!=="").length;return Math.round(h/m.length*100)},k=f=>f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600",v=f=>f>=80?"bg-green-500":f>=60?"bg-yellow-500":"bg-red-500";return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:p,className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Wa,{className:"h-5 w-5 mr-2"}),"Back to Visitors"]}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.full_name||"Unknown"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Visitor ID: ",a.id]})]})]})}),s.jsx("div",{className:`rounded-lg p-4 ${x(a.status)}`,children:s.jsxs("div",{className:"flex items-center",children:[b(a.status),s.jsx("span",{className:"ml-2 font-medium capitalize",children:a.status?a.status.replace("_"," "):"Registered"})]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"profile",name:"Profile",current:c==="profile"}].map(f=>s.jsx("button",{onClick:()=>d(f.id),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${f.current?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:f.name},f.id))})}),c==="profile"&&s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Visitor Profile"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Profile Completeness"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${v(g(a))} transition-all duration-300`,style:{width:`${g(a)}%`}})}),s.jsxs("span",{className:`text-sm font-medium ${k(g(a))}`,children:[g(a),"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(Qt,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.full_name||"Unknown"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(kr,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.email||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(sr,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.phone||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(Ae,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.organization||"N/A"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(mc,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.designation||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City / Country"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(Zi,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("span",{className:"text-gray-900",children:[a.city||"N/A",", ",a.country||"N/A"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Date"}),s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(xs,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.created_at?new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]})]})]})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Visitor not found"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"The visitor you're looking for doesn't exist."}),s.jsx("button",{onClick:p,className:"btn btn-primary mt-4",children:"Back to Visitors"})]})})},Gg=()=>{var d,u,p,x,b,g,k,v,f,m,h,w,_,T,N,A,P,U,z,H,J,B,X,K,C,E,S,L,j,D,q,O;const{id:e}=sc(),t=Ft();ve();const{showSuccess:n,showError:r}=Ee(),[a,l]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{c()},[e]);const c=async()=>{try{o(!0),console.log("LeadDetails - Fetching lead for ID:",e);const I=await Ss.getLead(e);console.log("LeadDetails - Received lead data:",I),l(I)}catch(I){console.error("LeadDetails - Error fetching lead details:",I),r("Failed to load lead details")}finally{o(!1)}};return i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?(console.log("LeadDetails - Rendering with lead data:",a),a&&(console.log("Field access test:"),console.log("lead.lead?.visitor_name:",(d=a.lead)==null?void 0:d.visitor_name),console.log("lead.lead?.visitor_email:",(u=a.lead)==null?void 0:u.visitor_email),console.log("lead.lead?.visitor_phone:",(p=a.lead)==null?void 0:p.visitor_phone),console.log("lead.lead?.visitor_designation:",(x=a.lead)==null?void 0:x.visitor_designation),console.log("lead.lead?.organization:",(b=a.lead)==null?void 0:b.organization),console.log("lead.lead?.city:",(g=a.lead)==null?void 0:g.city),console.log("lead.lead?.country:",(k=a.lead)==null?void 0:k.country),console.log("lead.lead?.company_name:",(v=a.lead)==null?void 0:v.company_name)),s.jsx("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>t("/leads"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Back to Leads"]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lead Details"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Lead ID: ",((f=a.lead)==null?void 0:f.id)||"N/A"]})]})})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Qt,{className:"h-5 w-5 mr-2 text-primary-600"}),"Personal Information"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("p",{className:"text-gray-900",children:((m=a.lead)==null?void 0:m.visitor_name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:((h=a.lead)==null?void 0:h.visitor_email)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("p",{className:"text-gray-900",children:((w=a.lead)==null?void 0:w.visitor_phone)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Designation"}),s.jsx("p",{className:"text-gray-900",children:((_=a.lead)==null?void 0:_.visitor_designation)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Visitor ID"}),s.jsx("p",{className:"text-gray-900 text-sm",children:((T=a.lead)==null?void 0:T.visitor_id)||"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Ae,{className:"h-5 w-5 mr-2 text-primary-600"}),"Organization & Location"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organization"}),s.jsx("p",{className:"text-gray-900",children:((N=a.lead)==null?void 0:N.organization)||((A=a.lead)==null?void 0:A.visitor_organization)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),s.jsx("p",{className:"text-gray-900",children:((P=a.lead)==null?void 0:P.city)||((U=a.lead)==null?void 0:U.visitor_city)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),s.jsx("p",{className:"text-gray-900",children:((z=a.lead)==null?void 0:z.country)||((H=a.lead)==null?void 0:H.visitor_country)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsx("p",{className:"text-gray-900",children:((J=a.lead)==null?void 0:J.company_name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company ID"}),s.jsx("p",{className:"text-gray-900 text-sm",children:((B=a.lead)==null?void 0:B.company_id)||"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(eo,{className:"h-5 w-5 mr-2 text-primary-600"}),"Lead Information"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interests"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${((X=a.lead)==null?void 0:X.interests)==="Hot"?"bg-red-100 text-red-800":((K=a.lead)==null?void 0:K.interests)==="Warm"?"bg-yellow-100 text-yellow-800":((C=a.lead)==null?void 0:C.interests)==="Cold"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:((E=a.lead)==null?void 0:E.interests)||"Not Specified"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Follow-up Date"}),s.jsxs("p",{className:"text-gray-900 flex items-center",children:[s.jsx(xs,{className:"h-4 w-4 mr-2 text-gray-400"}),(S=a.lead)!=null&&S.follow_up_date?new Date(a.lead.follow_up_date).toLocaleDateString():"Not Set"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created Date"}),s.jsx("p",{className:"text-gray-900",children:(L=a.lead)!=null&&L.created_at?new Date(a.lead.created_at).toLocaleDateString():"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Qt,{className:"h-5 w-5 mr-2 text-primary-600"}),"Assigned Employee"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Name"}),s.jsx("p",{className:"text-gray-900",children:((j=a.lead)==null?void 0:j.employee_name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Email"}),s.jsx("p",{className:"text-gray-900",children:((D=a.lead)==null?void 0:D.employee_email)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),s.jsx("p",{className:"text-gray-900 text-sm",children:((q=a.lead)==null?void 0:q.employee_id)||"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(At,{className:"h-5 w-5 mr-2 text-primary-600"}),"Notes"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:((O=a.lead)==null?void 0:O.notes)||"No notes available"})})]})]})})]})]})})):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Lead not found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The lead you're looking for doesn't exist."}),s.jsx("button",{onClick:()=>t("/leads"),className:"btn btn-primary",children:"Back to Leads"})]})},Kg=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Jg=e=>e&&e.trim().length>0,Xg=(e,t)=>e&&e.length>=t,Yg=(e,t)=>!e||e.length<=t,Zg=e=>{try{return new URL(e),!0}catch{return!1}},ev=e=>{const t=/^[\+]?[1-9][\d]{0,15}$/,n=e.replace(/[\s\-\(\)\.]/g,"");return t.test(n)},tv=e=>/^[A-Za-z0-9]{3,10}$/.test(e),to=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{const a=e[r],l=t[r];if(l.required&&!Jg(a)){n[r]=`${l.label||r} is required`;return}if(a&&l.minLength&&!Xg(a,l.minLength)){n[r]=`${l.label||r} must be at least ${l.minLength} characters`;return}if(a&&l.maxLength&&!Yg(a,l.maxLength)){n[r]=`${l.label||r} must be no more than ${l.maxLength} characters`;return}if(a&&l.email&&!Kg(a)){n[r]="Please enter a valid email address";return}if(a&&l.url&&!Zg(a)){n[r]="Please enter a valid URL";return}if(a&&l.phone&&!ev(a)){n[r]="Please enter a valid phone number";return}if(a&&l.badgeCode&&!tv(a)){n[r]="Badge code must be 3-10 alphanumeric characters";return}if(l.custom){const i=l.custom(a,e);if(i){n[r]=i;return}}}),n},so={login:{email:{required:!0,email:!0,label:"Email address"},password:{required:!0,minLength:6,label:"Password"}},manualMapping:{badgeCode:{required:!0,badgeCode:!0,label:"Badge Code"},visitorEmail:{required:!0,email:!0,label:"Visitor Email"}},companyProfile:{companyName:{required:!0,minLength:2,maxLength:100,label:"Company Name"},description:{maxLength:500,label:"Description"},website:{url:!0,label:"Website"},phone:{phone:!0,label:"Phone Number"},address:{maxLength:255,label:"Address"}},consentText:{consentText:{required:!0,minLength:10,maxLength:2e3,label:"Consent Text"}}},sv=()=>{ve();const{showError:e,showSuccess:t}=Ee(),[n,r]=y.useState({}),[a,l]=y.useState(""),[i,o]=y.useState("all"),[c,d]=y.useState(!1),[u,p]=y.useState([]),[x,b]=y.useState(!1),[g,k]=y.useState(!1),[v,f]=y.useState({badge_number:"",employee_name:"",employee_email:"",department:"",role:""});y.useEffect(()=>{m()},[]);const m=async()=>{try{d(!0),p([{id:1,badge_number:"EMP001",employee_name:"John Doe",employee_email:"john.doe@company.com",department:"Sales",role:"Sales Manager",status:"active",created_at:"2024-01-15T10:00:00Z",last_used:"2024-01-30T14:30:00Z"},{id:2,badge_number:"EMP002",employee_name:"Jane Smith",employee_email:"jane.smith@company.com",department:"Marketing",role:"Marketing Specialist",status:"active",created_at:"2024-01-16T11:00:00Z",last_used:"2024-01-29T09:15:00Z"}])}catch{e("Failed to fetch badge mappings")}finally{d(!1)}},h=async N=>{N.preventDefault();const A=to(v,so.badgeMapping);if(Object.keys(A).length>0){r(A);return}try{k(!0),await new Promise(U=>setTimeout(U,1e3));const P={id:u.length+1,...v,status:"active",created_at:new Date().toISOString(),last_used:null};p([P,...u]),t("Badge mapping created successfully"),b(!1),f({badge_number:"",employee_name:"",employee_email:"",department:"",role:""}),r({})}catch{e("Failed to create badge mapping")}finally{k(!1)}},w=async N=>{if(confirm("Are you sure you want to delete this badge mapping?"))try{await new Promise(A=>setTimeout(A,1e3)),p(u.filter(A=>A.id!==N)),t("Badge mapping deleted successfully")}catch{e("Failed to delete badge mapping")}},_=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=u.filter(N=>{const A=N.badge_number.toLowerCase().includes(a.toLowerCase())||N.employee_name.toLowerCase().includes(a.toLowerCase())||N.employee_email.toLowerCase().includes(a.toLowerCase()),P=i==="all"||N.status===i;return A&&P});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Badge Mapping"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage employee badge assignments and permissions"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{onClick:()=>b(!0),className:"btn btn-primary",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Assign Badge"]})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search badges...",value:a,onChange:N=>l(N.target.value),className:"pl-10 w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:i,onChange:N=>o(N.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{l(""),o("all")},className:"btn btn-secondary",children:"Clear Filters"})})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Badge Mappings (",T.length,")"]})}),c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):T.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mc,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No badge mappings found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a||i!=="all"?"Try adjusting your filters":"Get started by assigning a new badge"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Badge"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Used"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.badge_number})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.employee_name}),s.jsx("div",{className:"text-sm text-gray-500",children:N.employee_email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.department}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(N.status)}`,children:N.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.last_used?new Date(N.last_used).toLocaleDateString():"Never"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>w(N.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Ln,{className:"h-4 w-4"})})})]},N.id))})]})})]}),x&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>b(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:h,children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Assign New Badge"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Badge Number *"}),s.jsx("input",{type:"text",required:!0,value:v.badge_number,onChange:N=>f({...v,badge_number:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"e.g., EMP001"}),n.badge_number&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.badge_number})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Name *"}),s.jsx("input",{type:"text",required:!0,value:v.employee_name,onChange:N=>f({...v,employee_name:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),n.employee_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.employee_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:v.employee_email,onChange:N=>f({...v,employee_email:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),n.employee_email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.employee_email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),s.jsx("input",{type:"text",value:v.department,onChange:N=>f({...v,department:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsx("input",{type:"text",value:v.role,onChange:N=>f({...v,role:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:g,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:g?"Assigning...":"Assign Badge"}),s.jsx("button",{type:"button",onClick:()=>b(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},nv=()=>{ve();const{showSuccess:e,showError:t}=Ee(),[n,r]=y.useState("visitors"),[a,l]=y.useState("csv"),[i,o]=y.useState({start:"",end:""}),[c,d]=y.useState(!1),[u,p]=y.useState([]);y.useEffect(()=>{p([{id:1,dataType:"visitors",format:"csv",dateRange:"2024-01-01 to 2024-01-31",status:"completed",createdAt:"2024-01-31T10:30:00Z",recordCount:1247}])},[]);const x=[{id:"visitors",name:"Visitors",icon:Tt,description:"Export visitor check-in data"},{id:"leads",name:"Leads",icon:At,description:"Export lead generation data"}],b=[{id:"csv",name:"CSV",extension:".csv",description:"Comma-separated values"},{id:"excel",name:"Excel",extension:".xlsx",description:"Microsoft Excel format"}],g=async()=>{if(!i.start||!i.end){t("Please select both start and end dates");return}d(!0);try{await new Promise(f=>setTimeout(f,2e3));const v={id:u.length+1,dataType:n,format:a,dateRange:`${i.start} to ${i.end}`,status:"completed",createdAt:new Date().toISOString(),recordCount:Math.floor(Math.random()*1e3)+100};p([v,...u]),e("Export completed successfully!"),o({start:"",end:""})}catch{t("Export failed. Please try again.")}finally{d(!1)}},k=()=>{if(u.length===0)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-sm text-gray-500",children:"No export history available"})});const v=[];for(let f=0;f<u.length;f++){const m=u[f];v.push(s.jsx("div",{className:"border rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 capitalize",children:m.dataType}),s.jsxs("p",{className:"text-sm text-gray-500",children:[m.format,"  ",m.dateRange]}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(m.createdAt).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:m.status}),s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(Yi,{className:"h-4 w-4"})})]})]})},m.id))}return s.jsx("div",{children:v})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Data Exports"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Export your visitor and lead data in various formats"})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Export Configuration"})}),s.jsxs("div",{className:"px-4 py-5 sm:p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Data Type"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.map(v=>s.jsx("div",{onClick:()=>r(v.id),className:`relative rounded-lg border p-4 cursor-pointer transition-colors ${n===v.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(v.icon,{className:"h-6 w-6 text-primary-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),s.jsx("div",{className:"text-xs text-gray-500",children:v.description})]})]})},v.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Export Format"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(v=>s.jsxs("div",{onClick:()=>l(v.id),className:`relative rounded-lg border p-4 cursor-pointer transition-colors ${a===v.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),s.jsx("div",{className:"text-xs text-gray-500",children:v.description})]},v.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Date Range"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:i.start,onChange:v=>o({...i,start:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:i.end,onChange:v=>o({...i,end:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:g,disabled:c||!i.start||!i.end,className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ls,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Export Data"]})})})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Export History"})}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:k()})]})]})},rv=()=>{const{user:e,companyId:t,isPlatformAdmin:n}=ve(),{showSuccess:r,showError:a}=Ee(),l=Ft(),[i,o]=y.useState(""),[c,d]=y.useState("all"),[u,p]=y.useState(1),[x,b]=y.useState(!0),[g,k]=y.useState([]),[v,f]=y.useState({}),[m,h]=y.useState(!1),[w,_]=y.useState(!1),[T,N]=y.useState([]),[A,P]=y.useState(t||""),[U,z]=y.useState(""),[H,J]=y.useState(null),[B,X]=y.useState({full_name:"",email:"",phone:"",organization:"",designation:"",city:"",country:"",interests:"",notes:"",follow_up_date:""}),[K,C]=y.useState(""),[E,S]=y.useState(null),[L,j]=y.useState(!1),[D,q]=y.useState(!1),[O,I]=y.useState(null);y.useEffect(()=>{W(),$(),n&&G()},[u,i,c,A]);const $=async()=>{try{const F=await Ss.getLeadStats();J(F)}catch(F){console.error("Error fetching lead stats:",F)}},G=async()=>{try{const F=await Ne.getCompanies();F.companies&&N(F.companies)}catch(F){console.error("Error fetching companies:",F),a("Failed to fetch companies")}},W=async()=>{try{b(!0);const F={page:u,search:i||void 0,status:c!=="all"?c:void 0},xe=n?A:t;xe&&(F.company_id=xe);const ke=await Ss.getLeads(F);let Xe=[];Array.isArray(ke)?Xe=ke:ke.leads&&Array.isArray(ke.leads)?Xe=ke.leads:ke.data&&Array.isArray(ke.data)&&(Xe=ke.data),k(Xe),f(ke.pagination||{})}catch(F){console.error("Error fetching leads:",F),k([]),f({}),a("Failed to fetch leads")}finally{b(!1)}},ne=async F=>{var xe,ke,Xe;if(F.preventDefault(),!((xe=B.full_name)!=null&&xe.trim())||!((ke=B.email)!=null&&ke.trim())||!((Xe=B.phone)!=null&&Xe.trim())){a("Please fill in all required fields");return}try{_(!0);let wt=null;if(B.follow_up_date){const Tn=new Date(B.follow_up_date);isNaN(Tn.getTime())||(wt=Tn.toISOString().split("T")[0])}const Dt={...B,follow_up_date:wt,notes:B.notes||"No notes provided"};console.log("Creating lead with data:",JSON.stringify(Dt,null,2));const Nt=n?U:t;if(console.log("=== LEAD CREATION DEBUG ==="),console.log("User role:",e==null?void 0:e.role),console.log("isPlatformAdmin:",n),console.log("createLeadCompanyId:",U),console.log("companyId:",t),console.log("effectiveCompanyId:",Nt),console.log("newLead state:",B),console.log("leadData being sent (clean):",JSON.stringify(Dt,null,2)),n&&!Nt){a("Please select a company to create leads");return}const Ye=Nt?{company_id:Nt}:{};console.log("Sending params for headers:",Ye),console.log("=== END DEBUG ===");const qs=await Ss.createLead(Dt,Ye);console.log("Lead created successfully:",qs),r("Lead created successfully"),h(!1),z(""),X({full_name:"",email:"",phone:"",organization:"",designation:"",city:"",country:"",interests:"",notes:"",follow_up_date:""}),W()}catch(wt){console.error("Error creating lead:",wt),a("Failed to create lead")}finally{_(!1)}},Le=async F=>{var xe,ke,Xe,wt,Dt,Nt;if(window.confirm("Are you sure you want to delete this lead? This action cannot be undone."))try{console.log("Attempting to delete lead with ID:",F),await Ss.deleteLead(F),r("Lead deleted successfully"),W()}catch(Ye){if(console.error("Error deleting lead:",Ye),console.error("Error status:",(xe=Ye.response)==null?void 0:xe.status),console.error("Error data:",(ke=Ye.response)==null?void 0:ke.data),((Xe=Ye.response)==null?void 0:Xe.status)===404)a("Delete functionality is not available. This feature may be under development.");else if(((wt=Ye.response)==null?void 0:wt.status)===500)a("Server error occurred while deleting lead. Please try again later.");else{const qs=((Nt=(Dt=Ye.response)==null?void 0:Dt.data)==null?void 0:Nt.message)||Ye.message||"Failed to delete lead";a(`Failed to delete lead: ${qs}`)}}},pe=F=>{I(F),q(!0)},Me=async F=>{var xe,ke,Xe,wt,Dt,Nt,Ye,qs,Tn;if(F.preventDefault(),!((xe=O.visitor_name)!=null&&xe.trim())||!((ke=O.visitor_email)!=null&&ke.trim())){a("Please fill in all required fields");return}try{_(!0);let Ut=null;if(O.follow_up_date){const hc=new Date(O.follow_up_date);isNaN(hc.getTime())||(Ut=hc.toISOString().split("T")[0])}const Xt={organization:O.visitor_organization||O.organization,designation:O.visitor_designation||O.designation,city:O.visitor_city||O.city,country:O.visitor_country||O.country,interests:O.interests,notes:O.notes,follow_up_date:Ut};console.log("Updating lead with data:",JSON.stringify(Xt,null,2));const Ws=await Ss.updateLead(O.id,Xt);console.log("Lead update response:",Ws),console.log("Full response structure:",JSON.stringify(Ws,null,2));const Yt=((wt=(Xe=Ws.data)==null?void 0:Xe.lead)==null?void 0:wt.lead)||((Dt=Ws.data)==null?void 0:Dt.lead)||Ws.data||Ws;console.log("Updated lead data from response:",Yt),Yt?(console.log("=== UPDATE VERIFICATION ==="),console.log("Sent designation:",Xt.designation),console.log("Received designation:",Yt.designation),console.log("Designation updated:",Xt.designation===Yt.designation),console.log("Sent organization:",Xt.organization),console.log("Received organization:",Yt.organization),console.log("Organization updated:",Xt.organization===Yt.organization),console.log("All received fields:",Object.keys(Yt)),console.log("Full received data:",JSON.stringify(Yt,null,2)),console.log("=== END VERIFICATION ===")):console.log("No lead data found in response"),r("Lead updated successfully"),q(!1),I(null),setTimeout(()=>{console.log("Refreshing leads list after update..."),W()},500)}catch(Ut){console.error("Error updating lead:",Ut),console.error("Error response:",Ut.response),console.error("Error response data:",(Nt=Ut.response)==null?void 0:Nt.data),console.error("Error status:",(Ye=Ut.response)==null?void 0:Ye.status);const Xt=((Tn=(qs=Ut.response)==null?void 0:qs.data)==null?void 0:Tn.message)||Ut.message||"Failed to update lead";a(`Failed to update lead: ${Xt}`)}finally{_(!1)}},je=F=>{l(`/leads/${F.id}`)},Jt=async()=>{if(!K.trim()){a("Please enter a phone number to search");return}j(!0);try{const F=await ks.searchVisitor(K.trim());if(console.log("Visitor search response:",F),F&&F.visitors&&F.visitors.length>0){const xe=F.visitors[0];S(xe),X({full_name:xe.full_name||"",email:xe.email||"",phone:xe.phone||K,organization:xe.organization||"",designation:xe.designation||"",city:xe.city||"",country:xe.country||"",interests:"",notes:"",follow_up_date:""}),r("Visitor found and form populated")}else S(null),a("No visitor found with this phone number")}catch(F){console.error("Error searching visitor:",F),S(null),a("Error searching visitor. Please try again.")}finally{j(!1)}},Fr=F=>{p(F)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Lead Management"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage leads generated from visitor interactions"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary flex items-center",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Create Lead"]})})]}),H&&s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[s.jsx("div",{className:"bg-blue-50 border-l-4 border-l-blue-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-lg p-3",children:s.jsx(Rt,{className:"h-6 w-6 text-blue-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Total Leads"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:H.total_leads}),s.jsxs("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[H.leads_last_30_days," this month"]})]})]})})]})}),s.jsx("div",{className:"bg-green-50 border-l-4 border-l-green-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-lg p-3",children:s.jsx(xs,{className:"h-6 w-6 text-green-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Today's Leads"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:H.leads_today}),s.jsx("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:H.leads_today>0?"New leads today":"No new leads today"})]})]})})]})}),s.jsx("div",{className:"bg-purple-50 border-l-4 border-l-purple-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-lg p-3",children:s.jsx(kg,{className:"h-6 w-6 text-purple-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Leads with Follow-up"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:H.leads_with_follow_up}),s.jsxs("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-yellow-600",children:[H.pending_follow_ups," pending"]})]})]})})]})}),s.jsx("div",{className:"bg-orange-50 border-l-4 border-l-orange-600 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-orange-100 rounded-lg p-3",children:s.jsx(Or,{className:"h-6 w-6 text-orange-600"})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-600 truncate",children:"Last 7 Days"}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:H.leads_last_7_days}),s.jsx("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:"Recent activity"})]})]})})]})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search leads...",value:i,onChange:F=>o(F.target.value),className:"pl-10 w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:c,onChange:F=>d(F.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"interested",children:"Interested"}),s.jsx("option",{value:"follow_up",children:"Follow Up"}),s.jsx("option",{value:"converted",children:"Converted"}),s.jsx("option",{value:"not_interested",children:"Not Interested"})]})]}),n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),s.jsxs("select",{value:A,onChange:F=>P(F.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Select a company"}),T.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{o(""),d("all"),p(1)},className:"btn btn-secondary",children:"Clear Filters"})})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Leads (",v.total_records||0,")"]})}),x?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(At,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No leads found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||c!=="all"?"Try adjusting your filters":"Get started by creating a new lead"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visitor"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.visitor_name||"Unknown"}),s.jsx("div",{className:"text-sm text-gray-500",children:F.visitor_organization||F.organization||"N/A"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-500",children:F.visitor_email||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:F.visitor_phone||"N/A"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:F.visitor_designation||F.designation||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-500",children:[F.visitor_city||F.city||"N/A",", ",F.visitor_country||F.country||"N/A"]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.company_name||"N/A"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",F.company_id||"N/A"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.created_at).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>je(F),className:"text-primary-600 hover:text-primary-900 mr-3",title:"View Details",children:s.jsx(Bs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>pe(F),className:"text-blue-600 hover:text-blue-900 mr-3",title:"Edit Lead",children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Le(F.id),className:"text-red-600 hover:text-red-900",title:"Delete Lead (Note: Delete functionality may not be available)",children:s.jsx(Ln,{className:"h-4 w-4"})})]})]},F.id))})]})}),v.total_pages>1&&s.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>Fr(u-1),disabled:u===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsx("button",{onClick:()=>Fr(u+1),disabled:u===v.total_pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(u-1)*10+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(u*10,v.total_records)})," ","of ",s.jsx("span",{className:"font-medium",children:v.total_records})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>Fr(u-1),disabled:u===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:[u," / ",v.total_pages]}),s.jsx("button",{onClick:()=>Fr(u+1),disabled:u===v.total_pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})})]}),m&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>h(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Lead"}),s.jsx("button",{onClick:()=>{h(!1),z(""),X({full_name:"",email:"",phone:"",organization:"",designation:"",city:"",country:"",interests:"",notes:"",follow_up_date:""}),C(""),S(null)},className:"text-gray-400 hover:text-gray-500",children:s.jsx(Sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Search Visitor by Phone"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter phone number"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(sr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",value:K,onChange:F=>C(F.target.value),placeholder:"Search by phone number...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"button",onClick:Jt,disabled:L,className:"inline-flex items-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[L?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Search"]})})]})]}),s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Visitor Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(sr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",value:B.phone,onChange:F=>X({...B,phone:F.target.value}),placeholder:"Phone number",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Qt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:B.full_name,onChange:F=>X({...B,full_name:F.target.value}),placeholder:"Full name",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",value:B.email,onChange:F=>X({...B,email:F.target.value}),placeholder:"Email address",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ae,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:B.organization,onChange:F=>X({...B,organization:F.target.value}),placeholder:"Organization",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(eo,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:B.designation,onChange:F=>X({...B,designation:F.target.value}),placeholder:"Designation",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Zi,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:B.city,onChange:F=>X({...B,city:F.target.value}),placeholder:"City",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xd,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:B.country,onChange:F=>X({...B,country:F.target.value}),placeholder:"Country",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Level"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("select",{value:B.interests,onChange:F=>X({...B,interests:F.target.value}),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200 appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select Interest Level"}),s.jsx("option",{value:"Hot",children:"Hot"}),s.jsx("option",{value:"Warm",children:"Warm"}),s.jsx("option",{value:"Cold",children:"Cold"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(Xi,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xs,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",value:B.follow_up_date,onChange:F=>X({...B,follow_up_date:F.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(At,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{value:B.notes,onChange:F=>X({...B,notes:F.target.value}),rows:4,placeholder:"Detailed notes about this lead interaction...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200 resize-none"})]})]})]}),n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsxs("select",{value:U,onChange:F=>z(F.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select a company"}),T.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>{h(!1),z(""),X({full_name:"",email:"",phone:"",organization:"",designation:"",city:"",country:"",interests:"",notes:"",follow_up_date:""}),C(""),S(null)},className:"btn btn-secondary",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:w,className:"btn btn-primary",children:[w?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,"Create"]})]})]})]})})]})}),D&&O&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>q(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Lead"}),s.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(Sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:Me,className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Visitor Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Qt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",required:!0,value:O.visitor_name||"",onChange:F=>I({...O,visitor_name:F.target.value}),placeholder:"Full name",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",required:!0,value:O.visitor_email||"",onChange:F=>I({...O,visitor_email:F.target.value}),placeholder:"Email address",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(sr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"tel",value:O.visitor_phone||"",onChange:F=>I({...O,visitor_phone:F.target.value}),placeholder:"Phone number",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ae,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:O.visitor_organization||O.organization||"",onChange:F=>I({...O,visitor_organization:F.target.value}),placeholder:"Organization",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(eo,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:O.visitor_designation||O.designation||"",onChange:F=>I({...O,visitor_designation:F.target.value}),placeholder:"Designation",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Zi,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:O.visitor_city||O.city||"",onChange:F=>I({...O,visitor_city:F.target.value}),placeholder:"City",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Xd,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:O.visitor_country||O.country||"",onChange:F=>I({...O,visitor_country:F.target.value}),placeholder:"Country",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Level"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("select",{value:O.interests||"",onChange:F=>I({...O,interests:F.target.value}),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200 appearance-none bg-white",children:[s.jsx("option",{value:"",children:"Select Interest Level"}),s.jsx("option",{value:"Hot",children:"Hot"}),s.jsx("option",{value:"Warm",children:"Warm"}),s.jsx("option",{value:"Cold",children:"Cold"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(Xi,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xs,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",value:O.follow_up_date||"",onChange:F=>I({...O,follow_up_date:F.target.value}),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:s.jsx(At,{className:"h-5 w-5 text-gray-400"})}),s.jsx("textarea",{value:O.notes||"",onChange:F=>I({...O,notes:F.target.value}),rows:4,placeholder:"Detailed notes about this lead interaction...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors duration-200 resize-none"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>q(!1),className:"inline-flex items-center px-4 py-3 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:w,className:"inline-flex items-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[w?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,"Update Lead"]})]})]})]})})]})})]})},av=()=>{ve();const{showSuccess:e,showError:t}=Ee(),[n,r]=y.useState(""),[a,l]=y.useState("all"),[i,o]=y.useState(1),[c,d]=y.useState(!0),[u,p]=y.useState([]),[x,b]=y.useState({}),[g,k]=y.useState(!1),[v,f]=y.useState(!1),[m,h]=y.useState(!1),[w,_]=y.useState(null),[T,N]=y.useState([]),[A,P]=y.useState({full_name:"",email:"",phone:"",password:"",company_id:"",role:"company_admin"});y.useEffect(()=>{z(),U()},[i,n,a]);const U=async()=>{var C;try{const E=await Ne.getCompanies();if(console.log("Companies response:",E),console.log("Companies data:",E.companies),console.log("Companies length:",(C=E.companies)==null?void 0:C.length),E.companies&&E.companies.length>0){const S=E.companies.map(j=>j.id),L=[...new Set(S)];S.length!==L.length&&console.warn("Duplicate company IDs found:",S)}N(E.companies||[])}catch(E){console.error("Error fetching companies:",E),N([])}},z=async()=>{var C;try{d(!0);const E={page:i,search:n||void 0,company_id:a!=="all"?a:void 0},S=await Kl.getCompanyAdmins(E);console.log("Full API response:",S),console.log("Response keys:",Object.keys(S)),console.log("Company admins response:",S.company_admins),console.log("Company admins data:",S.company_admins),console.log("Company admins length:",(C=S.company_admins)==null?void 0:C.length);let L=[];Array.isArray(S)?(L=S,console.log("Response is directly an array")):S.company_admins&&Array.isArray(S.company_admins)?(L=S.company_admins,console.log("Using company_admins field")):S.admins&&Array.isArray(S.admins)?(L=S.admins,console.log("Using admins field")):S.data&&Array.isArray(S.data)?(L=S.data,console.log("Using data field")):console.log("No valid array found in response"),console.log("Final admins data:",L),console.log("Admins data type:",typeof L),console.log("Is array?",Array.isArray(L)),console.log("Admins length:",L.length),p(L),b(S.pagination||{})}catch(E){console.error("Error fetching company admins:",E),p([]),b({})}finally{d(!1)}},H=async C=>{var E,S,L,j,D,q;if(C.preventDefault(),!A.full_name.trim()||!A.email.trim()||!A.password.trim()||!A.company_id){t("Please fill in all required fields");return}try{f(!0),console.log("Creating company admin with data:",{full_name:A.full_name,email:A.email,company_id:A.company_id});const O={full_name:A.full_name,email:A.email,password:A.password,company_id:A.company_id};console.log("Full admin data being sent:",O);const I=await Kl.createCompanyAdmin(O);console.log("Company admin creation response:",I),e("Company admin created successfully"),k(!1),P({full_name:"",email:"",phone:"",password:"",company_id:"",role:"company_admin"}),z()}catch(O){console.error("Error creating company admin:",O),console.error("Error response data:",(E=O.response)==null?void 0:E.data),console.error("Error status:",(S=O.response)==null?void 0:S.status),(j=(L=O.response)==null?void 0:L.data)!=null&&j.details&&(console.log("Validation details:",O.response.data.details),O.response.data.details.forEach(($,G)=>{console.log(`Detail ${G}:`,$)}));let I="Failed to create company admin";(D=O.response)!=null&&D.data?O.response.data.details&&Array.isArray(O.response.data.details)?I=O.response.data.details.map($=>$.message||$).join(", "):O.response.data.message?I=O.response.data.message:O.response.data.error&&(I=O.response.data.error):O.message&&(I=O.message),((q=O.response)==null?void 0:q.status)===500&&(I="Server error occurred while creating company admin. This may be a temporary issue or the endpoint may not be fully implemented yet."),t(`Failed to create company admin: ${I}`)}finally{f(!1)}},J=async C=>{var E,S;if(window.confirm("Are you sure you want to delete this company admin? This action cannot be undone."))try{console.log("Attempting to delete company admin with ID:",C),t("Delete functionality is not available for company admins.")}catch(L){console.error("Error deleting company admin:",L);const j=((S=(E=L.response)==null?void 0:E.data)==null?void 0:S.message)||L.message||"Failed to delete company admin";t(`Failed to delete company admin: ${j}`)}},B=C=>{_({id:C.id,full_name:C.full_name,email:C.email,password:"",company_id:C.company_id}),h(!0)},X=async C=>{var E,S,L,j,D,q;if(C.preventDefault(),!w.full_name.trim()||!w.email.trim()||!w.company_id){t("Please fill in all required fields");return}try{f(!0),console.log("Updating company admin with data:",{full_name:w.full_name,email:w.email,company_id:w.company_id});const O={full_name:w.full_name,email:w.email,company_id:w.company_id};w.password.trim()&&(O.password=w.password),console.log("Full admin data being sent for update:",O),await Kl.updateCompanyAdmin(w.id,O),console.log("Company admin update response received"),e("Company admin updated successfully"),h(!1),_(null),z()}catch(O){console.error("Error updating company admin:",O),console.error("Error response data:",(E=O.response)==null?void 0:E.data),console.error("Error status:",(S=O.response)==null?void 0:S.status),(j=(L=O.response)==null?void 0:L.data)!=null&&j.details&&(console.log("Validation details:",O.response.data.details),O.response.data.details.forEach(($,G)=>{console.log(`Detail ${G}:`,$)}));let I="Failed to update company admin";(D=O.response)!=null&&D.data?O.response.data.details&&Array.isArray(O.response.data.details)?I=O.response.data.details.map($=>$.message||$).join(", "):O.response.data.message?I=O.response.data.message:O.response.data.error&&(I=O.response.data.error):O.message&&(I=O.message),((q=O.response)==null?void 0:q.status)===500&&(I="Server error occurred while updating company admin. This may be a temporary issue or the endpoint may not be fully implemented yet."),t(`Failed to update company admin: ${I}`)}finally{f(!1)}},K=C=>{switch(C){case"company_admin":return"bg-blue-100 text-blue-800";case"platform_admin":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Company Admin Management"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage company administrators and their permissions"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{onClick:()=>k(!0),className:"btn btn-primary flex items-center",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Add Company Admin"]})})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search admins"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(Lt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",name:"search",id:"search",value:n,onChange:C=>r(C.target.value),className:"block w-full rounded-lg border border-gray-300 bg-white pl-10 pr-3 py-2 text-gray-900 placeholder:text-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed sm:text-sm",placeholder:"Search by name, email, or company..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-filter",className:"sr-only",children:"Filter by company"}),s.jsxs("select",{id:"company-filter",name:"company-filter",value:a,onChange:C=>l(C.target.value),className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-500 sm:text-sm sm:leading-6",children:[s.jsx("option",{value:"all",children:"All Companies"}),T.map((C,E)=>s.jsx("option",{value:C.id,children:C.name},`filter-${C.id}-${E}`))]})]})]})}),s.jsx("div",{className:"card",children:c?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("p",{className:"ml-3 text-gray-600",children:"Loading company admins..."})]}):u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qt,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No company admins found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n||a!=="all"?"Try adjusting your filters":"Get started by creating a new company admin"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Admin"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Company"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Role"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),s.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Created"}),s.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[console.log("Rendering company admins:",u),u.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:s.jsx(Qt,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.full_name||"Unknown"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",C.id]})]})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:C.email||"N/A"})]}),C.phone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:C.phone})]})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:C.company_name||"N/A"}),s.jsx("div",{className:"text-xs text-gray-500",children:C.company_code||"N/A"})]})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K(C.role)}`,children:[s.jsx(pc,{className:"h-3 w-3 mr-1"}),C.role||"unknown"]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[C.is_active!==void 0&&s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${C.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["Admin: ",C.is_active?"Active":"Inactive"]}),C.company_status&&s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${C.company_status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:["Company: ",C.company_status]})]})}),s.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:C.created_at?new Date(C.created_at).toLocaleDateString():"N/A"}),s.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[s.jsx("button",{onClick:()=>B(C),className:"text-blue-600 hover:text-blue-900 mr-3",title:"Edit Admin",children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>J(C.id),className:"text-red-600 hover:text-red-900",title:"Delete Admin (Note: Delete functionality may not be available)",children:s.jsx(Ln,{className:"h-4 w-4"})})]})]},C.id))]})]})}),s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{className:"btn btn-secondary",children:"Previous"}),s.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:"1"})," to ",s.jsx("span",{className:"font-medium",children:u.length})," of"," ",s.jsx("span",{className:"font-medium",children:x.total||u.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Previous"}),s.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),s.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Next"})]})})]})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>k(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:H,children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Create New Company Admin"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:A.full_name,onChange:C=>P({...A,full_name:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter admin full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:A.email,onChange:C=>P({...A,email:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:A.phone,onChange:C=>P({...A,phone:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),s.jsx("input",{type:"password",required:!0,value:A.password,onChange:C=>P({...A,password:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{required:!0,value:A.company_id,onChange:C=>P({...A,company_id:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),T.map((C,E)=>s.jsx("option",{value:C.id,children:C.name},`create-${C.id}-${E}`))]})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:v?"Creating...":"Create Admin"}),s.jsx("button",{type:"button",onClick:()=>k(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),m&&w&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>h(!1),children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:X,children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Edit Company Admin"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:w.full_name,onChange:C=>_({...w,full_name:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter admin full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:w.email,onChange:C=>_({...w,email:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:w.phone,onChange:C=>_({...w,phone:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),s.jsx("input",{type:"password",value:w.password,onChange:C=>_({...w,password:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Leave blank to keep current password"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to keep current password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{required:!0,value:w.company_id,onChange:C=>_({...w,company_id:C.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),T.map((C,E)=>s.jsx("option",{value:C.id,children:C.name},`edit-${C.id}-${E}`))]})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:v?"Updating...":"Update Admin"}),s.jsx("button",{type:"button",onClick:()=>h(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},lv=()=>{const{user:e,companyId:t,isPlatformAdmin:n}=ve(),{showSuccess:r,showError:a}=Ee(),[l,i]=y.useState("profile"),[o,c]=y.useState({}),[d,u]=y.useState(!1),[p,x]=y.useState(null),[b,g]=y.useState(null);y.useEffect(()=>{l==="company-profile"&&t&&k(),l==="profile"&&e&&g({full_name:e.full_name||"",email:e.email||"",phone:e.phone||""})},[l,t,e]);const k=async()=>{try{u(!0);const P=await Ne.getCompanies({company_id:t});P.companies&&P.companies.length>0&&x(P.companies[0])}catch{a("Failed to fetch company data")}finally{u(!1)}},v=async P=>{P.preventDefault();const U=to(p,so.company);if(Object.keys(U).length>0){c(U);return}try{u(!0),await Ne.updateCompany(p.id,p),r("Company profile updated successfully"),c({})}catch{a("Failed to update company profile")}finally{u(!1)}},f=async P=>{P.preventDefault();const U=to(b,so.user);if(Object.keys(U).length>0){c(U);return}try{u(!0),await Et.updateUser(e.id,b),r("Profile updated successfully"),c({})}catch{a("Failed to update profile")}finally{u(!1)}},m=[{id:"profile",name:"Profile",icon:Ae},{id:"company-profile",name:"Company Profile",icon:Ae},{id:"registration-fields",name:"Registration Fields",icon:At},{id:"consent-editor",name:"Consent Editor",icon:Jd},{id:"qr-settings",name:"QR Settings",icon:nr}],h=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile Settings"})}),s.jsxs("form",{onSubmit:f,className:"px-4 py-5 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{type:"text",value:(b==null?void 0:b.full_name)||"",onChange:P=>g({...b,full_name:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),o.full_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",value:(b==null?void 0:b.email)||"",disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 bg-gray-50 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:(b==null?void 0:b.phone)||"",onChange:P=>g({...b,phone:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),o.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary disabled:opacity-50",children:d?"Updating...":"Update Profile"})})]})]}),w=()=>t?d&&!p?s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})}):s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Company Profile"})}),s.jsxs("form",{onSubmit:v,className:"px-4 py-5 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsx("input",{type:"text",value:(p==null?void 0:p.name)||"",onChange:P=>x({...p,name:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",value:(p==null?void 0:p.company_code)||"",disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 bg-gray-50 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",value:(p==null?void 0:p.email)||"",onChange:P=>x({...p,email:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:(p==null?void 0:p.phone)||"",onChange:P=>x({...p,phone:P.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("textarea",{value:(p==null?void 0:p.address)||"",onChange:P=>x({...p,address:P.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("button",{type:"button",onClick:k,className:"btn btn-secondary",children:[s.jsx(Wp,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary disabled:opacity-50",children:d?"Updating...":"Update Company"})]})]})]}):s.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[s.jsx(Ae,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Company Profile"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This tab is only available for company admins"})]}),_=()=>s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(At,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Registration Fields"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Customize the fields shown during visitor registration"}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"btn btn-secondary",children:"Configure Fields"})})]})}),T=()=>s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jd,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Consent Editor"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage privacy consent and data collection policies"}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"btn btn-secondary",children:"Edit Consent"})})]})}),N=()=>s.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(nr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"QR Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure QR code generation and display settings"}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"btn btn-secondary",children:"Configure QR"})})]})}),A=()=>{switch(l){case"profile":return h();case"company-profile":return w();case"registration-fields":return _();case"consent-editor":return T();case"qr-settings":return N();default:return h()}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account settings and preferences"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-4 sm:px-6","aria-label":"Tabs",children:m.map(P=>s.jsxs("button",{onClick:()=>i(P.id),className:`${l===P.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[s.jsx(P.icon,{className:"h-5 w-5 mr-2"}),P.name]},P.id))})}),A()]})]})},Yd=()=>{Ft();const{user:e,companyId:t,isCompanyAdmin:n}=ve(),{showSuccess:r,showError:a}=Ee(),[l,i]=y.useState(""),[o,c]=y.useState(n?"employee":"all"),[d,u]=y.useState("all"),[p,x]=y.useState(1),[b,g]=y.useState(!0),[k,v]=y.useState([]),[f,m]=y.useState({}),[h,w]=y.useState(!1),[_,T]=y.useState(!1),[N,A]=y.useState(null),[P,U]=y.useState(!1),[z,H]=y.useState({full_name:"",email:"",phone:"",password:""});y.useEffect(()=>{J()},[p,l,o,d,t]);const J=async()=>{try{g(!0);const j={page:p,search:l||void 0,role:o!=="all"?o:void 0,status:d!=="all"?d:void 0,company_id:t},D=await Et.getUsers(j);console.log("Employees API Response:",D),D&&D.users?(v(D.users),m(D.pagination||{})):Array.isArray(D)?v(D):v([])}catch(j){console.error("Error fetching employees:",j),a("Failed to fetch employees"),v([])}finally{g(!1)}},B=async j=>{var D,q,O,I,$,G,W,ne,Le;if(j.preventDefault(),!((D=z.full_name)!=null&&D.trim())||!((q=z.email)!=null&&q.trim())){a("Please fill in all required fields");return}try{U(!0);const pe={full_name:z.full_name,email:z.email,phone:z.phone,password:z.password,role:"employee",company_id:t};console.log("Creating employee with data:",pe),console.log("Company ID:",t);const Me=await Et.createUser(pe);console.log("Create employee response:",Me),r("Employee created successfully"),w(!1),H({full_name:"",email:"",phone:"",password:""}),J()}catch(pe){console.error("Error creating employee:",pe),console.error("Error response:",(O=pe.response)==null?void 0:O.data),console.error("Error status:",(I=pe.response)==null?void 0:I.status),console.error("Error headers:",($=pe.response)==null?void 0:$.headers);const Me=((W=(G=pe.response)==null?void 0:G.data)==null?void 0:W.message)||((Le=(ne=pe.response)==null?void 0:ne.data)==null?void 0:Le.error)||"Failed to create employee";a(Me)}finally{U(!1)}},X=async j=>{var D,q,O,I,$,G,W,ne,Le,pe,Me;if(j.preventDefault(),!((D=N.full_name)!=null&&D.trim())||!((q=N.email)!=null&&q.trim())){a("Please fill in all required fields");return}try{U(!0);const je={full_name:N.full_name,email:N.email,phone:N.phone,role:N.role,is_active:N.status==="active"};console.log("Updating employee with data:",je),console.log("Original selectedEmployee:",N);const Jt=await Et.updateUser(N.id,je);console.log("Update employee response:",Jt),r("Employee updated successfully"),T(!1),A(null),J()}catch(je){console.error("Error updating employee:",je),console.log("Error status:",(O=je.response)==null?void 0:O.status),console.log("Error data:",(I=je.response)==null?void 0:I.data),((G=($=je.response)==null?void 0:$.data)==null?void 0:G.error)==="Insufficient permissions"?a("You do not have permission to update employees. Please contact your system administrator."):((ne=(W=je.response)==null?void 0:W.data)==null?void 0:ne.error)==="Validation failed"?a("Unable to update employee due to validation errors. Please check all fields and try again."):((pe=(Le=je.response)==null?void 0:Le.data)==null?void 0:pe.error)==="Route not found"?a("Update functionality is not available for company admins. Employee management modifications require platform admin access."):((Me=je.response)==null?void 0:Me.status)===404?a("Employee update endpoints are not available. Please contact your system administrator for employee modifications."):a("Failed to update employee")}finally{U(!1)}},K=async j=>{var D,q,O,I,$,G;if(confirm(`Are you sure you want to deactivate ${j.full_name}? This will deactivate their account and they will no longer be able to access the system.`))try{await Et.deactivateUser(j.id),r("Employee deactivated successfully"),J()}catch(W){console.error("Error deactivating employee:",W),((q=(D=W.response)==null?void 0:D.data)==null?void 0:q.error)==="Insufficient permissions"?a("You do not have permission to deactivate employees. Please contact your system administrator."):((I=(O=W.response)==null?void 0:O.data)==null?void 0:I.error)==="Validation failed"?a("Unable to deactivate employee due to validation errors. Please try again."):((G=($=W.response)==null?void 0:$.data)==null?void 0:G.error)==="Route not found"?a("Deactivate functionality is not available. Please contact your system administrator for employee deactivation."):a(W.message||"Failed to deactivate employee")}},C=j=>j===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",E=j=>{switch(j){case"company_admin":return"bg-purple-100 text-purple-800";case"employee":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=j=>{const D={...j,status:j.is_active===!0?"active":"inactive"};A(D),T(!0)},L=j=>{x(j)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Employee Management"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your company employees and their access"})]}),s.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s.jsxs("button",{onClick:()=>w(!0),className:"btn btn-primary flex items-center",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Add Employee"]})})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search employees...",value:l,onChange:j=>i(j.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),!n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"company_admin",children:"Company Admin"}),s.jsx("option",{value:"employee",children:"Employee"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:d,onChange:j=>u(j.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):k.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No employees found"})}):k.map(j=>{var D,q;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:s.jsx(gt,{className:"h-6 w-6 text-primary-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.full_name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",(D=j.id)==null?void 0:D.substring(0,8),"..."]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:j.email}),s.jsx("div",{className:"text-sm text-gray-500",children:j.phone||j.mobile||j.phone_number||j.contact||"No phone"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(j.role)}`,children:((q=j.role)==null?void 0:q.replace("_"," "))||"Unknown"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.company_name}),s.jsx("div",{className:"text-gray-500",children:j.company_code})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(j.is_active)}`,children:j.is_active===!0?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex space-x-2",children:j.role==="employee"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>S(j),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>K(j),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(Ln,{className:"h-4 w-4"})})]})})})]},j.id)})})]})}),f.total_pages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>L(p-1),disabled:p<=1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>L(p+1),disabled:p>=f.total_pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(p-1)*(f.per_page||10)+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(p*(f.per_page||10),f.total||0)})," ","of ",s.jsx("span",{className:"font-medium",children:f.total||0})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>L(p-1),disabled:p<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:f.total_pages},(j,D)=>D+1).map(j=>s.jsx("button",{onClick:()=>L(j),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${p===j?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:j},j)),s.jsx("button",{onClick:()=>L(p+1),disabled:p>=f.total_pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),h&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>w(!1)})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:B,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Employee"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a new employee account for your company"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:z.full_name,onChange:j=>H({...z,full_name:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:z.email,onChange:j=>H({...z,email:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number *"}),s.jsx("input",{type:"tel",required:!0,value:z.phone,onChange:j=>H({...z,phone:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter mobile number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),s.jsx("input",{type:"password",required:!0,value:z.password,onChange:j=>H({...z,password:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter password"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:P,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:P?"Creating...":"Create Employee"}),s.jsx("button",{type:"button",onClick:()=>w(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),_&&N&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>T(!1)})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:X,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Employee"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update employee information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:N.full_name,onChange:j=>A({...N,full_name:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:N.email,onChange:j=>A({...N,email:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:N.phone,onChange:j=>A({...N,phone:j.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:P,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:P?"Updating...":"Update Employee"}),s.jsx("button",{type:"button",onClick:()=>T(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},iv=()=>{Ft();const{user:e}=ve(),{showSuccess:t,showError:n}=Ee(),[r,a]=y.useState([]),[l,i]=y.useState([]),[o,c]=y.useState(!0),[d,u]=y.useState(""),[p,x]=y.useState("all"),[b,g]=y.useState("all"),[k,v]=y.useState(""),[f,m]=y.useState(!1),[h,w]=y.useState(!1),[_,T]=y.useState(null),[N,A]=y.useState(!1),[P,U]=y.useState({full_name:"",email:"",phone:"",password:"",role:"employee",company_id:""}),z=async()=>{try{const S=await Ne.getCompanies();i(S.companies||[])}catch(S){console.error("Error fetching companies:",S),n("Failed to fetch companies")}},H=async()=>{try{c(!0);const S={};d&&(S.search=d),p!=="all"&&(S.role=p),b!=="all"&&(S.is_active=b==="active"),k&&(S.company_id=k);const L=await Et.getUsers(S);a(L.users||[])}catch(S){console.error("Error fetching users:",S),n("Failed to fetch users")}finally{c(!1)}};y.useEffect(()=>{H(),z()},[d,p,b,k]);const J=async S=>{S.preventDefault(),A(!0);try{await Et.createUser(P),t("User created successfully"),m(!1),U({full_name:"",email:"",phone:"",password:"",role:"employee",company_id:""}),H()}catch(L){console.error("Error creating user:",L),n("Failed to create user")}finally{A(!1)}},B=async S=>{S.preventDefault(),A(!0);try{const L={full_name:_.full_name,email:_.email,phone:_.phone,role:_.role};await Et.updateUser(_.id,L),t("User updated successfully"),w(!1),T(null),H()}catch(L){console.error("Error updating user:",L),n("Failed to update user")}finally{A(!1)}},X=S=>{T(S),w(!0)},K=async S=>{if(confirm(`Are you sure you want to delete ${S.full_name}? This will deactivate their account and they will no longer be able to access the system.`))try{await Et.deactivateUser(S.id),t("User deactivated successfully"),H()}catch(L){console.error("Error deactivating user:",L),n(L.message||"Failed to deactivate user")}},C=S=>{switch(S){case"platform_admin":return"bg-purple-100 text-purple-800";case"company_admin":return"bg-blue-100 text-blue-800";case"employee":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},E=S=>S===!0?"bg-green-100 text-green-800":S===!1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800";return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage all users in the system"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Lt,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:S=>u(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})}),s.jsx("div",{children:s.jsxs("select",{value:p,onChange:S=>x(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"platform_admin",children:"Platform Admin"}),s.jsx("option",{value:"company_admin",children:"Company Admin"}),s.jsx("option",{value:"employee",children:"Employee"})]})}),s.jsx("div",{children:s.jsxs("select",{value:b,onChange:S=>g(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})}),(e==null?void 0:e.role)==="platform_admin"&&s.jsx("div",{children:s.jsxs("select",{value:k,onChange:S=>v(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"All Companies"}),l.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})})]})}),s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500",children:"No users found"})}):r.map(S=>{var L,j,D;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-medium",children:((j=(L=S.full_name)==null?void 0:L.charAt(0))==null?void 0:j.toUpperCase())||"U"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.full_name}),s.jsx("div",{className:"text-sm text-gray-500",children:S.email}),s.jsx("div",{className:"text-sm text-gray-500",children:S.phone})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.company_name})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(S.role)}`,children:((D=S.role)==null?void 0:D.replace("_"," ").toUpperCase())||"USER"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(S.is_active)}`,children:S.is_active===!0?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>X(S),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>K(S),className:"text-red-600 hover:text-red-900",title:"Deactivate",children:s.jsx(Ln,{className:"h-4 w-4"})})]})})]},S.id)})})]})})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>m(!1)})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:J,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New User"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add a new user to the system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:P.full_name,onChange:S=>U({...P,full_name:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:P.email,onChange:S=>U({...P,email:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter email"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:P.phone,onChange:S=>U({...P,phone:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),s.jsx("input",{type:"password",required:!0,value:P.password,onChange:S=>U({...P,password:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter password"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),s.jsxs("select",{required:!0,value:P.role,onChange:S=>U({...P,role:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[s.jsx("option",{value:"employee",children:"Employee"}),s.jsx("option",{value:"company_admin",children:"Company Admin"}),s.jsx("option",{value:"platform_admin",children:"Platform Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company ID"}),s.jsx("input",{type:"text",value:P.company_id,onChange:S=>U({...P,company_id:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter company ID (optional)"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:N,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:N?"Creating...":"Create User"}),s.jsx("button",{type:"button",onClick:()=>m(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),h&&_&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>w(!1)})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:B,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit User"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update user information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",required:!0,value:_.full_name,onChange:S=>T({..._,full_name:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",required:!0,value:_.email,onChange:S=>T({..._,email:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:_.phone,onChange:S=>T({..._,phone:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),s.jsxs("select",{required:!0,value:_.role,onChange:S=>T({..._,role:S.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[s.jsx("option",{value:"employee",children:"Employee"}),s.jsx("option",{value:"company_admin",children:"Company Admin"}),s.jsx("option",{value:"platform_admin",children:"Platform Admin"})]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:N,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:N?"Updating...":"Update User"}),s.jsx("button",{type:"button",onClick:()=>w(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})},ov=()=>{var f,m,h,w,_,T,N,A,P,U,z,H,J,B,X,K,C,E,S,L,j,D,q,O;const{companyId:e}=ve(),{showSuccess:t,showError:n}=Ee(),[r,a]=y.useState(!0),[l,i]=y.useState(null),[o,c]=y.useState("30days"),[d,u]=y.useState("overview");y.useEffect(()=>{p()},[e,o,d]);const p=async()=>{try{a(!0);const[I,$,G]=await Promise.all([uc.getCompany(e),Et.getUsers({company_id:e}),Ss.getLeads({company_id:e})]);console.log("Dashboard data:",I),console.log("Users data:",$),console.log("Leads data:",G);const W=x(I,$,G);i(W)}catch(I){console.error("Error fetching analytics data:",I),n("Failed to load analytics data")}finally{a(!1)}},x=(I,$,G)=>{var pe,Me,je;const W=($==null?void 0:$.users)||[],ne=(G==null?void 0:G.leads)||[],Le=I||{};return{overview:{totalLeads:((pe=G==null?void 0:G.pagination)==null?void 0:pe.total_records)||ne.length,activeLeads:ne.filter(Jt=>Jt.status==="active"||Jt.is_active!==!1).length,conversionRate:((Me=Le.leads)==null?void 0:Me.conversion_rate)||0,totalEmployees:((je=$==null?void 0:$.pagination)==null?void 0:je.total_records)||W.length,activeEmployees:W.filter(Jt=>Jt.is_active).length},trends:{leadsGrowth:b(ne),employeeGrowth:b(W),monthlyData:[]},performance:{topPerformers:g(W),leadSources:k(ne),conversionByMonth:[]}}},b=I=>{if(I.length<2)return{percentage:0,trend:"stable"};const $=new Date,G=new Date($.getTime()-30*24*60*60*1e3),W=new Date($.getTime()-60*24*60*60*1e3),ne=I.filter(Me=>new Date(Me.created_at)>=G).length,Le=I.filter(Me=>{const je=new Date(Me.created_at);return je>=W&&je<G}).length;if(Le===0)return{percentage:ne>0?100:0,trend:ne>0?"up":"stable"};const pe=(ne-Le)/Le*100;return{percentage:Math.abs(pe).toFixed(1),trend:pe>0?"up":pe<0?"down":"stable"}},g=I=>I.filter($=>$.is_active).slice(0,5).map($=>({name:$.full_name,role:$.role,email:$.email,performance:0})),k=I=>{if(!I||I.length===0)return[];const $={};return I.forEach(G=>{const W=G.visitor_organization||G.organization||G.visitor_city||G.city||"Unknown Organization";$[W]=($[W]||0)+1}),Object.entries($).map(([G,W])=>({source:G,count:W,percentage:I.length>0?(W/I.length*100).toFixed(1):0})).sort((G,W)=>W.count-G.count).slice(0,10)},v=({title:I,value:$,icon:G,change:W,changeType:ne,color:Le="blue"})=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:I}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$}),W&&s.jsxs("div",{className:`flex items-center mt-2 text-sm ${ne==="up"?"text-green-600":ne==="down"?"text-red-600":"text-gray-600"}`,children:[ne==="up"&&s.jsx(wg,{className:"h-4 w-4 mr-1"}),ne==="down"&&s.jsx(jg,{className:"h-4 w-4 mr-1"}),W,"% from last period"]})]}),s.jsx("div",{className:`p-3 rounded-full bg-${Le}-100`,children:s.jsx(G,{className:`h-6 w-6 text-${Le}-600`})})]})});return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor your company's performance and metrics"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(v,{title:"Total Leads",value:((f=l==null?void 0:l.overview)==null?void 0:f.totalLeads)||0,icon:Tt,change:(h=(m=l==null?void 0:l.trends)==null?void 0:m.leadsGrowth)==null?void 0:h.percentage,changeType:(_=(w=l==null?void 0:l.trends)==null?void 0:w.leadsGrowth)==null?void 0:_.trend,color:"blue"}),s.jsx(v,{title:"Active Leads",value:((T=l==null?void 0:l.overview)==null?void 0:T.activeLeads)||0,icon:kn,color:"green"}),s.jsx(v,{title:"Total Employees",value:((N=l==null?void 0:l.overview)==null?void 0:N.totalEmployees)||0,icon:gt,change:(P=(A=l==null?void 0:l.trends)==null?void 0:A.employeeGrowth)==null?void 0:P.percentage,changeType:(z=(U=l==null?void 0:l.trends)==null?void 0:U.employeeGrowth)==null?void 0:z.trend,color:"purple"}),s.jsx(v,{title:"Conversion Rate",value:`${((H=l==null?void 0:l.overview)==null?void 0:H.conversionRate)||0}%`,icon:Or,color:"orange"})]}),(((B=(J=l==null?void 0:l.performance)==null?void 0:J.leadSources)==null?void 0:B.length)>0||((K=(X=l==null?void 0:l.performance)==null?void 0:X.topPerformers)==null?void 0:K.length)>0)&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[((E=(C=l==null?void 0:l.performance)==null?void 0:C.leadSources)==null?void 0:E.length)>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Organizations"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Leads grouped by organization or location"}),s.jsx("div",{className:"space-y-3",children:l.performance.leadSources.map((I,$)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:I.source}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${I.percentage}%`}})}),s.jsx("span",{className:"text-sm text-gray-600",children:I.count})]})]},$))})]}),((L=(S=l==null?void 0:l.performance)==null?void 0:S.topPerformers)==null?void 0:L.length)>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Employees"}),s.jsx("div",{className:"space-y-3",children:l.performance.topPerformers.map((I,$)=>{var G;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),s.jsx("div",{className:"text-xs text-gray-500",children:I.email})]}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:(G=I.role)==null?void 0:G.replace("_"," ")})]},$)})})]})]}),!((D=(j=l==null?void 0:l.performance)==null?void 0:j.leadSources)!=null&&D.length)&&!((O=(q=l==null?void 0:l.performance)==null?void 0:q.topPerformers)!=null&&O.length)&&s.jsx("div",{className:"bg-white rounded-lg shadow p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Data Available"}),s.jsx("p",{className:"text-gray-500",children:"Analytics data will appear here once you have leads and employees in your system."})]})})]})},Zd=({isMobile:e=!1,onClose:t=null})=>{const{isPlatformAdmin:n,isCompanyAdmin:r}=ve(),l=[{name:"Dashboard",href:"/dashboard",icon:Ag,current:!1,roles:["platform_admin","company_admin"]},{name:"Companies",href:"/companies",icon:Ae,current:!1,roles:["platform_admin"]},{name:"Users",href:"/users",icon:Tt,current:!1,roles:["platform_admin"]},{name:"Leads",href:"/leads",icon:Tt,current:!1,roles:["platform_admin","company_admin"]},{name:"Visitors",href:"/visitors",icon:Bs,current:!1,roles:["platform_admin"]},{name:"Employees",href:"/employees",icon:fc,current:!1,roles:["company_admin"]},{name:"Analytics",href:"/analytics",icon:fn,current:!1,roles:["company_admin"]},{name:"Company Admin",href:"/company-admin",icon:gt,current:!1,roles:["platform_admin"]},{name:"Company Analytics",href:"/company-analytics",icon:fn,current:!1,roles:["platform_admin"]}].filter(i=>n?i.roles.includes("platform_admin"):r?i.roles.includes("company_admin"):!1);return s.jsx("div",{className:e?"flex flex-col":"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:s.jsxs("div",{className:`flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4 ${e?"pt-6":"shadow-sm border-r border-gray-200"}`,children:[s.jsxs("div",{className:"flex h-16 shrink-0 items-center",children:[e&&t&&s.jsxs("button",{type:"button",className:"mr-2 rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500",onClick:t,children:[s.jsx("span",{className:"sr-only",children:"Close sidebar"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary-600 flex items-center justify-center",children:s.jsx(fn,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpoLead"})]})]}),s.jsx("nav",{className:"flex flex-1 flex-col",children:s.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:s.jsx("li",{children:s.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:l.map(i=>s.jsx("li",{children:s.jsxs(P0,{to:i.href,onClick:e?t:void 0,className:({isActive:o})=>`group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium transition-colors ${o?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:text-primary-700 hover:bg-gray-50"}`,children:[s.jsx(i.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),i.name]})},i.name))})})})})]})})},cv=({onMobileMenuToggle:e,isMobileMenuOpen:t})=>{const{user:n,logout:r}=ve(),[a,l]=y.useState(!1),i=y.useRef(null);y.useEffect(()=>{const c=d=>{i.current&&!i.current.contains(d.target)&&l(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const o=()=>{l(!1),r()};return s.jsx("header",{className:"sticky top-0 z-40 bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 justify-between",children:[s.jsxs("div",{className:"flex flex-1 items-center",children:[s.jsx("div",{className:"flex items-center lg:hidden",children:s.jsxs("button",{type:"button",className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700 hover:bg-gray-50 hover:text-gray-900",onClick:e,children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),t?s.jsx(Sn,{className:"h-6 w-6","aria-hidden":"true"}):s.jsx(Og,{className:"h-6 w-6","aria-hidden":"true"})]})}),s.jsx("div",{className:"flex flex-1 justify-center px-2 lg:ml-6 lg:justify-end",children:s.jsxs("div",{className:"w-full max-w-lg lg:max-w-xs",children:[s.jsx("label",{htmlFor:"search-field",className:"sr-only",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(Lt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),s.jsx("input",{id:"search-field",className:"block w-full rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-3 text-gray-900 placeholder:text-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 sm:text-sm sm:leading-6",placeholder:"Search leads, companies...",type:"search",name:"search"})]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{type:"button",className:"rounded-full bg-white p-1.5 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(Ng,{className:"h-5 w-5","aria-hidden":"true"})]}),s.jsxs("div",{className:"relative",ref:i,children:[s.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-3 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-900 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-0",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center",children:s.jsx(Qt,{className:"h-5 w-5 text-white"})})}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(n==null?void 0:n.full_name)||(n==null?void 0:n.name)}),s.jsx("div",{className:"text-xs text-gray-500",children:(n==null?void 0:n.role)==="platform_admin"?"Platform Admin":(n==null?void 0:n.role)==="company_admin"?"Company Admin":"User"})]}),s.jsx(Xi,{className:"h-4 w-4 text-gray-400"})]}),a&&s.jsx("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:s.jsxs("button",{onClick:o,className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[s.jsx(Tg,{className:"mr-2 h-4 w-4"}),"Sign out"]})})]})]})]})})})},dv=({notification:e,onRemove:t})=>{const n=a=>{switch(a){case"success":return s.jsx(gl,{className:"h-5 w-5 text-green-400"});case"error":return s.jsx(pn,{className:"h-5 w-5 text-red-400"});case"warning":return s.jsx(br,{className:"h-5 w-5 text-yellow-400"});case"info":default:return s.jsx(Pg,{className:"h-5 w-5 text-blue-400"})}},r=a=>{const l="flex items-center p-4 mb-4 text-sm rounded-lg shadow-lg transition-all duration-300 ease-in-out";switch(a){case"success":return`${l} bg-green-50 text-green-800 border border-green-200`;case"error":return`${l} bg-red-50 text-red-800 border border-red-200`;case"warning":return`${l} bg-yellow-50 text-yellow-800 border border-yellow-200`;case"info":default:return`${l} bg-blue-50 text-blue-800 border border-blue-200`}};return s.jsxs("div",{className:r(e.type),role:"alert",children:[s.jsxs("div",{className:"flex items-center",children:[n(e.type),s.jsx("div",{className:"ml-3 font-medium",children:e.message})]}),s.jsx("button",{onClick:()=>t(e.id),className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 hover:bg-gray-200 focus:ring-2 focus:ring-gray-300","aria-label":"Close notification",children:s.jsx(Sn,{className:"h-5 w-5"})})]})},uv=()=>{const{notifications:e,removeNotification:t}=Ee();return e.length===0?null:s.jsx("div",{className:"fixed top-20 right-4 z-50 w-96 max-w-sm",children:e.map(n=>s.jsx(dv,{notification:n,onRemove:t},n.id))})},mv=()=>{ve(),$s();const[e,t]=y.useState(!1),n=()=>{t(!e)},r=()=>{t(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e&&s.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:r}),s.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-full overflow-y-auto bg-white px-6 pb-4 shadow-lg sm:max-w-sm sm:ring-1 sm:ring-gray-900/10",children:s.jsx(Zd,{isMobile:!0,onClose:r})})]}),s.jsx(Zd,{}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(cv,{onMobileMenuToggle:n,isMobileMenuOpen:e}),s.jsx("main",{className:"py-6",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsx(h0,{})})})]}),s.jsx(uv,{})]})};const eu=()=>{var t;const{user:e}=ve();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",(t=e==null?void 0:e.role)==null?void 0:t.replace("_"," "),") doesn't allow access to this resource."]}),s.jsx("button",{onClick:()=>window.history.back(),className:"btn btn-primary mr-3",children:"Go Back"}),s.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"btn btn-secondary",children:"Go to Dashboard"})]})})})},He=({children:e,requiredRole:t,allowedRoles:n})=>{const{user:r,loading:a}=ve();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):r?t&&r.role!==t?s.jsx(eu,{}):n&&!n.includes(r.role)?s.jsx(eu,{}):e:s.jsx(nc,{to:"/login",replace:!0})},pv=({platformAdminComponent:e,companyAdminComponent:t,employeeComponent:n})=>{const{isPlatformAdmin:r,isCompanyAdmin:a,isEmployee:l}=ve();return r?e:a?t:l?n:s.jsx("div",{children:"Access Denied"})};function fv(){return s.jsxs(y0,{children:[s.jsx(fe,{path:"/login",element:s.jsx(Ug,{})}),s.jsxs(fe,{path:"/",element:s.jsx(He,{children:s.jsx(mv,{})}),children:[s.jsx(fe,{index:!0,element:s.jsx(nc,{to:"/dashboard",replace:!0})}),s.jsx(fe,{path:"dashboard",element:s.jsx(pv,{platformAdminComponent:s.jsx(Jl,{}),companyAdminComponent:s.jsx(Jl,{}),employeeComponent:s.jsx(Jl,{})})}),s.jsx(fe,{path:"companies",element:s.jsx(He,{requiredRole:"platform_admin",children:s.jsx(Bg,{})})}),s.jsx(fe,{path:"users",element:s.jsx(He,{requiredRole:"platform_admin",children:s.jsx(iv,{})})}),s.jsx(fe,{path:"companies/:id",element:s.jsx(He,{requiredRole:"platform_admin",children:s.jsx(Vg,{})})}),s.jsx(fe,{path:"company-analytics",element:s.jsx(He,{requiredRole:"platform_admin",children:s.jsx(Hg,{})})}),s.jsx(fe,{path:"audit-logs",element:s.jsx(He,{requiredRole:"platform_admin",children:s.jsx(qg,{})})}),s.jsx(fe,{path:"visitors",element:s.jsx(He,{allowedRoles:["platform_admin","company_admin"],children:s.jsx(Wg,{})})}),s.jsx(fe,{path:"visitors/:id",element:s.jsx(He,{allowedRoles:["platform_admin","company_admin"],children:s.jsx(Qg,{})})}),s.jsx(fe,{path:"badge-mapping",element:s.jsx(He,{requiredRole:"company_admin",children:s.jsx(sv,{})})}),s.jsx(fe,{path:"exports",element:s.jsx(He,{requiredRole:"company_admin",children:s.jsx(nv,{})})}),s.jsx(fe,{path:"company-admin",element:s.jsx(He,{requiredRole:"platform_admin",children:s.jsx(av,{})})}),s.jsx(fe,{path:"employees",element:s.jsx(He,{requiredRole:"company_admin",children:s.jsx(Yd,{})})}),s.jsx(fe,{path:"employees/:id",element:s.jsx(He,{requiredRole:"company_admin",children:s.jsx(Yd,{})})}),s.jsx(fe,{path:"analytics",element:s.jsx(He,{requiredRole:"company_admin",children:s.jsx(ov,{})})}),s.jsx(fe,{path:"leads",element:s.jsx(rv,{})}),s.jsx(fe,{path:"leads/:id",element:s.jsx(Gg,{})}),s.jsx(fe,{path:"settings",element:s.jsx(lv,{})})]})]})}function hv(){return s.jsx(Dg,{children:s.jsx(yg,{children:s.jsx(xg,{children:s.jsx(S0,{children:s.jsx(fv,{})})})})})}Xl.createRoot(document.getElementById("root")).render(s.jsx(io.StrictMode,{children:s.jsx(hv,{})}));
